function NC(e,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in e)){const d=Object.getOwnPropertyDescriptor(l,o);d&&Object.defineProperty(e,o,d.get?d:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const d of o)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function r(o){const d={};return o.integrity&&(d.integrity=o.integrity),o.referrerPolicy&&(d.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?d.credentials="include":o.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(o){if(o.ep)return;o.ep=!0;const d=r(o);fetch(o.href,d)}})();function Pb(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ih={exports:{}},yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function wC(){if(Oy)return yo;Oy=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,o,d){var u=null;if(d!==void 0&&(u=""+d),o.key!==void 0&&(u=""+o.key),"key"in o){d={};for(var m in o)m!=="key"&&(d[m]=o[m])}else d=o;return o=d.ref,{$$typeof:e,type:l,key:u,ref:o!==void 0?o:null,props:d}}return yo.Fragment=n,yo.jsx=r,yo.jsxs=r,yo}var zy;function _C(){return zy||(zy=1,ih.exports=wC()),ih.exports}var t=_C(),oh={exports:{}},tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function SC(){if(Py)return tt;Py=1;var e=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),u=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function N(U){return U===null||typeof U!="object"?null:(U=y&&U[y]||U["@@iterator"],typeof U=="function"?U:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_=Object.assign,j={};function b(U,le,K){this.props=U,this.context=le,this.refs=j,this.updater=K||C}b.prototype.isReactComponent={},b.prototype.setState=function(U,le){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,le,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function A(){}A.prototype=b.prototype;function D(U,le,K){this.props=U,this.context=le,this.refs=j,this.updater=K||C}var S=D.prototype=new A;S.constructor=D,_(S,b.prototype),S.isPureReactComponent=!0;var q=Array.isArray,R={H:null,A:null,T:null,S:null,V:null},k=Object.prototype.hasOwnProperty;function $(U,le,K,F,T,re){return K=re.ref,{$$typeof:e,type:U,key:le,ref:K!==void 0?K:null,props:re}}function M(U,le){return $(U.type,le,void 0,void 0,void 0,U.props)}function Q(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function Z(U){var le={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(K){return le[K]})}var z=/\/+/g;function O(U,le){return typeof U=="object"&&U!==null&&U.key!=null?Z(""+U.key):le.toString(36)}function Y(){}function B(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Y,Y):(U.status="pending",U.then(function(le){U.status==="pending"&&(U.status="fulfilled",U.value=le)},function(le){U.status==="pending"&&(U.status="rejected",U.reason=le)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function P(U,le,K,F,T){var re=typeof U;(re==="undefined"||re==="boolean")&&(U=null);var ne=!1;if(U===null)ne=!0;else switch(re){case"bigint":case"string":case"number":ne=!0;break;case"object":switch(U.$$typeof){case e:case n:ne=!0;break;case v:return ne=U._init,P(ne(U._payload),le,K,F,T)}}if(ne)return T=T(U),ne=F===""?"."+O(U,0):F,q(T)?(K="",ne!=null&&(K=ne.replace(z,"$&/")+"/"),P(T,le,K,"",function(ve){return ve})):T!=null&&(Q(T)&&(T=M(T,K+(T.key==null||U&&U.key===T.key?"":(""+T.key).replace(z,"$&/")+"/")+ne)),le.push(T)),1;ne=0;var me=F===""?".":F+":";if(q(U))for(var Ne=0;Ne<U.length;Ne++)F=U[Ne],re=me+O(F,Ne),ne+=P(F,le,K,re,T);else if(Ne=N(U),typeof Ne=="function")for(U=Ne.call(U),Ne=0;!(F=U.next()).done;)F=F.value,re=me+O(F,Ne++),ne+=P(F,le,K,re,T);else if(re==="object"){if(typeof U.then=="function")return P(B(U),le,K,F,T);throw le=String(U),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return ne}function L(U,le,K){if(U==null)return U;var F=[],T=0;return P(U,F,"","",function(re){return le.call(K,re,T++)}),F}function X(U){if(U._status===-1){var le=U._result;le=le(),le.then(function(K){(U._status===0||U._status===-1)&&(U._status=1,U._result=K)},function(K){(U._status===0||U._status===-1)&&(U._status=2,U._result=K)}),U._status===-1&&(U._status=0,U._result=le)}if(U._status===1)return U._result.default;throw U._result}var H=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function ie(){}return tt.Children={map:L,forEach:function(U,le,K){L(U,function(){le.apply(this,arguments)},K)},count:function(U){var le=0;return L(U,function(){le++}),le},toArray:function(U){return L(U,function(le){return le})||[]},only:function(U){if(!Q(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},tt.Component=b,tt.Fragment=r,tt.Profiler=o,tt.PureComponent=D,tt.StrictMode=l,tt.Suspense=g,tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,tt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return R.H.useMemoCache(U)}},tt.cache=function(U){return function(){return U.apply(null,arguments)}},tt.cloneElement=function(U,le,K){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var F=_({},U.props),T=U.key,re=void 0;if(le!=null)for(ne in le.ref!==void 0&&(re=void 0),le.key!==void 0&&(T=""+le.key),le)!k.call(le,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&le.ref===void 0||(F[ne]=le[ne]);var ne=arguments.length-2;if(ne===1)F.children=K;else if(1<ne){for(var me=Array(ne),Ne=0;Ne<ne;Ne++)me[Ne]=arguments[Ne+2];F.children=me}return $(U.type,T,void 0,void 0,re,F)},tt.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:d,_context:U},U},tt.createElement=function(U,le,K){var F,T={},re=null;if(le!=null)for(F in le.key!==void 0&&(re=""+le.key),le)k.call(le,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(T[F]=le[F]);var ne=arguments.length-2;if(ne===1)T.children=K;else if(1<ne){for(var me=Array(ne),Ne=0;Ne<ne;Ne++)me[Ne]=arguments[Ne+2];T.children=me}if(U&&U.defaultProps)for(F in ne=U.defaultProps,ne)T[F]===void 0&&(T[F]=ne[F]);return $(U,re,void 0,void 0,null,T)},tt.createRef=function(){return{current:null}},tt.forwardRef=function(U){return{$$typeof:m,render:U}},tt.isValidElement=Q,tt.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:X}},tt.memo=function(U,le){return{$$typeof:x,type:U,compare:le===void 0?null:le}},tt.startTransition=function(U){var le=R.T,K={};R.T=K;try{var F=U(),T=R.S;T!==null&&T(K,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ie,H)}catch(re){H(re)}finally{R.T=le}},tt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},tt.use=function(U){return R.H.use(U)},tt.useActionState=function(U,le,K){return R.H.useActionState(U,le,K)},tt.useCallback=function(U,le){return R.H.useCallback(U,le)},tt.useContext=function(U){return R.H.useContext(U)},tt.useDebugValue=function(){},tt.useDeferredValue=function(U,le){return R.H.useDeferredValue(U,le)},tt.useEffect=function(U,le,K){var F=R.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(U,le)},tt.useId=function(){return R.H.useId()},tt.useImperativeHandle=function(U,le,K){return R.H.useImperativeHandle(U,le,K)},tt.useInsertionEffect=function(U,le){return R.H.useInsertionEffect(U,le)},tt.useLayoutEffect=function(U,le){return R.H.useLayoutEffect(U,le)},tt.useMemo=function(U,le){return R.H.useMemo(U,le)},tt.useOptimistic=function(U,le){return R.H.useOptimistic(U,le)},tt.useReducer=function(U,le,K){return R.H.useReducer(U,le,K)},tt.useRef=function(U){return R.H.useRef(U)},tt.useState=function(U){return R.H.useState(U)},tt.useSyncExternalStore=function(U,le,K){return R.H.useSyncExternalStore(U,le,K)},tt.useTransition=function(){return R.H.useTransition()},tt.version="19.1.1",tt}var Ly;function ru(){return Ly||(Ly=1,oh.exports=SC()),oh.exports}var p=ru();const Ue=Pb(p),Lb=NC({__proto__:null,default:Ue},[p]);var ch={exports:{}},jo={},dh={exports:{}},uh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function RC(){return qy||(qy=1,(function(e){function n(L,X){var H=L.length;L.push(X);e:for(;0<H;){var ie=H-1>>>1,U=L[ie];if(0<o(U,X))L[ie]=X,L[H]=U,H=ie;else break e}}function r(L){return L.length===0?null:L[0]}function l(L){if(L.length===0)return null;var X=L[0],H=L.pop();if(H!==X){L[0]=H;e:for(var ie=0,U=L.length,le=U>>>1;ie<le;){var K=2*(ie+1)-1,F=L[K],T=K+1,re=L[T];if(0>o(F,H))T<U&&0>o(re,F)?(L[ie]=re,L[T]=H,ie=T):(L[ie]=F,L[K]=H,ie=K);else if(T<U&&0>o(re,H))L[ie]=re,L[T]=H,ie=T;else break e}}return X}function o(L,X){var H=L.sortIndex-X.sortIndex;return H!==0?H:L.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var u=Date,m=u.now();e.unstable_now=function(){return u.now()-m}}var g=[],x=[],v=1,y=null,N=3,C=!1,_=!1,j=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function q(L){for(var X=r(x);X!==null;){if(X.callback===null)l(x);else if(X.startTime<=L)l(x),X.sortIndex=X.expirationTime,n(g,X);else break;X=r(x)}}function R(L){if(j=!1,q(L),!_)if(r(g)!==null)_=!0,k||(k=!0,O());else{var X=r(x);X!==null&&P(R,X.startTime-L)}}var k=!1,$=-1,M=5,Q=-1;function Z(){return b?!0:!(e.unstable_now()-Q<M)}function z(){if(b=!1,k){var L=e.unstable_now();Q=L;var X=!0;try{e:{_=!1,j&&(j=!1,D($),$=-1),C=!0;var H=N;try{t:{for(q(L),y=r(g);y!==null&&!(y.expirationTime>L&&Z());){var ie=y.callback;if(typeof ie=="function"){y.callback=null,N=y.priorityLevel;var U=ie(y.expirationTime<=L);if(L=e.unstable_now(),typeof U=="function"){y.callback=U,q(L),X=!0;break t}y===r(g)&&l(g),q(L)}else l(g);y=r(g)}if(y!==null)X=!0;else{var le=r(x);le!==null&&P(R,le.startTime-L),X=!1}}break e}finally{y=null,N=H,C=!1}X=void 0}}finally{X?O():k=!1}}}var O;if(typeof S=="function")O=function(){S(z)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,B=Y.port2;Y.port1.onmessage=z,O=function(){B.postMessage(null)}}else O=function(){A(z,0)};function P(L,X){$=A(function(){L(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_next=function(L){switch(N){case 1:case 2:case 3:var X=3;break;default:X=N}var H=N;N=X;try{return L()}finally{N=H}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(L,X){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=N;N=L;try{return X()}finally{N=H}},e.unstable_scheduleCallback=function(L,X,H){var ie=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?ie+H:ie):H=ie,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=H+U,L={id:v++,callback:X,priorityLevel:L,startTime:H,expirationTime:U,sortIndex:-1},H>ie?(L.sortIndex=H,n(x,L),r(g)===null&&L===r(x)&&(j?(D($),$=-1):j=!0,P(R,H-ie))):(L.sortIndex=U,n(g,L),_||C||(_=!0,k||(k=!0,O()))),L},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(L){var X=N;return function(){var H=N;N=X;try{return L.apply(this,arguments)}finally{N=H}}}})(uh)),uh}var Uy;function CC(){return Uy||(Uy=1,dh.exports=RC()),dh.exports}var fh={exports:{}},Es={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function AC(){if(Fy)return Es;Fy=1;var e=ru();function n(g){var x="https://react.dev/errors/"+g;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)x+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+g+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function d(g,x,v){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:g,containerInfo:x,implementation:v}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,x){if(g==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return Es.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,Es.createPortal=function(g,x){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(n(299));return d(g,x,null,v)},Es.flushSync=function(g){var x=u.T,v=l.p;try{if(u.T=null,l.p=2,g)return g()}finally{u.T=x,l.p=v,l.d.f()}},Es.preconnect=function(g,x){typeof g=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,l.d.C(g,x))},Es.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},Es.preinit=function(g,x){if(typeof g=="string"&&x&&typeof x.as=="string"){var v=x.as,y=m(v,x.crossOrigin),N=typeof x.integrity=="string"?x.integrity:void 0,C=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;v==="style"?l.d.S(g,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:y,integrity:N,fetchPriority:C}):v==="script"&&l.d.X(g,{crossOrigin:y,integrity:N,fetchPriority:C,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},Es.preinitModule=function(g,x){if(typeof g=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var v=m(x.as,x.crossOrigin);l.d.M(g,{crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&l.d.M(g)},Es.preload=function(g,x){if(typeof g=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var v=x.as,y=m(v,x.crossOrigin);l.d.L(g,v,{crossOrigin:y,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},Es.preloadModule=function(g,x){if(typeof g=="string")if(x){var v=m(x.as,x.crossOrigin);l.d.m(g,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:v,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else l.d.m(g)},Es.requestFormReset=function(g){l.d.r(g)},Es.unstable_batchedUpdates=function(g,x){return g(x)},Es.useFormState=function(g,x,v){return u.H.useFormState(g,x,v)},Es.useFormStatus=function(){return u.H.useHostTransitionStatus()},Es.version="19.1.1",Es}var $y;function qb(){if($y)return fh.exports;$y=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),fh.exports=AC(),fh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function EC(){if(Vy)return jo;Vy=1;var e=CC(),n=ru(),r=qb();function l(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)a+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function d(s){var a=s,i=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(i=a.return),s=a.return;while(s)}return a.tag===3?i:null}function u(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function m(s){if(d(s)!==s)throw Error(l(188))}function g(s){var a=s.alternate;if(!a){if(a=d(s),a===null)throw Error(l(188));return a!==s?null:s}for(var i=s,c=a;;){var f=i.return;if(f===null)break;var h=f.alternate;if(h===null){if(c=f.return,c!==null){i=c;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===i)return m(f),s;if(h===c)return m(f),a;h=h.sibling}throw Error(l(188))}if(i.return!==c.return)i=f,c=h;else{for(var w=!1,E=f.child;E;){if(E===i){w=!0,i=f,c=h;break}if(E===c){w=!0,c=f,i=h;break}E=E.sibling}if(!w){for(E=h.child;E;){if(E===i){w=!0,i=h,c=f;break}if(E===c){w=!0,c=h,i=f;break}E=E.sibling}if(!w)throw Error(l(189))}}if(i.alternate!==c)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?s:a}function x(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=x(s),a!==null)return a;s=s.sibling}return null}var v=Object.assign,y=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),C=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),S=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),Z=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function O(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var Y=Symbol.for("react.client.reference");function B(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===Y?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case _:return"Fragment";case b:return"Profiler";case j:return"StrictMode";case R:return"Suspense";case k:return"SuspenseList";case Q:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case C:return"Portal";case S:return(s.displayName||"Context")+".Provider";case D:return(s._context.displayName||"Context")+".Consumer";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case $:return a=s.displayName||null,a!==null?a:B(s.type)||"Memo";case M:a=s._payload,s=s._init;try{return B(s(a))}catch{}}return null}var P=Array.isArray,L=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},ie=[],U=-1;function le(s){return{current:s}}function K(s){0>U||(s.current=ie[U],ie[U]=null,U--)}function F(s,a){U++,ie[U]=s.current,s.current=a}var T=le(null),re=le(null),ne=le(null),me=le(null);function Ne(s,a){switch(F(ne,a),F(re,s),F(T,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?oy(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=oy(a),s=cy(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}K(T),F(T,s)}function ve(){K(T),K(re),K(ne)}function he(s){s.memoizedState!==null&&F(me,s);var a=T.current,i=cy(a,s.type);a!==i&&(F(re,s),F(T,i))}function ce(s){re.current===s&&(K(T),K(re)),me.current===s&&(K(me),ho._currentValue=H)}var Te=Object.prototype.hasOwnProperty,bt=e.unstable_scheduleCallback,xs=e.unstable_cancelCallback,je=e.unstable_shouldYield,qe=e.unstable_requestPaint,De=e.unstable_now,Jt=e.unstable_getCurrentPriorityLevel,Rs=e.unstable_ImmediatePriority,V=e.unstable_UserBlockingPriority,te=e.unstable_NormalPriority,xe=e.unstable_LowPriority,ke=e.unstable_IdlePriority,Ae=e.log,_e=e.unstable_setDisableYieldValue,$e=null,We=null;function ct(s){if(typeof Ae=="function"&&_e(s),We&&typeof We.setStrictMode=="function")try{We.setStrictMode($e,s)}catch{}}var Ot=Math.clz32?Math.clz32:Yu,rl=Math.log,In=Math.LN2;function Yu(s){return s>>>=0,s===0?32:31-(rl(s)/In|0)|0}var Ma=256,Oa=4194304;function ia(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function vr(s,a,i){var c=s.pendingLanes;if(c===0)return 0;var f=0,h=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var E=c&134217727;return E!==0?(c=E&~h,c!==0?f=ia(c):(w&=E,w!==0?f=ia(w):i||(i=E&~s,i!==0&&(f=ia(i))))):(E=c&~h,E!==0?f=ia(E):w!==0?f=ia(w):i||(i=c&~s,i!==0&&(f=ia(i)))),f===0?0:a!==0&&a!==f&&(a&h)===0&&(h=f&-f,i=a&-a,h>=i||h===32&&(i&4194048)!==0)?a:f}function yr(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function ac(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hx(){var s=Ma;return Ma<<=1,(Ma&4194048)===0&&(Ma=256),s}function Zx(){var s=Oa;return Oa<<=1,(Oa&62914560)===0&&(Oa=4194304),s}function Xu(s){for(var a=[],i=0;31>i;i++)a.push(s);return a}function wi(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function d2(s,a,i,c,f,h){var w=s.pendingLanes;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=i,s.entangledLanes&=i,s.errorRecoveryDisabledLanes&=i,s.shellSuspendCounter=0;var E=s.entanglements,I=s.expirationTimes,ee=s.hiddenUpdates;for(i=w&~i;0<i;){var pe=31-Ot(i),be=1<<pe;E[pe]=0,I[pe]=-1;var se=ee[pe];if(se!==null)for(ee[pe]=null,pe=0;pe<se.length;pe++){var ae=se[pe];ae!==null&&(ae.lane&=-536870913)}i&=~be}c!==0&&Gx(s,c,0),h!==0&&f===0&&s.tag!==0&&(s.suspendedLanes|=h&~(w&~a))}function Gx(s,a,i){s.pendingLanes|=a,s.suspendedLanes&=~a;var c=31-Ot(a);s.entangledLanes|=a,s.entanglements[c]=s.entanglements[c]|1073741824|i&4194090}function Yx(s,a){var i=s.entangledLanes|=a;for(s=s.entanglements;i;){var c=31-Ot(i),f=1<<c;f&a|s[c]&a&&(s[c]|=a),i&=~f}}function Ku(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Qu(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Xx(){var s=X.p;return s!==0?s:(s=window.event,s===void 0?32:Ay(s.type))}function u2(s,a){var i=X.p;try{return X.p=s,a()}finally{X.p=i}}var za=Math.random().toString(36).slice(2),Cs="__reactFiber$"+za,Ps="__reactProps$"+za,ll="__reactContainer$"+za,Wu="__reactEvents$"+za,f2="__reactListeners$"+za,m2="__reactHandles$"+za,Kx="__reactResources$"+za,_i="__reactMarker$"+za;function Ju(s){delete s[Cs],delete s[Ps],delete s[Wu],delete s[f2],delete s[m2]}function il(s){var a=s[Cs];if(a)return a;for(var i=s.parentNode;i;){if(a=i[ll]||i[Cs]){if(i=a.alternate,a.child!==null||i!==null&&i.child!==null)for(s=my(s);s!==null;){if(i=s[Cs])return i;s=my(s)}return a}s=i,i=s.parentNode}return null}function ol(s){if(s=s[Cs]||s[ll]){var a=s.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return s}return null}function Si(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(l(33))}function cl(s){var a=s[Kx];return a||(a=s[Kx]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function gs(s){s[_i]=!0}var Qx=new Set,Wx={};function jr(s,a){dl(s,a),dl(s+"Capture",a)}function dl(s,a){for(Wx[s]=a,s=0;s<a.length;s++)Qx.add(a[s])}var h2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jx={},eg={};function p2(s){return Te.call(eg,s)?!0:Te.call(Jx,s)?!1:h2.test(s)?eg[s]=!0:(Jx[s]=!0,!1)}function rc(s,a,i){if(p2(a))if(i===null)s.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+i)}}function lc(s,a,i){if(i===null)s.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+i)}}function oa(s,a,i,c){if(c===null)s.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(i);return}s.setAttributeNS(a,i,""+c)}}var ef,tg;function ul(s){if(ef===void 0)try{throw Error()}catch(i){var a=i.stack.trim().match(/\n( *(at )?)/);ef=a&&a[1]||"",tg=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ef+s+tg}var tf=!1;function sf(s,a){if(!s||tf)return"";tf=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(ae){var se=ae}Reflect.construct(s,[],be)}else{try{be.call()}catch(ae){se=ae}s.call(be.prototype)}}else{try{throw Error()}catch(ae){se=ae}(be=s())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(ae){if(ae&&se&&typeof ae.stack=="string")return[ae.stack,se.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=c.DetermineComponentFrameRoot(),w=h[0],E=h[1];if(w&&E){var I=w.split(`
`),ee=E.split(`
`);for(f=c=0;c<I.length&&!I[c].includes("DetermineComponentFrameRoot");)c++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(c===I.length||f===ee.length)for(c=I.length-1,f=ee.length-1;1<=c&&0<=f&&I[c]!==ee[f];)f--;for(;1<=c&&0<=f;c--,f--)if(I[c]!==ee[f]){if(c!==1||f!==1)do if(c--,f--,0>f||I[c]!==ee[f]){var pe=`
`+I[c].replace(" at new "," at ");return s.displayName&&pe.includes("<anonymous>")&&(pe=pe.replace("<anonymous>",s.displayName)),pe}while(1<=c&&0<=f);break}}}finally{tf=!1,Error.prepareStackTrace=i}return(i=s?s.displayName||s.name:"")?ul(i):""}function x2(s){switch(s.tag){case 26:case 27:case 5:return ul(s.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 15:return sf(s.type,!1);case 11:return sf(s.type.render,!1);case 1:return sf(s.type,!0);case 31:return ul("Activity");default:return""}}function sg(s){try{var a="";do a+=x2(s),s=s.return;while(s);return a}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function rn(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ng(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function g2(s){var a=ng(s)?"checked":"value",i=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),c=""+s[a];if(!s.hasOwnProperty(a)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var f=i.get,h=i.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return f.call(this)},set:function(w){c=""+w,h.call(this,w)}}),Object.defineProperty(s,a,{enumerable:i.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function ic(s){s._valueTracker||(s._valueTracker=g2(s))}function ag(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var i=a.getValue(),c="";return s&&(c=ng(s)?s.checked?"true":"false":s.value),s=c,s!==i?(a.setValue(s),!0):!1}function oc(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var v2=/[\n"\\]/g;function ln(s){return s.replace(v2,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function nf(s,a,i,c,f,h,w,E){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+rn(a)):s.value!==""+rn(a)&&(s.value=""+rn(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?af(s,w,rn(a)):i!=null?af(s,w,rn(i)):c!=null&&s.removeAttribute("value"),f==null&&h!=null&&(s.defaultChecked=!!h),f!=null&&(s.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.name=""+rn(E):s.removeAttribute("name")}function rg(s,a,i,c,f,h,w,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(s.type=h),a!=null||i!=null){if(!(h!=="submit"&&h!=="reset"||a!=null))return;i=i!=null?""+rn(i):"",a=a!=null?""+rn(a):i,E||a===s.value||(s.value=a),s.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,s.checked=E?s.checked:!!c,s.defaultChecked=!!c,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w)}function af(s,a,i){a==="number"&&oc(s.ownerDocument)===s||s.defaultValue===""+i||(s.defaultValue=""+i)}function fl(s,a,i,c){if(s=s.options,a){a={};for(var f=0;f<i.length;f++)a["$"+i[f]]=!0;for(i=0;i<s.length;i++)f=a.hasOwnProperty("$"+s[i].value),s[i].selected!==f&&(s[i].selected=f),f&&c&&(s[i].defaultSelected=!0)}else{for(i=""+rn(i),a=null,f=0;f<s.length;f++){if(s[f].value===i){s[f].selected=!0,c&&(s[f].defaultSelected=!0);return}a!==null||s[f].disabled||(a=s[f])}a!==null&&(a.selected=!0)}}function lg(s,a,i){if(a!=null&&(a=""+rn(a),a!==s.value&&(s.value=a),i==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=i!=null?""+rn(i):""}function ig(s,a,i,c){if(a==null){if(c!=null){if(i!=null)throw Error(l(92));if(P(c)){if(1<c.length)throw Error(l(93));c=c[0]}i=c}i==null&&(i=""),a=i}i=rn(a),s.defaultValue=i,c=s.textContent,c===i&&c!==""&&c!==null&&(s.value=c)}function ml(s,a){if(a){var i=s.firstChild;if(i&&i===s.lastChild&&i.nodeType===3){i.nodeValue=a;return}}s.textContent=a}var y2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function og(s,a,i){var c=a.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?c?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":c?s.setProperty(a,i):typeof i!="number"||i===0||y2.has(a)?a==="float"?s.cssFloat=i:s[a]=(""+i).trim():s[a]=i+"px"}function cg(s,a,i){if(a!=null&&typeof a!="object")throw Error(l(62));if(s=s.style,i!=null){for(var c in i)!i.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?s.setProperty(c,""):c==="float"?s.cssFloat="":s[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&i[f]!==c&&og(s,f,c)}else for(var h in a)a.hasOwnProperty(h)&&og(s,h,a[h])}function rf(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),b2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function cc(s){return b2.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}var lf=null;function of(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var hl=null,pl=null;function dg(s){var a=ol(s);if(a&&(s=a.stateNode)){var i=s[Ps]||null;e:switch(s=a.stateNode,a.type){case"input":if(nf(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),a=i.name,i.type==="radio"&&a!=null){for(i=s;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+ln(""+a)+'"][type="radio"]'),a=0;a<i.length;a++){var c=i[a];if(c!==s&&c.form===s.form){var f=c[Ps]||null;if(!f)throw Error(l(90));nf(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<i.length;a++)c=i[a],c.form===s.form&&ag(c)}break e;case"textarea":lg(s,i.value,i.defaultValue);break e;case"select":a=i.value,a!=null&&fl(s,!!i.multiple,a,!1)}}}var cf=!1;function ug(s,a,i){if(cf)return s(a,i);cf=!0;try{var c=s(a);return c}finally{if(cf=!1,(hl!==null||pl!==null)&&(Yc(),hl&&(a=hl,s=pl,pl=hl=null,dg(a),s)))for(a=0;a<s.length;a++)dg(s[a])}}function Ri(s,a){var i=s.stateNode;if(i===null)return null;var c=i[Ps]||null;if(c===null)return null;i=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(s=s.type,c=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!c;break e;default:s=!1}if(s)return null;if(i&&typeof i!="function")throw Error(l(231,a,typeof i));return i}var ca=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),df=!1;if(ca)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){df=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{df=!1}var Pa=null,uf=null,dc=null;function fg(){if(dc)return dc;var s,a=uf,i=a.length,c,f="value"in Pa?Pa.value:Pa.textContent,h=f.length;for(s=0;s<i&&a[s]===f[s];s++);var w=i-s;for(c=1;c<=w&&a[i-c]===f[h-c];c++);return dc=f.slice(s,1<c?1-c:void 0)}function uc(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function fc(){return!0}function mg(){return!1}function Ls(s){function a(i,c,f,h,w){this._reactName=i,this._targetInst=f,this.type=c,this.nativeEvent=h,this.target=w,this.currentTarget=null;for(var E in s)s.hasOwnProperty(E)&&(i=s[E],this[E]=i?i(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?fc:mg,this.isPropagationStopped=mg,this}return v(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=fc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=fc)},persist:function(){},isPersistent:fc}),a}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Ls(br),Ai=v({},br,{view:0,detail:0}),N2=Ls(Ai),ff,mf,Ei,hc=v({},Ai,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pf,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ei&&(Ei&&s.type==="mousemove"?(ff=s.screenX-Ei.screenX,mf=s.screenY-Ei.screenY):mf=ff=0,Ei=s),ff)},movementY:function(s){return"movementY"in s?s.movementY:mf}}),hg=Ls(hc),w2=v({},hc,{dataTransfer:0}),_2=Ls(w2),S2=v({},Ai,{relatedTarget:0}),hf=Ls(S2),R2=v({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),C2=Ls(R2),A2=v({},br,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),E2=Ls(A2),T2=v({},br,{data:0}),pg=Ls(T2),D2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},M2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O2(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=M2[s])?!!a[s]:!1}function pf(){return O2}var z2=v({},Ai,{key:function(s){if(s.key){var a=D2[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=uc(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?k2[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pf,charCode:function(s){return s.type==="keypress"?uc(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?uc(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),P2=Ls(z2),L2=v({},hc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xg=Ls(L2),q2=v({},Ai,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pf}),U2=Ls(q2),F2=v({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=Ls(F2),V2=v({},hc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),I2=Ls(V2),B2=v({},br,{newState:0,oldState:0}),H2=Ls(B2),Z2=[9,13,27,32],xf=ca&&"CompositionEvent"in window,Ti=null;ca&&"documentMode"in document&&(Ti=document.documentMode);var G2=ca&&"TextEvent"in window&&!Ti,gg=ca&&(!xf||Ti&&8<Ti&&11>=Ti),vg=" ",yg=!1;function jg(s,a){switch(s){case"keyup":return Z2.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var xl=!1;function Y2(s,a){switch(s){case"compositionend":return bg(a);case"keypress":return a.which!==32?null:(yg=!0,vg);case"textInput":return s=a.data,s===vg&&yg?null:s;default:return null}}function X2(s,a){if(xl)return s==="compositionend"||!xf&&jg(s,a)?(s=fg(),dc=uf=Pa=null,xl=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return gg&&a.locale!=="ko"?null:a.data;default:return null}}var K2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ng(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!K2[s.type]:a==="textarea"}function wg(s,a,i,c){hl?pl?pl.push(c):pl=[c]:hl=c,a=ed(a,"onChange"),0<a.length&&(i=new mc("onChange","change",null,i,c),s.push({event:i,listeners:a}))}var Di=null,ki=null;function Q2(s){ny(s,0)}function pc(s){var a=Si(s);if(ag(a))return s}function _g(s,a){if(s==="change")return a}var Sg=!1;if(ca){var gf;if(ca){var vf="oninput"in document;if(!vf){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),vf=typeof Rg.oninput=="function"}gf=vf}else gf=!1;Sg=gf&&(!document.documentMode||9<document.documentMode)}function Cg(){Di&&(Di.detachEvent("onpropertychange",Ag),ki=Di=null)}function Ag(s){if(s.propertyName==="value"&&pc(ki)){var a=[];wg(a,ki,s,of(s)),ug(Q2,a)}}function W2(s,a,i){s==="focusin"?(Cg(),Di=a,ki=i,Di.attachEvent("onpropertychange",Ag)):s==="focusout"&&Cg()}function J2(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pc(ki)}function eR(s,a){if(s==="click")return pc(a)}function tR(s,a){if(s==="input"||s==="change")return pc(a)}function sR(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Xs=typeof Object.is=="function"?Object.is:sR;function Mi(s,a){if(Xs(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var i=Object.keys(s),c=Object.keys(a);if(i.length!==c.length)return!1;for(c=0;c<i.length;c++){var f=i[c];if(!Te.call(a,f)||!Xs(s[f],a[f]))return!1}return!0}function Eg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Tg(s,a){var i=Eg(s);s=0;for(var c;i;){if(i.nodeType===3){if(c=s+i.textContent.length,s<=a&&c>=a)return{node:i,offset:a-s};s=c}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Eg(i)}}function Dg(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Dg(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function kg(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=oc(s.document);a instanceof s.HTMLIFrameElement;){try{var i=typeof a.contentWindow.location.href=="string"}catch{i=!1}if(i)s=a.contentWindow;else break;a=oc(s.document)}return a}function yf(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var nR=ca&&"documentMode"in document&&11>=document.documentMode,gl=null,jf=null,Oi=null,bf=!1;function Mg(s,a,i){var c=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;bf||gl==null||gl!==oc(c)||(c=gl,"selectionStart"in c&&yf(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Oi&&Mi(Oi,c)||(Oi=c,c=ed(jf,"onSelect"),0<c.length&&(a=new mc("onSelect","select",null,a,i),s.push({event:a,listeners:c}),a.target=gl)))}function Nr(s,a){var i={};return i[s.toLowerCase()]=a.toLowerCase(),i["Webkit"+s]="webkit"+a,i["Moz"+s]="moz"+a,i}var vl={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Nf={},Og={};ca&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function wr(s){if(Nf[s])return Nf[s];if(!vl[s])return s;var a=vl[s],i;for(i in a)if(a.hasOwnProperty(i)&&i in Og)return Nf[s]=a[i];return s}var zg=wr("animationend"),Pg=wr("animationiteration"),Lg=wr("animationstart"),aR=wr("transitionrun"),rR=wr("transitionstart"),lR=wr("transitioncancel"),qg=wr("transitionend"),Ug=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Rn(s,a){Ug.set(s,a),jr(a,[s])}var Fg=new WeakMap;function on(s,a){if(typeof s=="object"&&s!==null){var i=Fg.get(s);return i!==void 0?i:(a={value:s,source:a,stack:sg(a)},Fg.set(s,a),a)}return{value:s,source:a,stack:sg(a)}}var cn=[],yl=0,_f=0;function xc(){for(var s=yl,a=_f=yl=0;a<s;){var i=cn[a];cn[a++]=null;var c=cn[a];cn[a++]=null;var f=cn[a];cn[a++]=null;var h=cn[a];if(cn[a++]=null,c!==null&&f!==null){var w=c.pending;w===null?f.next=f:(f.next=w.next,w.next=f),c.pending=f}h!==0&&$g(i,f,h)}}function gc(s,a,i,c){cn[yl++]=s,cn[yl++]=a,cn[yl++]=i,cn[yl++]=c,_f|=c,s.lanes|=c,s=s.alternate,s!==null&&(s.lanes|=c)}function Sf(s,a,i,c){return gc(s,a,i,c),vc(s)}function jl(s,a){return gc(s,null,null,a),vc(s)}function $g(s,a,i){s.lanes|=i;var c=s.alternate;c!==null&&(c.lanes|=i);for(var f=!1,h=s.return;h!==null;)h.childLanes|=i,c=h.alternate,c!==null&&(c.childLanes|=i),h.tag===22&&(s=h.stateNode,s===null||s._visibility&1||(f=!0)),s=h,h=h.return;return s.tag===3?(h=s.stateNode,f&&a!==null&&(f=31-Ot(i),s=h.hiddenUpdates,c=s[f],c===null?s[f]=[a]:c.push(a),a.lane=i|536870912),h):null}function vc(s){if(50<ro)throw ro=0,Dm=null,Error(l(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var bl={};function iR(s,a,i,c){this.tag=s,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(s,a,i,c){return new iR(s,a,i,c)}function Rf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function da(s,a){var i=s.alternate;return i===null?(i=Ks(s.tag,a,s.key,s.mode),i.elementType=s.elementType,i.type=s.type,i.stateNode=s.stateNode,i.alternate=s,s.alternate=i):(i.pendingProps=a,i.type=s.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=s.flags&65011712,i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,a=s.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},i.sibling=s.sibling,i.index=s.index,i.ref=s.ref,i.refCleanup=s.refCleanup,i}function Vg(s,a){s.flags&=65011714;var i=s.alternate;return i===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,a=i.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function yc(s,a,i,c,f,h){var w=0;if(c=s,typeof s=="function")Rf(s)&&(w=1);else if(typeof s=="string")w=cC(s,i,T.current)?26:s==="html"||s==="head"||s==="body"?27:5;else e:switch(s){case Q:return s=Ks(31,i,a,f),s.elementType=Q,s.lanes=h,s;case _:return _r(i.children,f,h,a);case j:w=8,f|=24;break;case b:return s=Ks(12,i,a,f|2),s.elementType=b,s.lanes=h,s;case R:return s=Ks(13,i,a,f),s.elementType=R,s.lanes=h,s;case k:return s=Ks(19,i,a,f),s.elementType=k,s.lanes=h,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case A:case S:w=10;break e;case D:w=9;break e;case q:w=11;break e;case $:w=14;break e;case M:w=16,c=null;break e}w=29,i=Error(l(130,s===null?"null":typeof s,"")),c=null}return a=Ks(w,i,a,f),a.elementType=s,a.type=c,a.lanes=h,a}function _r(s,a,i,c){return s=Ks(7,s,c,a),s.lanes=i,s}function Cf(s,a,i){return s=Ks(6,s,null,a),s.lanes=i,s}function Af(s,a,i){return a=Ks(4,s.children!==null?s.children:[],s.key,a),a.lanes=i,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Nl=[],wl=0,jc=null,bc=0,dn=[],un=0,Sr=null,ua=1,fa="";function Rr(s,a){Nl[wl++]=bc,Nl[wl++]=jc,jc=s,bc=a}function Ig(s,a,i){dn[un++]=ua,dn[un++]=fa,dn[un++]=Sr,Sr=s;var c=ua;s=fa;var f=32-Ot(c)-1;c&=~(1<<f),i+=1;var h=32-Ot(a)+f;if(30<h){var w=f-f%5;h=(c&(1<<w)-1).toString(32),c>>=w,f-=w,ua=1<<32-Ot(a)+f|i<<f|c,fa=h+s}else ua=1<<h|i<<f|c,fa=s}function Ef(s){s.return!==null&&(Rr(s,1),Ig(s,1,0))}function Tf(s){for(;s===jc;)jc=Nl[--wl],Nl[wl]=null,bc=Nl[--wl],Nl[wl]=null;for(;s===Sr;)Sr=dn[--un],dn[un]=null,fa=dn[--un],dn[un]=null,ua=dn[--un],dn[un]=null}var ks=null,Kt=null,xt=!1,Cr=null,Bn=!1,Df=Error(l(519));function Ar(s){var a=Error(l(418,""));throw Li(on(a,s)),Df}function Bg(s){var a=s.stateNode,i=s.type,c=s.memoizedProps;switch(a[Cs]=s,a[Ps]=c,i){case"dialog":it("cancel",a),it("close",a);break;case"iframe":case"object":case"embed":it("load",a);break;case"video":case"audio":for(i=0;i<io.length;i++)it(io[i],a);break;case"source":it("error",a);break;case"img":case"image":case"link":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"input":it("invalid",a),rg(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ic(a);break;case"select":it("invalid",a);break;case"textarea":it("invalid",a),ig(a,c.value,c.defaultValue,c.children),ic(a)}i=c.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||a.textContent===""+i||c.suppressHydrationWarning===!0||iy(a.textContent,i)?(c.popover!=null&&(it("beforetoggle",a),it("toggle",a)),c.onScroll!=null&&it("scroll",a),c.onScrollEnd!=null&&it("scrollend",a),c.onClick!=null&&(a.onclick=td),a=!0):a=!1,a||Ar(s)}function Hg(s){for(ks=s.return;ks;)switch(ks.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:ks=ks.return}}function zi(s){if(s!==ks)return!1;if(!xt)return Hg(s),xt=!0,!1;var a=s.tag,i;if((i=a!==3&&a!==27)&&((i=a===5)&&(i=s.type,i=!(i!=="form"&&i!=="button")||Gm(s.type,s.memoizedProps)),i=!i),i&&Kt&&Ar(s),Hg(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(l(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8)if(i=s.data,i==="/$"){if(a===0){Kt=An(s.nextSibling);break e}a--}else i!=="$"&&i!=="$!"&&i!=="$?"||a++;s=s.nextSibling}Kt=null}}else a===27?(a=Kt,Wa(s.type)?(s=Qm,Qm=null,Kt=s):Kt=a):Kt=ks?An(s.stateNode.nextSibling):null;return!0}function Pi(){Kt=ks=null,xt=!1}function Zg(){var s=Cr;return s!==null&&(Fs===null?Fs=s:Fs.push.apply(Fs,s),Cr=null),s}function Li(s){Cr===null?Cr=[s]:Cr.push(s)}var kf=le(null),Er=null,ma=null;function La(s,a,i){F(kf,a._currentValue),a._currentValue=i}function ha(s){s._currentValue=kf.current,K(kf)}function Mf(s,a,i){for(;s!==null;){var c=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),s===i)break;s=s.return}}function Of(s,a,i,c){var f=s.child;for(f!==null&&(f.return=s);f!==null;){var h=f.dependencies;if(h!==null){var w=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var I=0;I<a.length;I++)if(E.context===a[I]){h.lanes|=i,E=h.alternate,E!==null&&(E.lanes|=i),Mf(h.return,i,s),c||(w=null);break e}h=E.next}}else if(f.tag===18){if(w=f.return,w===null)throw Error(l(341));w.lanes|=i,h=w.alternate,h!==null&&(h.lanes|=i),Mf(w,i,s),w=null}else w=f.child;if(w!==null)w.return=f;else for(w=f;w!==null;){if(w===s){w=null;break}if(f=w.sibling,f!==null){f.return=w.return,w=f;break}w=w.return}f=w}}function qi(s,a,i,c){s=null;for(var f=a,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var w=f.alternate;if(w===null)throw Error(l(387));if(w=w.memoizedProps,w!==null){var E=f.type;Xs(f.pendingProps.value,w.value)||(s!==null?s.push(E):s=[E])}}else if(f===me.current){if(w=f.alternate,w===null)throw Error(l(387));w.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(s!==null?s.push(ho):s=[ho])}f=f.return}s!==null&&Of(a,s,i,c),a.flags|=262144}function Nc(s){for(s=s.firstContext;s!==null;){if(!Xs(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Tr(s){Er=s,ma=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function As(s){return Gg(Er,s)}function wc(s,a){return Er===null&&Tr(s),Gg(s,a)}function Gg(s,a){var i=a._currentValue;if(a={context:a,memoizedValue:i,next:null},ma===null){if(s===null)throw Error(l(308));ma=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else ma=ma.next=a;return i}var oR=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(i,c){s.push(c)}};this.abort=function(){a.aborted=!0,s.forEach(function(i){return i()})}},cR=e.unstable_scheduleCallback,dR=e.unstable_NormalPriority,cs={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new oR,data:new Map,refCount:0}}function Ui(s){s.refCount--,s.refCount===0&&cR(dR,function(){s.controller.abort()})}var Fi=null,Pf=0,_l=0,Sl=null;function uR(s,a){if(Fi===null){var i=Fi=[];Pf=0,_l=qm(),Sl={status:"pending",value:void 0,then:function(c){i.push(c)}}}return Pf++,a.then(Yg,Yg),a}function Yg(){if(--Pf===0&&Fi!==null){Sl!==null&&(Sl.status="fulfilled");var s=Fi;Fi=null,_l=0,Sl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function fR(s,a){var i=[],c={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return s.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<i.length;f++)(0,i[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),c}var Xg=L.S;L.S=function(s,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&uR(s,a),Xg!==null&&Xg(s,a)};var Dr=le(null);function Lf(){var s=Dr.current;return s!==null?s:zt.pooledCache}function _c(s,a){a===null?F(Dr,Dr.current):F(Dr,a.pool)}function Kg(){var s=Lf();return s===null?null:{parent:cs._currentValue,pool:s}}var $i=Error(l(460)),Qg=Error(l(474)),Sc=Error(l(542)),qf={then:function(){}};function Wg(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Rc(){}function Jg(s,a,i){switch(i=s[i],i===void 0?s.push(a):i!==a&&(a.then(Rc,Rc),a=i),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,tv(s),s;default:if(typeof a.status=="string")a.then(Rc,Rc);else{if(s=zt,s!==null&&100<s.shellSuspendCounter)throw Error(l(482));s=a,s.status="pending",s.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,tv(s),s}throw Vi=a,$i}}var Vi=null;function ev(){if(Vi===null)throw Error(l(459));var s=Vi;return Vi=null,s}function tv(s){if(s===$i||s===Sc)throw Error(l(483))}var qa=!1;function Uf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ff(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Ua(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fa(s,a,i){var c=s.updateQueue;if(c===null)return null;if(c=c.shared,(Nt&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=vc(s),$g(s,null,i),a}return gc(s,c,a,i),vc(s)}function Ii(s,a,i){if(a=a.updateQueue,a!==null&&(a=a.shared,(i&4194048)!==0)){var c=a.lanes;c&=s.pendingLanes,i|=c,a.lanes=i,Yx(s,i)}}function $f(s,a){var i=s.updateQueue,c=s.alternate;if(c!==null&&(c=c.updateQueue,i===c)){var f=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var w={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};h===null?f=h=w:h=h.next=w,i=i.next}while(i!==null);h===null?f=h=a:h=h.next=a}else f=h=a;i={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:c.shared,callbacks:c.callbacks},s.updateQueue=i;return}s=i.lastBaseUpdate,s===null?i.firstBaseUpdate=a:s.next=a,i.lastBaseUpdate=a}var Vf=!1;function Bi(){if(Vf){var s=Sl;if(s!==null)throw s}}function Hi(s,a,i,c){Vf=!1;var f=s.updateQueue;qa=!1;var h=f.firstBaseUpdate,w=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var I=E,ee=I.next;I.next=null,w===null?h=ee:w.next=ee,w=I;var pe=s.alternate;pe!==null&&(pe=pe.updateQueue,E=pe.lastBaseUpdate,E!==w&&(E===null?pe.firstBaseUpdate=ee:E.next=ee,pe.lastBaseUpdate=I))}if(h!==null){var be=f.baseState;w=0,pe=ee=I=null,E=h;do{var se=E.lane&-536870913,ae=se!==E.lane;if(ae?(dt&se)===se:(c&se)===se){se!==0&&se===_l&&(Vf=!0),pe!==null&&(pe=pe.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var Xe=s,Ze=E;se=a;var Tt=i;switch(Ze.tag){case 1:if(Xe=Ze.payload,typeof Xe=="function"){be=Xe.call(Tt,be,se);break e}be=Xe;break e;case 3:Xe.flags=Xe.flags&-65537|128;case 0:if(Xe=Ze.payload,se=typeof Xe=="function"?Xe.call(Tt,be,se):Xe,se==null)break e;be=v({},be,se);break e;case 2:qa=!0}}se=E.callback,se!==null&&(s.flags|=64,ae&&(s.flags|=8192),ae=f.callbacks,ae===null?f.callbacks=[se]:ae.push(se))}else ae={lane:se,tag:E.tag,payload:E.payload,callback:E.callback,next:null},pe===null?(ee=pe=ae,I=be):pe=pe.next=ae,w|=se;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;ae=E,E=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);pe===null&&(I=be),f.baseState=I,f.firstBaseUpdate=ee,f.lastBaseUpdate=pe,h===null&&(f.shared.lanes=0),Ya|=w,s.lanes=w,s.memoizedState=be}}function sv(s,a){if(typeof s!="function")throw Error(l(191,s));s.call(a)}function nv(s,a){var i=s.callbacks;if(i!==null)for(s.callbacks=null,s=0;s<i.length;s++)sv(i[s],a)}var Rl=le(null),Cc=le(0);function av(s,a){s=ba,F(Cc,s),F(Rl,a),ba=s|a.baseLanes}function If(){F(Cc,ba),F(Rl,Rl.current)}function Bf(){ba=Cc.current,K(Rl),K(Cc)}var $a=0,st=null,At=null,is=null,Ac=!1,Cl=!1,kr=!1,Ec=0,Zi=0,Al=null,mR=0;function es(){throw Error(l(321))}function Hf(s,a){if(a===null)return!1;for(var i=0;i<a.length&&i<s.length;i++)if(!Xs(s[i],a[i]))return!1;return!0}function Zf(s,a,i,c,f,h){return $a=h,st=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,L.H=s===null||s.memoizedState===null?$v:Vv,kr=!1,h=i(c,f),kr=!1,Cl&&(h=lv(a,i,c,f)),rv(s),h}function rv(s){L.H=zc;var a=At!==null&&At.next!==null;if($a=0,is=At=st=null,Ac=!1,Zi=0,Al=null,a)throw Error(l(300));s===null||vs||(s=s.dependencies,s!==null&&Nc(s)&&(vs=!0))}function lv(s,a,i,c){st=s;var f=0;do{if(Cl&&(Al=null),Zi=0,Cl=!1,25<=f)throw Error(l(301));if(f+=1,is=At=null,s.updateQueue!=null){var h=s.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}L.H=jR,h=a(i,c)}while(Cl);return h}function hR(){var s=L.H,a=s.useState()[0];return a=typeof a.then=="function"?Gi(a):a,s=s.useState()[0],(At!==null?At.memoizedState:null)!==s&&(st.flags|=1024),a}function Gf(){var s=Ec!==0;return Ec=0,s}function Yf(s,a,i){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~i}function Xf(s){if(Ac){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Ac=!1}$a=0,is=At=st=null,Cl=!1,Zi=Ec=0,Al=null}function qs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return is===null?st.memoizedState=is=s:is=is.next=s,is}function os(){if(At===null){var s=st.alternate;s=s!==null?s.memoizedState:null}else s=At.next;var a=is===null?st.memoizedState:is.next;if(a!==null)is=a,At=s;else{if(s===null)throw st.alternate===null?Error(l(467)):Error(l(310));At=s,s={memoizedState:At.memoizedState,baseState:At.baseState,baseQueue:At.baseQueue,queue:At.queue,next:null},is===null?st.memoizedState=is=s:is=is.next=s}return is}function Kf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gi(s){var a=Zi;return Zi+=1,Al===null&&(Al=[]),s=Jg(Al,s,a),a=st,(is===null?a.memoizedState:is.next)===null&&(a=a.alternate,L.H=a===null||a.memoizedState===null?$v:Vv),s}function Tc(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Gi(s);if(s.$$typeof===S)return As(s)}throw Error(l(438,String(s)))}function Qf(s){var a=null,i=st.updateQueue;if(i!==null&&(a=i.memoCache),a==null){var c=st.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),i===null&&(i=Kf(),st.updateQueue=i),i.memoCache=a,i=a.data[a.index],i===void 0)for(i=a.data[a.index]=Array(s),c=0;c<s;c++)i[c]=Z;return a.index++,i}function pa(s,a){return typeof a=="function"?a(s):a}function Dc(s){var a=os();return Wf(a,At,s)}function Wf(s,a,i){var c=s.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=i;var f=s.baseQueue,h=c.pending;if(h!==null){if(f!==null){var w=f.next;f.next=h.next,h.next=w}a.baseQueue=f=h,c.pending=null}if(h=s.baseState,f===null)s.memoizedState=h;else{a=f.next;var E=w=null,I=null,ee=a,pe=!1;do{var be=ee.lane&-536870913;if(be!==ee.lane?(dt&be)===be:($a&be)===be){var se=ee.revertLane;if(se===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),be===_l&&(pe=!0);else if(($a&se)===se){ee=ee.next,se===_l&&(pe=!0);continue}else be={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},I===null?(E=I=be,w=h):I=I.next=be,st.lanes|=se,Ya|=se;be=ee.action,kr&&i(h,be),h=ee.hasEagerState?ee.eagerState:i(h,be)}else se={lane:be,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},I===null?(E=I=se,w=h):I=I.next=se,st.lanes|=be,Ya|=be;ee=ee.next}while(ee!==null&&ee!==a);if(I===null?w=h:I.next=E,!Xs(h,s.memoizedState)&&(vs=!0,pe&&(i=Sl,i!==null)))throw i;s.memoizedState=h,s.baseState=w,s.baseQueue=I,c.lastRenderedState=h}return f===null&&(c.lanes=0),[s.memoizedState,c.dispatch]}function Jf(s){var a=os(),i=a.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=s;var c=i.dispatch,f=i.pending,h=a.memoizedState;if(f!==null){i.pending=null;var w=f=f.next;do h=s(h,w.action),w=w.next;while(w!==f);Xs(h,a.memoizedState)||(vs=!0),a.memoizedState=h,a.baseQueue===null&&(a.baseState=h),i.lastRenderedState=h}return[h,c]}function iv(s,a,i){var c=st,f=os(),h=xt;if(h){if(i===void 0)throw Error(l(407));i=i()}else i=a();var w=!Xs((At||f).memoizedState,i);w&&(f.memoizedState=i,vs=!0),f=f.queue;var E=dv.bind(null,c,f,s);if(Yi(2048,8,E,[s]),f.getSnapshot!==a||w||is!==null&&is.memoizedState.tag&1){if(c.flags|=2048,El(9,kc(),cv.bind(null,c,f,i,a),null),zt===null)throw Error(l(349));h||($a&124)!==0||ov(c,a,i)}return i}function ov(s,a,i){s.flags|=16384,s={getSnapshot:a,value:i},a=st.updateQueue,a===null?(a=Kf(),st.updateQueue=a,a.stores=[s]):(i=a.stores,i===null?a.stores=[s]:i.push(s))}function cv(s,a,i,c){a.value=i,a.getSnapshot=c,uv(a)&&fv(s)}function dv(s,a,i){return i(function(){uv(a)&&fv(s)})}function uv(s){var a=s.getSnapshot;s=s.value;try{var i=a();return!Xs(s,i)}catch{return!0}}function fv(s){var a=jl(s,2);a!==null&&tn(a,s,2)}function em(s){var a=qs();if(typeof s=="function"){var i=s;if(s=i(),kr){ct(!0);try{i()}finally{ct(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:s},a}function mv(s,a,i,c){return s.baseState=i,Wf(s,At,typeof c=="function"?c:pa)}function pR(s,a,i,c,f){if(Oc(s))throw Error(l(485));if(s=a.action,s!==null){var h={payload:f,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){h.listeners.push(w)}};L.T!==null?i(!0):h.isTransition=!1,c(h),i=a.pending,i===null?(h.next=a.pending=h,hv(a,h)):(h.next=i.next,a.pending=i.next=h)}}function hv(s,a){var i=a.action,c=a.payload,f=s.state;if(a.isTransition){var h=L.T,w={};L.T=w;try{var E=i(f,c),I=L.S;I!==null&&I(w,E),pv(s,a,E)}catch(ee){tm(s,a,ee)}finally{L.T=h}}else try{h=i(f,c),pv(s,a,h)}catch(ee){tm(s,a,ee)}}function pv(s,a,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(c){xv(s,a,c)},function(c){return tm(s,a,c)}):xv(s,a,i)}function xv(s,a,i){a.status="fulfilled",a.value=i,gv(a),s.state=i,a=s.pending,a!==null&&(i=a.next,i===a?s.pending=null:(i=i.next,a.next=i,hv(s,i)))}function tm(s,a,i){var c=s.pending;if(s.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=i,gv(a),a=a.next;while(a!==c)}s.action=null}function gv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function vv(s,a){return a}function yv(s,a){if(xt){var i=zt.formState;if(i!==null){e:{var c=st;if(xt){if(Kt){t:{for(var f=Kt,h=Bn;f.nodeType!==8;){if(!h){f=null;break t}if(f=An(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){Kt=An(f.nextSibling),c=f.data==="F!";break e}}Ar(c)}c=!1}c&&(a=i[0])}}return i=qs(),i.memoizedState=i.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:a},i.queue=c,i=qv.bind(null,st,c),c.dispatch=i,c=em(!1),h=lm.bind(null,st,!1,c.queue),c=qs(),f={state:a,dispatch:null,action:s,pending:null},c.queue=f,i=pR.bind(null,st,f,h,i),f.dispatch=i,c.memoizedState=s,[a,i,!1]}function jv(s){var a=os();return bv(a,At,s)}function bv(s,a,i){if(a=Wf(s,a,vv)[0],s=Dc(pa)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Gi(a)}catch(w){throw w===$i?Sc:w}else c=a;a=os();var f=a.queue,h=f.dispatch;return i!==a.memoizedState&&(st.flags|=2048,El(9,kc(),xR.bind(null,f,i),null)),[c,h,s]}function xR(s,a){s.action=a}function Nv(s){var a=os(),i=At;if(i!==null)return bv(a,i,s);os(),a=a.memoizedState,i=os();var c=i.queue.dispatch;return i.memoizedState=s,[a,c,!1]}function El(s,a,i,c){return s={tag:s,create:i,deps:c,inst:a,next:null},a=st.updateQueue,a===null&&(a=Kf(),st.updateQueue=a),i=a.lastEffect,i===null?a.lastEffect=s.next=s:(c=i.next,i.next=s,s.next=c,a.lastEffect=s),s}function kc(){return{destroy:void 0,resource:void 0}}function wv(){return os().memoizedState}function Mc(s,a,i,c){var f=qs();c=c===void 0?null:c,st.flags|=s,f.memoizedState=El(1|a,kc(),i,c)}function Yi(s,a,i,c){var f=os();c=c===void 0?null:c;var h=f.memoizedState.inst;At!==null&&c!==null&&Hf(c,At.memoizedState.deps)?f.memoizedState=El(a,h,i,c):(st.flags|=s,f.memoizedState=El(1|a,h,i,c))}function _v(s,a){Mc(8390656,8,s,a)}function Sv(s,a){Yi(2048,8,s,a)}function Rv(s,a){return Yi(4,2,s,a)}function Cv(s,a){return Yi(4,4,s,a)}function Av(s,a){if(typeof a=="function"){s=s();var i=a(s);return function(){typeof i=="function"?i():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Ev(s,a,i){i=i!=null?i.concat([s]):null,Yi(4,4,Av.bind(null,a,s),i)}function sm(){}function Tv(s,a){var i=os();a=a===void 0?null:a;var c=i.memoizedState;return a!==null&&Hf(a,c[1])?c[0]:(i.memoizedState=[s,a],s)}function Dv(s,a){var i=os();a=a===void 0?null:a;var c=i.memoizedState;if(a!==null&&Hf(a,c[1]))return c[0];if(c=s(),kr){ct(!0);try{s()}finally{ct(!1)}}return i.memoizedState=[c,a],c}function nm(s,a,i){return i===void 0||($a&1073741824)!==0?s.memoizedState=a:(s.memoizedState=i,s=O0(),st.lanes|=s,Ya|=s,i)}function kv(s,a,i,c){return Xs(i,a)?i:Rl.current!==null?(s=nm(s,i,c),Xs(s,a)||(vs=!0),s):($a&42)===0?(vs=!0,s.memoizedState=i):(s=O0(),st.lanes|=s,Ya|=s,a)}function Mv(s,a,i,c,f){var h=X.p;X.p=h!==0&&8>h?h:8;var w=L.T,E={};L.T=E,lm(s,!1,a,i);try{var I=f(),ee=L.S;if(ee!==null&&ee(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var pe=fR(I,c);Xi(s,a,pe,en(s))}else Xi(s,a,c,en(s))}catch(be){Xi(s,a,{then:function(){},status:"rejected",reason:be},en())}finally{X.p=h,L.T=w}}function gR(){}function am(s,a,i,c){if(s.tag!==5)throw Error(l(476));var f=Ov(s).queue;Mv(s,f,a,H,i===null?gR:function(){return zv(s),i(c)})}function Ov(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:H},next:null};var i={};return a.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:i},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function zv(s){var a=Ov(s).next.queue;Xi(s,a,{},en())}function rm(){return As(ho)}function Pv(){return os().memoizedState}function Lv(){return os().memoizedState}function vR(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var i=en();s=Ua(i);var c=Fa(a,s,i);c!==null&&(tn(c,a,i),Ii(c,a,i)),a={cache:zf()},s.payload=a;return}a=a.return}}function yR(s,a,i){var c=en();i={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Oc(s)?Uv(a,i):(i=Sf(s,a,i,c),i!==null&&(tn(i,s,c),Fv(i,a,c)))}function qv(s,a,i){var c=en();Xi(s,a,i,c)}function Xi(s,a,i,c){var f={lane:c,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Oc(s))Uv(a,f);else{var h=s.alternate;if(s.lanes===0&&(h===null||h.lanes===0)&&(h=a.lastRenderedReducer,h!==null))try{var w=a.lastRenderedState,E=h(w,i);if(f.hasEagerState=!0,f.eagerState=E,Xs(E,w))return gc(s,a,f,0),zt===null&&xc(),!1}catch{}finally{}if(i=Sf(s,a,f,c),i!==null)return tn(i,s,c),Fv(i,a,c),!0}return!1}function lm(s,a,i,c){if(c={lane:2,revertLane:qm(),action:c,hasEagerState:!1,eagerState:null,next:null},Oc(s)){if(a)throw Error(l(479))}else a=Sf(s,i,c,2),a!==null&&tn(a,s,2)}function Oc(s){var a=s.alternate;return s===st||a!==null&&a===st}function Uv(s,a){Cl=Ac=!0;var i=s.pending;i===null?a.next=a:(a.next=i.next,i.next=a),s.pending=a}function Fv(s,a,i){if((i&4194048)!==0){var c=a.lanes;c&=s.pendingLanes,i|=c,a.lanes=i,Yx(s,i)}}var zc={readContext:As,use:Tc,useCallback:es,useContext:es,useEffect:es,useImperativeHandle:es,useLayoutEffect:es,useInsertionEffect:es,useMemo:es,useReducer:es,useRef:es,useState:es,useDebugValue:es,useDeferredValue:es,useTransition:es,useSyncExternalStore:es,useId:es,useHostTransitionStatus:es,useFormState:es,useActionState:es,useOptimistic:es,useMemoCache:es,useCacheRefresh:es},$v={readContext:As,use:Tc,useCallback:function(s,a){return qs().memoizedState=[s,a===void 0?null:a],s},useContext:As,useEffect:_v,useImperativeHandle:function(s,a,i){i=i!=null?i.concat([s]):null,Mc(4194308,4,Av.bind(null,a,s),i)},useLayoutEffect:function(s,a){return Mc(4194308,4,s,a)},useInsertionEffect:function(s,a){Mc(4,2,s,a)},useMemo:function(s,a){var i=qs();a=a===void 0?null:a;var c=s();if(kr){ct(!0);try{s()}finally{ct(!1)}}return i.memoizedState=[c,a],c},useReducer:function(s,a,i){var c=qs();if(i!==void 0){var f=i(a);if(kr){ct(!0);try{i(a)}finally{ct(!1)}}}else f=a;return c.memoizedState=c.baseState=f,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:f},c.queue=s,s=s.dispatch=yR.bind(null,st,s),[c.memoizedState,s]},useRef:function(s){var a=qs();return s={current:s},a.memoizedState=s},useState:function(s){s=em(s);var a=s.queue,i=qv.bind(null,st,a);return a.dispatch=i,[s.memoizedState,i]},useDebugValue:sm,useDeferredValue:function(s,a){var i=qs();return nm(i,s,a)},useTransition:function(){var s=em(!1);return s=Mv.bind(null,st,s.queue,!0,!1),qs().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,i){var c=st,f=qs();if(xt){if(i===void 0)throw Error(l(407));i=i()}else{if(i=a(),zt===null)throw Error(l(349));(dt&124)!==0||ov(c,a,i)}f.memoizedState=i;var h={value:i,getSnapshot:a};return f.queue=h,_v(dv.bind(null,c,h,s),[s]),c.flags|=2048,El(9,kc(),cv.bind(null,c,h,i,a),null),i},useId:function(){var s=qs(),a=zt.identifierPrefix;if(xt){var i=fa,c=ua;i=(c&~(1<<32-Ot(c)-1)).toString(32)+i,a="«"+a+"R"+i,i=Ec++,0<i&&(a+="H"+i.toString(32)),a+="»"}else i=mR++,a="«"+a+"r"+i.toString(32)+"»";return s.memoizedState=a},useHostTransitionStatus:rm,useFormState:yv,useActionState:yv,useOptimistic:function(s){var a=qs();a.memoizedState=a.baseState=s;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=i,a=lm.bind(null,st,!0,i),i.dispatch=a,[s,a]},useMemoCache:Qf,useCacheRefresh:function(){return qs().memoizedState=vR.bind(null,st)}},Vv={readContext:As,use:Tc,useCallback:Tv,useContext:As,useEffect:Sv,useImperativeHandle:Ev,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Dv,useReducer:Dc,useRef:wv,useState:function(){return Dc(pa)},useDebugValue:sm,useDeferredValue:function(s,a){var i=os();return kv(i,At.memoizedState,s,a)},useTransition:function(){var s=Dc(pa)[0],a=os().memoizedState;return[typeof s=="boolean"?s:Gi(s),a]},useSyncExternalStore:iv,useId:Pv,useHostTransitionStatus:rm,useFormState:jv,useActionState:jv,useOptimistic:function(s,a){var i=os();return mv(i,At,s,a)},useMemoCache:Qf,useCacheRefresh:Lv},jR={readContext:As,use:Tc,useCallback:Tv,useContext:As,useEffect:Sv,useImperativeHandle:Ev,useInsertionEffect:Rv,useLayoutEffect:Cv,useMemo:Dv,useReducer:Jf,useRef:wv,useState:function(){return Jf(pa)},useDebugValue:sm,useDeferredValue:function(s,a){var i=os();return At===null?nm(i,s,a):kv(i,At.memoizedState,s,a)},useTransition:function(){var s=Jf(pa)[0],a=os().memoizedState;return[typeof s=="boolean"?s:Gi(s),a]},useSyncExternalStore:iv,useId:Pv,useHostTransitionStatus:rm,useFormState:Nv,useActionState:Nv,useOptimistic:function(s,a){var i=os();return At!==null?mv(i,At,s,a):(i.baseState=s,[s,i.queue.dispatch])},useMemoCache:Qf,useCacheRefresh:Lv},Tl=null,Ki=0;function Pc(s){var a=Ki;return Ki+=1,Tl===null&&(Tl=[]),Jg(Tl,s,a)}function Qi(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function Lc(s,a){throw a.$$typeof===y?Error(l(525)):(s=Object.prototype.toString.call(a),Error(l(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Iv(s){var a=s._init;return a(s._payload)}function Bv(s){function a(W,G){if(s){var J=W.deletions;J===null?(W.deletions=[G],W.flags|=16):J.push(G)}}function i(W,G){if(!s)return null;for(;G!==null;)a(W,G),G=G.sibling;return null}function c(W){for(var G=new Map;W!==null;)W.key!==null?G.set(W.key,W):G.set(W.index,W),W=W.sibling;return G}function f(W,G){return W=da(W,G),W.index=0,W.sibling=null,W}function h(W,G,J){return W.index=J,s?(J=W.alternate,J!==null?(J=J.index,J<G?(W.flags|=67108866,G):J):(W.flags|=67108866,G)):(W.flags|=1048576,G)}function w(W){return s&&W.alternate===null&&(W.flags|=67108866),W}function E(W,G,J,ge){return G===null||G.tag!==6?(G=Cf(J,W.mode,ge),G.return=W,G):(G=f(G,J),G.return=W,G)}function I(W,G,J,ge){var Me=J.type;return Me===_?pe(W,G,J.props.children,ge,J.key):G!==null&&(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===M&&Iv(Me)===G.type)?(G=f(G,J.props),Qi(G,J),G.return=W,G):(G=yc(J.type,J.key,J.props,null,W.mode,ge),Qi(G,J),G.return=W,G)}function ee(W,G,J,ge){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?(G=Af(J,W.mode,ge),G.return=W,G):(G=f(G,J.children||[]),G.return=W,G)}function pe(W,G,J,ge,Me){return G===null||G.tag!==7?(G=_r(J,W.mode,ge,Me),G.return=W,G):(G=f(G,J),G.return=W,G)}function be(W,G,J){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Cf(""+G,W.mode,J),G.return=W,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case N:return J=yc(G.type,G.key,G.props,null,W.mode,J),Qi(J,G),J.return=W,J;case C:return G=Af(G,W.mode,J),G.return=W,G;case M:var ge=G._init;return G=ge(G._payload),be(W,G,J)}if(P(G)||O(G))return G=_r(G,W.mode,J,null),G.return=W,G;if(typeof G.then=="function")return be(W,Pc(G),J);if(G.$$typeof===S)return be(W,wc(W,G),J);Lc(W,G)}return null}function se(W,G,J,ge){var Me=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Me!==null?null:E(W,G,""+J,ge);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case N:return J.key===Me?I(W,G,J,ge):null;case C:return J.key===Me?ee(W,G,J,ge):null;case M:return Me=J._init,J=Me(J._payload),se(W,G,J,ge)}if(P(J)||O(J))return Me!==null?null:pe(W,G,J,ge,null);if(typeof J.then=="function")return se(W,G,Pc(J),ge);if(J.$$typeof===S)return se(W,G,wc(W,J),ge);Lc(W,J)}return null}function ae(W,G,J,ge,Me){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return W=W.get(J)||null,E(G,W,""+ge,Me);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case N:return W=W.get(ge.key===null?J:ge.key)||null,I(G,W,ge,Me);case C:return W=W.get(ge.key===null?J:ge.key)||null,ee(G,W,ge,Me);case M:var at=ge._init;return ge=at(ge._payload),ae(W,G,J,ge,Me)}if(P(ge)||O(ge))return W=W.get(J)||null,pe(G,W,ge,Me,null);if(typeof ge.then=="function")return ae(W,G,J,Pc(ge),Me);if(ge.$$typeof===S)return ae(W,G,J,wc(G,ge),Me);Lc(G,ge)}return null}function Xe(W,G,J,ge){for(var Me=null,at=null,Ve=G,Ye=G=0,js=null;Ve!==null&&Ye<J.length;Ye++){Ve.index>Ye?(js=Ve,Ve=null):js=Ve.sibling;var mt=se(W,Ve,J[Ye],ge);if(mt===null){Ve===null&&(Ve=js);break}s&&Ve&&mt.alternate===null&&a(W,Ve),G=h(mt,G,Ye),at===null?Me=mt:at.sibling=mt,at=mt,Ve=js}if(Ye===J.length)return i(W,Ve),xt&&Rr(W,Ye),Me;if(Ve===null){for(;Ye<J.length;Ye++)Ve=be(W,J[Ye],ge),Ve!==null&&(G=h(Ve,G,Ye),at===null?Me=Ve:at.sibling=Ve,at=Ve);return xt&&Rr(W,Ye),Me}for(Ve=c(Ve);Ye<J.length;Ye++)js=ae(Ve,W,Ye,J[Ye],ge),js!==null&&(s&&js.alternate!==null&&Ve.delete(js.key===null?Ye:js.key),G=h(js,G,Ye),at===null?Me=js:at.sibling=js,at=js);return s&&Ve.forEach(function(nr){return a(W,nr)}),xt&&Rr(W,Ye),Me}function Ze(W,G,J,ge){if(J==null)throw Error(l(151));for(var Me=null,at=null,Ve=G,Ye=G=0,js=null,mt=J.next();Ve!==null&&!mt.done;Ye++,mt=J.next()){Ve.index>Ye?(js=Ve,Ve=null):js=Ve.sibling;var nr=se(W,Ve,mt.value,ge);if(nr===null){Ve===null&&(Ve=js);break}s&&Ve&&nr.alternate===null&&a(W,Ve),G=h(nr,G,Ye),at===null?Me=nr:at.sibling=nr,at=nr,Ve=js}if(mt.done)return i(W,Ve),xt&&Rr(W,Ye),Me;if(Ve===null){for(;!mt.done;Ye++,mt=J.next())mt=be(W,mt.value,ge),mt!==null&&(G=h(mt,G,Ye),at===null?Me=mt:at.sibling=mt,at=mt);return xt&&Rr(W,Ye),Me}for(Ve=c(Ve);!mt.done;Ye++,mt=J.next())mt=ae(Ve,W,Ye,mt.value,ge),mt!==null&&(s&&mt.alternate!==null&&Ve.delete(mt.key===null?Ye:mt.key),G=h(mt,G,Ye),at===null?Me=mt:at.sibling=mt,at=mt);return s&&Ve.forEach(function(bC){return a(W,bC)}),xt&&Rr(W,Ye),Me}function Tt(W,G,J,ge){if(typeof J=="object"&&J!==null&&J.type===_&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case N:e:{for(var Me=J.key;G!==null;){if(G.key===Me){if(Me=J.type,Me===_){if(G.tag===7){i(W,G.sibling),ge=f(G,J.props.children),ge.return=W,W=ge;break e}}else if(G.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===M&&Iv(Me)===G.type){i(W,G.sibling),ge=f(G,J.props),Qi(ge,J),ge.return=W,W=ge;break e}i(W,G);break}else a(W,G);G=G.sibling}J.type===_?(ge=_r(J.props.children,W.mode,ge,J.key),ge.return=W,W=ge):(ge=yc(J.type,J.key,J.props,null,W.mode,ge),Qi(ge,J),ge.return=W,W=ge)}return w(W);case C:e:{for(Me=J.key;G!==null;){if(G.key===Me)if(G.tag===4&&G.stateNode.containerInfo===J.containerInfo&&G.stateNode.implementation===J.implementation){i(W,G.sibling),ge=f(G,J.children||[]),ge.return=W,W=ge;break e}else{i(W,G);break}else a(W,G);G=G.sibling}ge=Af(J,W.mode,ge),ge.return=W,W=ge}return w(W);case M:return Me=J._init,J=Me(J._payload),Tt(W,G,J,ge)}if(P(J))return Xe(W,G,J,ge);if(O(J)){if(Me=O(J),typeof Me!="function")throw Error(l(150));return J=Me.call(J),Ze(W,G,J,ge)}if(typeof J.then=="function")return Tt(W,G,Pc(J),ge);if(J.$$typeof===S)return Tt(W,G,wc(W,J),ge);Lc(W,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,G!==null&&G.tag===6?(i(W,G.sibling),ge=f(G,J),ge.return=W,W=ge):(i(W,G),ge=Cf(J,W.mode,ge),ge.return=W,W=ge),w(W)):i(W,G)}return function(W,G,J,ge){try{Ki=0;var Me=Tt(W,G,J,ge);return Tl=null,Me}catch(Ve){if(Ve===$i||Ve===Sc)throw Ve;var at=Ks(29,Ve,null,W.mode);return at.lanes=ge,at.return=W,at}finally{}}}var Dl=Bv(!0),Hv=Bv(!1),fn=le(null),Hn=null;function Va(s){var a=s.alternate;F(ds,ds.current&1),F(fn,s),Hn===null&&(a===null||Rl.current!==null||a.memoizedState!==null)&&(Hn=s)}function Zv(s){if(s.tag===22){if(F(ds,ds.current),F(fn,s),Hn===null){var a=s.alternate;a!==null&&a.memoizedState!==null&&(Hn=s)}}else Ia()}function Ia(){F(ds,ds.current),F(fn,fn.current)}function xa(s){K(fn),Hn===s&&(Hn=null),K(ds)}var ds=le(0);function qc(s){for(var a=s;a!==null;){if(a.tag===13){var i=a.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||Km(i)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function im(s,a,i,c){a=s.memoizedState,i=i(c,a),i=i==null?a:v({},a,i),s.memoizedState=i,s.lanes===0&&(s.updateQueue.baseState=i)}var om={enqueueSetState:function(s,a,i){s=s._reactInternals;var c=en(),f=Ua(c);f.payload=a,i!=null&&(f.callback=i),a=Fa(s,f,c),a!==null&&(tn(a,s,c),Ii(a,s,c))},enqueueReplaceState:function(s,a,i){s=s._reactInternals;var c=en(),f=Ua(c);f.tag=1,f.payload=a,i!=null&&(f.callback=i),a=Fa(s,f,c),a!==null&&(tn(a,s,c),Ii(a,s,c))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var i=en(),c=Ua(i);c.tag=2,a!=null&&(c.callback=a),a=Fa(s,c,i),a!==null&&(tn(a,s,i),Ii(a,s,i))}};function Gv(s,a,i,c,f,h,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(c,h,w):a.prototype&&a.prototype.isPureReactComponent?!Mi(i,c)||!Mi(f,h):!0}function Yv(s,a,i,c){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(i,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(i,c),a.state!==s&&om.enqueueReplaceState(a,a.state,null)}function Mr(s,a){var i=a;if("ref"in a){i={};for(var c in a)c!=="ref"&&(i[c]=a[c])}if(s=s.defaultProps){i===a&&(i=v({},i));for(var f in s)i[f]===void 0&&(i[f]=s[f])}return i}var Uc=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)};function Xv(s){Uc(s)}function Kv(s){console.error(s)}function Qv(s){Uc(s)}function Fc(s,a){try{var i=s.onUncaughtError;i(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Wv(s,a,i){try{var c=s.onCaughtError;c(i.value,{componentStack:i.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cm(s,a,i){return i=Ua(i),i.tag=3,i.payload={element:null},i.callback=function(){Fc(s,a)},i}function Jv(s){return s=Ua(s),s.tag=3,s}function e0(s,a,i,c){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var h=c.value;s.payload=function(){return f(h)},s.callback=function(){Wv(a,i,c)}}var w=i.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Wv(a,i,c),typeof f!="function"&&(Xa===null?Xa=new Set([this]):Xa.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function bR(s,a,i,c,f){if(i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=i.alternate,a!==null&&qi(a,i,f,!0),i=fn.current,i!==null){switch(i.tag){case 13:return Hn===null?Mm():i.alternate===null&&Qt===0&&(Qt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,c===qf?i.flags|=16384:(a=i.updateQueue,a===null?i.updateQueue=new Set([c]):a.add(c),zm(s,c,f)),!1;case 22:return i.flags|=65536,c===qf?i.flags|=16384:(a=i.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},i.updateQueue=a):(i=a.retryQueue,i===null?a.retryQueue=new Set([c]):i.add(c)),zm(s,c,f)),!1}throw Error(l(435,i.tag))}return zm(s,c,f),Mm(),!1}if(xt)return a=fn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Df&&(s=Error(l(422),{cause:c}),Li(on(s,i)))):(c!==Df&&(a=Error(l(423),{cause:c}),Li(on(a,i))),s=s.current.alternate,s.flags|=65536,f&=-f,s.lanes|=f,c=on(c,i),f=cm(s.stateNode,c,f),$f(s,f),Qt!==4&&(Qt=2)),!1;var h=Error(l(520),{cause:c});if(h=on(h,i),ao===null?ao=[h]:ao.push(h),Qt!==4&&(Qt=2),a===null)return!0;c=on(c,i),i=a;do{switch(i.tag){case 3:return i.flags|=65536,s=f&-f,i.lanes|=s,s=cm(i.stateNode,c,s),$f(i,s),!1;case 1:if(a=i.type,h=i.stateNode,(i.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xa===null||!Xa.has(h))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Jv(f),e0(f,s,i,c),$f(i,f),!1}i=i.return}while(i!==null);return!1}var t0=Error(l(461)),vs=!1;function Ns(s,a,i,c){a.child=s===null?Hv(a,null,i,c):Dl(a,s.child,i,c)}function s0(s,a,i,c,f){i=i.render;var h=a.ref;if("ref"in c){var w={};for(var E in c)E!=="ref"&&(w[E]=c[E])}else w=c;return Tr(a),c=Zf(s,a,i,w,h,f),E=Gf(),s!==null&&!vs?(Yf(s,a,f),ga(s,a,f)):(xt&&E&&Ef(a),a.flags|=1,Ns(s,a,c,f),a.child)}function n0(s,a,i,c,f){if(s===null){var h=i.type;return typeof h=="function"&&!Rf(h)&&h.defaultProps===void 0&&i.compare===null?(a.tag=15,a.type=h,a0(s,a,h,c,f)):(s=yc(i.type,null,c,a,a.mode,f),s.ref=a.ref,s.return=a,a.child=s)}if(h=s.child,!gm(s,f)){var w=h.memoizedProps;if(i=i.compare,i=i!==null?i:Mi,i(w,c)&&s.ref===a.ref)return ga(s,a,f)}return a.flags|=1,s=da(h,c),s.ref=a.ref,s.return=a,a.child=s}function a0(s,a,i,c,f){if(s!==null){var h=s.memoizedProps;if(Mi(h,c)&&s.ref===a.ref)if(vs=!1,a.pendingProps=c=h,gm(s,f))(s.flags&131072)!==0&&(vs=!0);else return a.lanes=s.lanes,ga(s,a,f)}return dm(s,a,i,c,f)}function r0(s,a,i){var c=a.pendingProps,f=c.children,h=s!==null?s.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=h!==null?h.baseLanes|i:i,s!==null){for(f=a.child=s.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;a.childLanes=h&~c}else a.childLanes=0,a.child=null;return l0(s,a,c,i)}if((i&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&_c(a,h!==null?h.cachePool:null),h!==null?av(a,h):If(),Zv(a);else return a.lanes=a.childLanes=536870912,l0(s,a,h!==null?h.baseLanes|i:i,i)}else h!==null?(_c(a,h.cachePool),av(a,h),Ia(),a.memoizedState=null):(s!==null&&_c(a,null),If(),Ia());return Ns(s,a,f,i),a.child}function l0(s,a,i,c){var f=Lf();return f=f===null?null:{parent:cs._currentValue,pool:f},a.memoizedState={baseLanes:i,cachePool:f},s!==null&&_c(a,null),If(),Zv(a),s!==null&&qi(s,a,c,!0),null}function $c(s,a){var i=a.ref;if(i===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(s===null||s.ref!==i)&&(a.flags|=4194816)}}function dm(s,a,i,c,f){return Tr(a),i=Zf(s,a,i,c,void 0,f),c=Gf(),s!==null&&!vs?(Yf(s,a,f),ga(s,a,f)):(xt&&c&&Ef(a),a.flags|=1,Ns(s,a,i,f),a.child)}function i0(s,a,i,c,f,h){return Tr(a),a.updateQueue=null,i=lv(a,c,i,f),rv(s),c=Gf(),s!==null&&!vs?(Yf(s,a,h),ga(s,a,h)):(xt&&c&&Ef(a),a.flags|=1,Ns(s,a,i,h),a.child)}function o0(s,a,i,c,f){if(Tr(a),a.stateNode===null){var h=bl,w=i.contextType;typeof w=="object"&&w!==null&&(h=As(w)),h=new i(c,h),a.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=om,a.stateNode=h,h._reactInternals=a,h=a.stateNode,h.props=c,h.state=a.memoizedState,h.refs={},Uf(a),w=i.contextType,h.context=typeof w=="object"&&w!==null?As(w):bl,h.state=a.memoizedState,w=i.getDerivedStateFromProps,typeof w=="function"&&(im(a,i,w,c),h.state=a.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(w=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),w!==h.state&&om.enqueueReplaceState(h,h.state,null),Hi(a,c,h,f),Bi(),h.state=a.memoizedState),typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(s===null){h=a.stateNode;var E=a.memoizedProps,I=Mr(i,E);h.props=I;var ee=h.context,pe=i.contextType;w=bl,typeof pe=="object"&&pe!==null&&(w=As(pe));var be=i.getDerivedStateFromProps;pe=typeof be=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=a.pendingProps!==E,pe||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||ee!==w)&&Yv(a,h,c,w),qa=!1;var se=a.memoizedState;h.state=se,Hi(a,c,h,f),Bi(),ee=a.memoizedState,E||se!==ee||qa?(typeof be=="function"&&(im(a,i,be,c),ee=a.memoizedState),(I=qa||Gv(a,i,I,c,se,ee,w))?(pe||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(a.flags|=4194308)):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=ee),h.props=c,h.state=ee,h.context=w,c=I):(typeof h.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{h=a.stateNode,Ff(s,a),w=a.memoizedProps,pe=Mr(i,w),h.props=pe,be=a.pendingProps,se=h.context,ee=i.contextType,I=bl,typeof ee=="object"&&ee!==null&&(I=As(ee)),E=i.getDerivedStateFromProps,(ee=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(w!==be||se!==I)&&Yv(a,h,c,I),qa=!1,se=a.memoizedState,h.state=se,Hi(a,c,h,f),Bi();var ae=a.memoizedState;w!==be||se!==ae||qa||s!==null&&s.dependencies!==null&&Nc(s.dependencies)?(typeof E=="function"&&(im(a,i,E,c),ae=a.memoizedState),(pe=qa||Gv(a,i,pe,c,se,ae,I)||s!==null&&s.dependencies!==null&&Nc(s.dependencies))?(ee||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(c,ae,I),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(c,ae,I)),typeof h.componentDidUpdate=="function"&&(a.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof h.componentDidUpdate!="function"||w===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ae),h.props=c,h.state=ae,h.context=I,c=pe):(typeof h.componentDidUpdate!="function"||w===s.memoizedProps&&se===s.memoizedState||(a.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&se===s.memoizedState||(a.flags|=1024),c=!1)}return h=c,$c(s,a),c=(a.flags&128)!==0,h||c?(h=a.stateNode,i=c&&typeof i.getDerivedStateFromError!="function"?null:h.render(),a.flags|=1,s!==null&&c?(a.child=Dl(a,s.child,null,f),a.child=Dl(a,null,i,f)):Ns(s,a,i,f),a.memoizedState=h.state,s=a.child):s=ga(s,a,f),s}function c0(s,a,i,c){return Pi(),a.flags|=256,Ns(s,a,i,c),a.child}var um={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(s){return{baseLanes:s,cachePool:Kg()}}function mm(s,a,i){return s=s!==null?s.childLanes&~i:0,a&&(s|=mn),s}function d0(s,a,i){var c=a.pendingProps,f=!1,h=(a.flags&128)!==0,w;if((w=h)||(w=s!==null&&s.memoizedState===null?!1:(ds.current&2)!==0),w&&(f=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(xt){if(f?Va(a):Ia(),xt){var E=Kt,I;if(I=E){e:{for(I=E,E=Bn;I.nodeType!==8;){if(!E){E=null;break e}if(I=An(I.nextSibling),I===null){E=null;break e}}E=I}E!==null?(a.memoizedState={dehydrated:E,treeContext:Sr!==null?{id:ua,overflow:fa}:null,retryLane:536870912,hydrationErrors:null},I=Ks(18,null,null,0),I.stateNode=E,I.return=a,a.child=I,ks=a,Kt=null,I=!0):I=!1}I||Ar(a)}if(E=a.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Km(E)?a.lanes=32:a.lanes=536870912,null;xa(a)}return E=c.children,c=c.fallback,f?(Ia(),f=a.mode,E=Vc({mode:"hidden",children:E},f),c=_r(c,f,i,null),E.return=a,c.return=a,E.sibling=c,a.child=E,f=a.child,f.memoizedState=fm(i),f.childLanes=mm(s,w,i),a.memoizedState=um,c):(Va(a),hm(a,E))}if(I=s.memoizedState,I!==null&&(E=I.dehydrated,E!==null)){if(h)a.flags&256?(Va(a),a.flags&=-257,a=pm(s,a,i)):a.memoizedState!==null?(Ia(),a.child=s.child,a.flags|=128,a=null):(Ia(),f=c.fallback,E=a.mode,c=Vc({mode:"visible",children:c.children},E),f=_r(f,E,i,null),f.flags|=2,c.return=a,f.return=a,c.sibling=f,a.child=c,Dl(a,s.child,null,i),c=a.child,c.memoizedState=fm(i),c.childLanes=mm(s,w,i),a.memoizedState=um,a=f);else if(Va(a),Km(E)){if(w=E.nextSibling&&E.nextSibling.dataset,w)var ee=w.dgst;w=ee,c=Error(l(419)),c.stack="",c.digest=w,Li({value:c,source:null,stack:null}),a=pm(s,a,i)}else if(vs||qi(s,a,i,!1),w=(i&s.childLanes)!==0,vs||w){if(w=zt,w!==null&&(c=i&-i,c=(c&42)!==0?1:Ku(c),c=(c&(w.suspendedLanes|i))!==0?0:c,c!==0&&c!==I.retryLane))throw I.retryLane=c,jl(s,c),tn(w,s,c),t0;E.data==="$?"||Mm(),a=pm(s,a,i)}else E.data==="$?"?(a.flags|=192,a.child=s.child,a=null):(s=I.treeContext,Kt=An(E.nextSibling),ks=a,xt=!0,Cr=null,Bn=!1,s!==null&&(dn[un++]=ua,dn[un++]=fa,dn[un++]=Sr,ua=s.id,fa=s.overflow,Sr=a),a=hm(a,c.children),a.flags|=4096);return a}return f?(Ia(),f=c.fallback,E=a.mode,I=s.child,ee=I.sibling,c=da(I,{mode:"hidden",children:c.children}),c.subtreeFlags=I.subtreeFlags&65011712,ee!==null?f=da(ee,f):(f=_r(f,E,i,null),f.flags|=2),f.return=a,c.return=a,c.sibling=f,a.child=c,c=f,f=a.child,E=s.child.memoizedState,E===null?E=fm(i):(I=E.cachePool,I!==null?(ee=cs._currentValue,I=I.parent!==ee?{parent:ee,pool:ee}:I):I=Kg(),E={baseLanes:E.baseLanes|i,cachePool:I}),f.memoizedState=E,f.childLanes=mm(s,w,i),a.memoizedState=um,c):(Va(a),i=s.child,s=i.sibling,i=da(i,{mode:"visible",children:c.children}),i.return=a,i.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=i,a.memoizedState=null,i)}function hm(s,a){return a=Vc({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function Vc(s,a){return s=Ks(22,s,null,a),s.lanes=0,s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},s}function pm(s,a,i){return Dl(a,s.child,null,i),s=hm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function u0(s,a,i){s.lanes|=a;var c=s.alternate;c!==null&&(c.lanes|=a),Mf(s.return,a,i)}function xm(s,a,i,c,f){var h=s.memoizedState;h===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:i,tailMode:f}:(h.isBackwards=a,h.rendering=null,h.renderingStartTime=0,h.last=c,h.tail=i,h.tailMode=f)}function f0(s,a,i){var c=a.pendingProps,f=c.revealOrder,h=c.tail;if(Ns(s,a,c.children,i),c=ds.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&u0(s,i,a);else if(s.tag===19)u0(s,i,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}c&=1}switch(F(ds,c),f){case"forwards":for(i=a.child,f=null;i!==null;)s=i.alternate,s!==null&&qc(s)===null&&(f=i),i=i.sibling;i=f,i===null?(f=a.child,a.child=null):(f=i.sibling,i.sibling=null),xm(a,!1,f,i,h);break;case"backwards":for(i=null,f=a.child,a.child=null;f!==null;){if(s=f.alternate,s!==null&&qc(s)===null){a.child=f;break}s=f.sibling,f.sibling=i,i=f,f=s}xm(a,!0,i,null,h);break;case"together":xm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ga(s,a,i){if(s!==null&&(a.dependencies=s.dependencies),Ya|=a.lanes,(i&a.childLanes)===0)if(s!==null){if(qi(s,a,i,!1),(i&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(l(153));if(a.child!==null){for(s=a.child,i=da(s,s.pendingProps),a.child=i,i.return=a;s.sibling!==null;)s=s.sibling,i=i.sibling=da(s,s.pendingProps),i.return=a;i.sibling=null}return a.child}function gm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Nc(s)))}function NR(s,a,i){switch(a.tag){case 3:Ne(a,a.stateNode.containerInfo),La(a,cs,s.memoizedState.cache),Pi();break;case 27:case 5:he(a);break;case 4:Ne(a,a.stateNode.containerInfo);break;case 10:La(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Va(a),a.flags|=128,null):(i&a.child.childLanes)!==0?d0(s,a,i):(Va(a),s=ga(s,a,i),s!==null?s.sibling:null);Va(a);break;case 19:var f=(s.flags&128)!==0;if(c=(i&a.childLanes)!==0,c||(qi(s,a,i,!1),c=(i&a.childLanes)!==0),f){if(c)return f0(s,a,i);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(ds,ds.current),c)break;return null;case 22:case 23:return a.lanes=0,r0(s,a,i);case 24:La(a,cs,s.memoizedState.cache)}return ga(s,a,i)}function m0(s,a,i){if(s!==null)if(s.memoizedProps!==a.pendingProps)vs=!0;else{if(!gm(s,i)&&(a.flags&128)===0)return vs=!1,NR(s,a,i);vs=(s.flags&131072)!==0}else vs=!1,xt&&(a.flags&1048576)!==0&&Ig(a,bc,a.index);switch(a.lanes=0,a.tag){case 16:e:{s=a.pendingProps;var c=a.elementType,f=c._init;if(c=f(c._payload),a.type=c,typeof c=="function")Rf(c)?(s=Mr(c,s),a.tag=1,a=o0(null,a,c,s,i)):(a.tag=0,a=dm(null,a,c,s,i));else{if(c!=null){if(f=c.$$typeof,f===q){a.tag=11,a=s0(null,a,c,s,i);break e}else if(f===$){a.tag=14,a=n0(null,a,c,s,i);break e}}throw a=B(c)||c,Error(l(306,a,""))}}return a;case 0:return dm(s,a,a.type,a.pendingProps,i);case 1:return c=a.type,f=Mr(c,a.pendingProps),o0(s,a,c,f,i);case 3:e:{if(Ne(a,a.stateNode.containerInfo),s===null)throw Error(l(387));c=a.pendingProps;var h=a.memoizedState;f=h.element,Ff(s,a),Hi(a,c,null,i);var w=a.memoizedState;if(c=w.cache,La(a,cs,c),c!==h.cache&&Of(a,[cs],i,!0),Bi(),c=w.element,h.isDehydrated)if(h={element:c,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=h,a.memoizedState=h,a.flags&256){a=c0(s,a,c,i);break e}else if(c!==f){f=on(Error(l(424)),a),Li(f),a=c0(s,a,c,i);break e}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(Kt=An(s.firstChild),ks=a,xt=!0,Cr=null,Bn=!0,i=Hv(a,null,c,i),a.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(Pi(),c===f){a=ga(s,a,i);break e}Ns(s,a,c,i)}a=a.child}return a;case 26:return $c(s,a),s===null?(i=gy(a.type,null,a.pendingProps,null))?a.memoizedState=i:xt||(i=a.type,s=a.pendingProps,c=sd(ne.current).createElement(i),c[Cs]=a,c[Ps]=s,_s(c,i,s),gs(c),a.stateNode=c):a.memoizedState=gy(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return he(a),s===null&&xt&&(c=a.stateNode=hy(a.type,a.pendingProps,ne.current),ks=a,Bn=!0,f=Kt,Wa(a.type)?(Qm=f,Kt=An(c.firstChild)):Kt=f),Ns(s,a,a.pendingProps.children,i),$c(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&xt&&((f=c=Kt)&&(c=KR(c,a.type,a.pendingProps,Bn),c!==null?(a.stateNode=c,ks=a,Kt=An(c.firstChild),Bn=!1,f=!0):f=!1),f||Ar(a)),he(a),f=a.type,h=a.pendingProps,w=s!==null?s.memoizedProps:null,c=h.children,Gm(f,h)?c=null:w!==null&&Gm(f,w)&&(a.flags|=32),a.memoizedState!==null&&(f=Zf(s,a,hR,null,null,i),ho._currentValue=f),$c(s,a),Ns(s,a,c,i),a.child;case 6:return s===null&&xt&&((s=i=Kt)&&(i=QR(i,a.pendingProps,Bn),i!==null?(a.stateNode=i,ks=a,Kt=null,s=!0):s=!1),s||Ar(a)),null;case 13:return d0(s,a,i);case 4:return Ne(a,a.stateNode.containerInfo),c=a.pendingProps,s===null?a.child=Dl(a,null,c,i):Ns(s,a,c,i),a.child;case 11:return s0(s,a,a.type,a.pendingProps,i);case 7:return Ns(s,a,a.pendingProps,i),a.child;case 8:return Ns(s,a,a.pendingProps.children,i),a.child;case 12:return Ns(s,a,a.pendingProps.children,i),a.child;case 10:return c=a.pendingProps,La(a,a.type,c.value),Ns(s,a,c.children,i),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Tr(a),f=As(f),c=c(f),a.flags|=1,Ns(s,a,c,i),a.child;case 14:return n0(s,a,a.type,a.pendingProps,i);case 15:return a0(s,a,a.type,a.pendingProps,i);case 19:return f0(s,a,i);case 31:return c=a.pendingProps,i=a.mode,c={mode:c.mode,children:c.children},s===null?(i=Vc(c,i),i.ref=a.ref,a.child=i,i.return=a,a=i):(i=da(s.child,c),i.ref=a.ref,a.child=i,i.return=a,a=i),a;case 22:return r0(s,a,i);case 24:return Tr(a),c=As(cs),s===null?(f=Lf(),f===null&&(f=zt,h=zf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=i),f=h),a.memoizedState={parent:c,cache:f},Uf(a),La(a,cs,f)):((s.lanes&i)!==0&&(Ff(s,a),Hi(a,null,null,i),Bi()),f=s.memoizedState,h=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),La(a,cs,c)):(c=h.cache,La(a,cs,c),c!==f.cache&&Of(a,[cs],i,!0))),Ns(s,a,a.pendingProps.children,i),a.child;case 29:throw a.pendingProps}throw Error(l(156,a.tag))}function va(s){s.flags|=4}function h0(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!Ny(a)){if(a=fn.current,a!==null&&((dt&4194048)===dt?Hn!==null:(dt&62914560)!==dt&&(dt&536870912)===0||a!==Hn))throw Vi=qf,Qg;s.flags|=8192}}function Ic(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Zx():536870912,s.lanes|=a,zl|=a)}function Wi(s,a){if(!xt)switch(s.tailMode){case"hidden":a=s.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?s.tail=null:i.sibling=null;break;case"collapsed":i=s.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:c.sibling=null}}function Zt(s){var a=s.alternate!==null&&s.alternate.child===s.child,i=0,c=0;if(a)for(var f=s.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=s,f=f.sibling;else for(f=s.child;f!==null;)i|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=s,f=f.sibling;return s.subtreeFlags|=c,s.childLanes=i,a}function wR(s,a,i){var c=a.pendingProps;switch(Tf(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(a),null;case 1:return Zt(a),null;case 3:return i=a.stateNode,c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),ha(cs),ve(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(s===null||s.child===null)&&(zi(a)?va(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Zg())),Zt(a),null;case 26:return i=a.memoizedState,s===null?(va(a),i!==null?(Zt(a),h0(a,i)):(Zt(a),a.flags&=-16777217)):i?i!==s.memoizedState?(va(a),Zt(a),h0(a,i)):(Zt(a),a.flags&=-16777217):(s.memoizedProps!==c&&va(a),Zt(a),a.flags&=-16777217),null;case 27:ce(a),i=ne.current;var f=a.type;if(s!==null&&a.stateNode!=null)s.memoizedProps!==c&&va(a);else{if(!c){if(a.stateNode===null)throw Error(l(166));return Zt(a),null}s=T.current,zi(a)?Bg(a):(s=hy(f,c,i),a.stateNode=s,va(a))}return Zt(a),null;case 5:if(ce(a),i=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==c&&va(a);else{if(!c){if(a.stateNode===null)throw Error(l(166));return Zt(a),null}if(s=T.current,zi(a))Bg(a);else{switch(f=sd(ne.current),s){case 1:s=f.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=f.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=f.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=f.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?s.multiple=!0:c.size&&(s.size=c.size);break;default:s=typeof c.is=="string"?f.createElement(i,{is:c.is}):f.createElement(i)}}s[Cs]=a,s[Ps]=c;e:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break e;for(;f.sibling===null;){if(f.return===null||f.return===a)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=s;e:switch(_s(s,i,c),i){case"button":case"input":case"select":case"textarea":s=!!c.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&va(a)}}return Zt(a),a.flags&=-16777217,null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==c&&va(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(l(166));if(s=ne.current,zi(a)){if(s=a.stateNode,i=a.memoizedProps,c=null,f=ks,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}s[Cs]=a,s=!!(s.nodeValue===i||c!==null&&c.suppressHydrationWarning===!0||iy(s.nodeValue,i)),s||Ar(a)}else s=sd(s).createTextNode(c),s[Cs]=a,a.stateNode=s}return Zt(a),null;case 13:if(c=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(f=zi(a),c!==null&&c.dehydrated!==null){if(s===null){if(!f)throw Error(l(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[Cs]=a}else Pi(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Zt(a),f=!1}else f=Zg(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(xa(a),a):(xa(a),null)}if(xa(a),(a.flags&128)!==0)return a.lanes=i,a;if(i=c!==null,s=s!==null&&s.memoizedState!==null,i){c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var h=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(h=c.memoizedState.cachePool.pool),h!==f&&(c.flags|=2048)}return i!==s&&i&&(a.child.flags|=8192),Ic(a,a.updateQueue),Zt(a),null;case 4:return ve(),s===null&&Vm(a.stateNode.containerInfo),Zt(a),null;case 10:return ha(a.type),Zt(a),null;case 19:if(K(ds),f=a.memoizedState,f===null)return Zt(a),null;if(c=(a.flags&128)!==0,h=f.rendering,h===null)if(c)Wi(f,!1);else{if(Qt!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(h=qc(s),h!==null){for(a.flags|=128,Wi(f,!1),s=h.updateQueue,a.updateQueue=s,Ic(a,s),a.subtreeFlags=0,s=i,i=a.child;i!==null;)Vg(i,s),i=i.sibling;return F(ds,ds.current&1|2),a.child}s=s.sibling}f.tail!==null&&De()>Zc&&(a.flags|=128,c=!0,Wi(f,!1),a.lanes=4194304)}else{if(!c)if(s=qc(h),s!==null){if(a.flags|=128,c=!0,s=s.updateQueue,a.updateQueue=s,Ic(a,s),Wi(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!xt)return Zt(a),null}else 2*De()-f.renderingStartTime>Zc&&i!==536870912&&(a.flags|=128,c=!0,Wi(f,!1),a.lanes=4194304);f.isBackwards?(h.sibling=a.child,a.child=h):(s=f.last,s!==null?s.sibling=h:a.child=h,f.last=h)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=De(),a.sibling=null,s=ds.current,F(ds,c?s&1|2:s&1),a):(Zt(a),null);case 22:case 23:return xa(a),Bf(),c=a.memoizedState!==null,s!==null?s.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(i&536870912)!==0&&(a.flags&128)===0&&(Zt(a),a.subtreeFlags&6&&(a.flags|=8192)):Zt(a),i=a.updateQueue,i!==null&&Ic(a,i.retryQueue),i=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==i&&(a.flags|=2048),s!==null&&K(Dr),null;case 24:return i=null,s!==null&&(i=s.memoizedState.cache),a.memoizedState.cache!==i&&(a.flags|=2048),ha(cs),Zt(a),null;case 25:return null;case 30:return null}throw Error(l(156,a.tag))}function _R(s,a){switch(Tf(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ha(cs),ve(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ce(a),null;case 13:if(xa(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(l(340));Pi()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return K(ds),null;case 4:return ve(),null;case 10:return ha(a.type),null;case 22:case 23:return xa(a),Bf(),s!==null&&K(Dr),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return ha(cs),null;case 25:return null;default:return null}}function p0(s,a){switch(Tf(a),a.tag){case 3:ha(cs),ve();break;case 26:case 27:case 5:ce(a);break;case 4:ve();break;case 13:xa(a);break;case 19:K(ds);break;case 10:ha(a.type);break;case 22:case 23:xa(a),Bf(),s!==null&&K(Dr);break;case 24:ha(cs)}}function Ji(s,a){try{var i=a.updateQueue,c=i!==null?i.lastEffect:null;if(c!==null){var f=c.next;i=f;do{if((i.tag&s)===s){c=void 0;var h=i.create,w=i.inst;c=h(),w.destroy=c}i=i.next}while(i!==f)}}catch(E){Dt(a,a.return,E)}}function Ba(s,a,i){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var h=f.next;c=h;do{if((c.tag&s)===s){var w=c.inst,E=w.destroy;if(E!==void 0){w.destroy=void 0,f=a;var I=i,ee=E;try{ee()}catch(pe){Dt(f,I,pe)}}}c=c.next}while(c!==h)}}catch(pe){Dt(a,a.return,pe)}}function x0(s){var a=s.updateQueue;if(a!==null){var i=s.stateNode;try{nv(a,i)}catch(c){Dt(s,s.return,c)}}}function g0(s,a,i){i.props=Mr(s.type,s.memoizedProps),i.state=s.memoizedState;try{i.componentWillUnmount()}catch(c){Dt(s,a,c)}}function eo(s,a){try{var i=s.ref;if(i!==null){switch(s.tag){case 26:case 27:case 5:var c=s.stateNode;break;case 30:c=s.stateNode;break;default:c=s.stateNode}typeof i=="function"?s.refCleanup=i(c):i.current=c}}catch(f){Dt(s,a,f)}}function Zn(s,a){var i=s.ref,c=s.refCleanup;if(i!==null)if(typeof c=="function")try{c()}catch(f){Dt(s,a,f)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){Dt(s,a,f)}else i.current=null}function v0(s){var a=s.type,i=s.memoizedProps,c=s.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":i.autoFocus&&c.focus();break e;case"img":i.src?c.src=i.src:i.srcSet&&(c.srcset=i.srcSet)}}catch(f){Dt(s,s.return,f)}}function vm(s,a,i){try{var c=s.stateNode;HR(c,s.type,i,a),c[Ps]=a}catch(f){Dt(s,s.return,f)}}function y0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Wa(s.type)||s.tag===4}function ym(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||y0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Wa(s.type)||s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function jm(s,a,i){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(s,a):(a=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.appendChild(s),i=i._reactRootContainer,i!=null||a.onclick!==null||(a.onclick=td));else if(c!==4&&(c===27&&Wa(s.type)&&(i=s.stateNode,a=null),s=s.child,s!==null))for(jm(s,a,i),s=s.sibling;s!==null;)jm(s,a,i),s=s.sibling}function Bc(s,a,i){var c=s.tag;if(c===5||c===6)s=s.stateNode,a?i.insertBefore(s,a):i.appendChild(s);else if(c!==4&&(c===27&&Wa(s.type)&&(i=s.stateNode),s=s.child,s!==null))for(Bc(s,a,i),s=s.sibling;s!==null;)Bc(s,a,i),s=s.sibling}function j0(s){var a=s.stateNode,i=s.memoizedProps;try{for(var c=s.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);_s(a,c,i),a[Cs]=s,a[Ps]=i}catch(h){Dt(s,s.return,h)}}var ya=!1,ts=!1,bm=!1,b0=typeof WeakSet=="function"?WeakSet:Set,ys=null;function SR(s,a){if(s=s.containerInfo,Hm=od,s=kg(s),yf(s)){if("selectionStart"in s)var i={start:s.selectionStart,end:s.selectionEnd};else e:{i=(i=s.ownerDocument)&&i.defaultView||window;var c=i.getSelection&&i.getSelection();if(c&&c.rangeCount!==0){i=c.anchorNode;var f=c.anchorOffset,h=c.focusNode;c=c.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var w=0,E=-1,I=-1,ee=0,pe=0,be=s,se=null;t:for(;;){for(var ae;be!==i||f!==0&&be.nodeType!==3||(E=w+f),be!==h||c!==0&&be.nodeType!==3||(I=w+c),be.nodeType===3&&(w+=be.nodeValue.length),(ae=be.firstChild)!==null;)se=be,be=ae;for(;;){if(be===s)break t;if(se===i&&++ee===f&&(E=w),se===h&&++pe===c&&(I=w),(ae=be.nextSibling)!==null)break;be=se,se=be.parentNode}be=ae}i=E===-1||I===-1?null:{start:E,end:I}}else i=null}i=i||{start:0,end:0}}else i=null;for(Zm={focusedElem:s,selectionRange:i},od=!1,ys=a;ys!==null;)if(a=ys,s=a.child,(a.subtreeFlags&1024)!==0&&s!==null)s.return=a,ys=s;else for(;ys!==null;){switch(a=ys,h=a.alternate,s=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((s&1024)!==0&&h!==null){s=void 0,i=a,f=h.memoizedProps,h=h.memoizedState,c=i.stateNode;try{var Xe=Mr(i.type,f,i.elementType===i.type);s=c.getSnapshotBeforeUpdate(Xe,h),c.__reactInternalSnapshotBeforeUpdate=s}catch(Ze){Dt(i,i.return,Ze)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,i=s.nodeType,i===9)Xm(s);else if(i===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Xm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(l(163))}if(s=a.sibling,s!==null){s.return=a.return,ys=s;break}ys=a.return}}function N0(s,a,i){var c=i.flags;switch(i.tag){case 0:case 11:case 15:Ha(s,i),c&4&&Ji(5,i);break;case 1:if(Ha(s,i),c&4)if(s=i.stateNode,a===null)try{s.componentDidMount()}catch(w){Dt(i,i.return,w)}else{var f=Mr(i.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(f,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){Dt(i,i.return,w)}}c&64&&x0(i),c&512&&eo(i,i.return);break;case 3:if(Ha(s,i),c&64&&(s=i.updateQueue,s!==null)){if(a=null,i.child!==null)switch(i.child.tag){case 27:case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}try{nv(s,a)}catch(w){Dt(i,i.return,w)}}break;case 27:a===null&&c&4&&j0(i);case 26:case 5:Ha(s,i),a===null&&c&4&&v0(i),c&512&&eo(i,i.return);break;case 12:Ha(s,i);break;case 13:Ha(s,i),c&4&&S0(s,i),c&64&&(s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(i=OR.bind(null,i),WR(s,i))));break;case 22:if(c=i.memoizedState!==null||ya,!c){a=a!==null&&a.memoizedState!==null||ts,f=ya;var h=ts;ya=c,(ts=a)&&!h?Za(s,i,(i.subtreeFlags&8772)!==0):Ha(s,i),ya=f,ts=h}break;case 30:break;default:Ha(s,i)}}function w0(s){var a=s.alternate;a!==null&&(s.alternate=null,w0(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Ju(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var $t=null,Us=!1;function ja(s,a,i){for(i=i.child;i!==null;)_0(s,a,i),i=i.sibling}function _0(s,a,i){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount($e,i)}catch{}switch(i.tag){case 26:ts||Zn(i,a),ja(s,a,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:ts||Zn(i,a);var c=$t,f=Us;Wa(i.type)&&($t=i.stateNode,Us=!1),ja(s,a,i),co(i.stateNode),$t=c,Us=f;break;case 5:ts||Zn(i,a);case 6:if(c=$t,f=Us,$t=null,ja(s,a,i),$t=c,Us=f,$t!==null)if(Us)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(i.stateNode)}catch(h){Dt(i,a,h)}else try{$t.removeChild(i.stateNode)}catch(h){Dt(i,a,h)}break;case 18:$t!==null&&(Us?(s=$t,fy(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,i.stateNode),vo(s)):fy($t,i.stateNode));break;case 4:c=$t,f=Us,$t=i.stateNode.containerInfo,Us=!0,ja(s,a,i),$t=c,Us=f;break;case 0:case 11:case 14:case 15:ts||Ba(2,i,a),ts||Ba(4,i,a),ja(s,a,i);break;case 1:ts||(Zn(i,a),c=i.stateNode,typeof c.componentWillUnmount=="function"&&g0(i,a,c)),ja(s,a,i);break;case 21:ja(s,a,i);break;case 22:ts=(c=ts)||i.memoizedState!==null,ja(s,a,i),ts=c;break;default:ja(s,a,i)}}function S0(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{vo(s)}catch(i){Dt(a,a.return,i)}}function RR(s){switch(s.tag){case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new b0),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new b0),a;default:throw Error(l(435,s.tag))}}function Nm(s,a){var i=RR(s);a.forEach(function(c){var f=zR.bind(null,s,c);i.has(c)||(i.add(c),c.then(f,f))})}function Qs(s,a){var i=a.deletions;if(i!==null)for(var c=0;c<i.length;c++){var f=i[c],h=s,w=a,E=w;e:for(;E!==null;){switch(E.tag){case 27:if(Wa(E.type)){$t=E.stateNode,Us=!1;break e}break;case 5:$t=E.stateNode,Us=!1;break e;case 3:case 4:$t=E.stateNode.containerInfo,Us=!0;break e}E=E.return}if($t===null)throw Error(l(160));_0(h,w,f),$t=null,Us=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)R0(a,s),a=a.sibling}var Cn=null;function R0(s,a){var i=s.alternate,c=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Qs(a,s),Ws(s),c&4&&(Ba(3,s,s.return),Ji(3,s),Ba(5,s,s.return));break;case 1:Qs(a,s),Ws(s),c&512&&(ts||i===null||Zn(i,i.return)),c&64&&ya&&(s=s.updateQueue,s!==null&&(c=s.callbacks,c!==null&&(i=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=i===null?c:i.concat(c))));break;case 26:var f=Cn;if(Qs(a,s),Ws(s),c&512&&(ts||i===null||Zn(i,i.return)),c&4){var h=i!==null?i.memoizedState:null;if(c=s.memoizedState,i===null)if(c===null)if(s.stateNode===null){e:{c=s.type,i=s.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":h=f.getElementsByTagName("title")[0],(!h||h[_i]||h[Cs]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(c),f.head.insertBefore(h,f.querySelector("head > title"))),_s(h,c,i),h[Cs]=s,gs(h),c=h;break e;case"link":var w=jy("link","href",f).get(c+(i.href||""));if(w){for(var E=0;E<w.length;E++)if(h=w[E],h.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&h.getAttribute("rel")===(i.rel==null?null:i.rel)&&h.getAttribute("title")===(i.title==null?null:i.title)&&h.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){w.splice(E,1);break t}}h=f.createElement(c),_s(h,c,i),f.head.appendChild(h);break;case"meta":if(w=jy("meta","content",f).get(c+(i.content||""))){for(E=0;E<w.length;E++)if(h=w[E],h.getAttribute("content")===(i.content==null?null:""+i.content)&&h.getAttribute("name")===(i.name==null?null:i.name)&&h.getAttribute("property")===(i.property==null?null:i.property)&&h.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&h.getAttribute("charset")===(i.charSet==null?null:i.charSet)){w.splice(E,1);break t}}h=f.createElement(c),_s(h,c,i),f.head.appendChild(h);break;default:throw Error(l(468,c))}h[Cs]=s,gs(h),c=h}s.stateNode=c}else by(f,s.type,s.stateNode);else s.stateNode=yy(f,c,s.memoizedProps);else h!==c?(h===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):h.count--,c===null?by(f,s.type,s.stateNode):yy(f,c,s.memoizedProps)):c===null&&s.stateNode!==null&&vm(s,s.memoizedProps,i.memoizedProps)}break;case 27:Qs(a,s),Ws(s),c&512&&(ts||i===null||Zn(i,i.return)),i!==null&&c&4&&vm(s,s.memoizedProps,i.memoizedProps);break;case 5:if(Qs(a,s),Ws(s),c&512&&(ts||i===null||Zn(i,i.return)),s.flags&32){f=s.stateNode;try{ml(f,"")}catch(ae){Dt(s,s.return,ae)}}c&4&&s.stateNode!=null&&(f=s.memoizedProps,vm(s,f,i!==null?i.memoizedProps:f)),c&1024&&(bm=!0);break;case 6:if(Qs(a,s),Ws(s),c&4){if(s.stateNode===null)throw Error(l(162));c=s.memoizedProps,i=s.stateNode;try{i.nodeValue=c}catch(ae){Dt(s,s.return,ae)}}break;case 3:if(rd=null,f=Cn,Cn=nd(a.containerInfo),Qs(a,s),Cn=f,Ws(s),c&4&&i!==null&&i.memoizedState.isDehydrated)try{vo(a.containerInfo)}catch(ae){Dt(s,s.return,ae)}bm&&(bm=!1,C0(s));break;case 4:c=Cn,Cn=nd(s.stateNode.containerInfo),Qs(a,s),Ws(s),Cn=c;break;case 12:Qs(a,s),Ws(s);break;case 13:Qs(a,s),Ws(s),s.child.flags&8192&&s.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Am=De()),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nm(s,c)));break;case 22:f=s.memoizedState!==null;var I=i!==null&&i.memoizedState!==null,ee=ya,pe=ts;if(ya=ee||f,ts=pe||I,Qs(a,s),ts=pe,ya=ee,Ws(s),c&8192)e:for(a=s.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(i===null||I||ya||ts||Or(s)),i=null,a=s;;){if(a.tag===5||a.tag===26){if(i===null){I=i=a;try{if(h=I.stateNode,f)w=h.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{E=I.stateNode;var be=I.memoizedProps.style,se=be!=null&&be.hasOwnProperty("display")?be.display:null;E.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ae){Dt(I,I.return,ae)}}}else if(a.tag===6){if(i===null){I=a;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(ae){Dt(I,I.return,ae)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;i===a&&(i=null),a=a.return}i===a&&(i=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=s.updateQueue,c!==null&&(i=c.retryQueue,i!==null&&(c.retryQueue=null,Nm(s,i))));break;case 19:Qs(a,s),Ws(s),c&4&&(c=s.updateQueue,c!==null&&(s.updateQueue=null,Nm(s,c)));break;case 30:break;case 21:break;default:Qs(a,s),Ws(s)}}function Ws(s){var a=s.flags;if(a&2){try{for(var i,c=s.return;c!==null;){if(y0(c)){i=c;break}c=c.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var f=i.stateNode,h=ym(s);Bc(s,h,f);break;case 5:var w=i.stateNode;i.flags&32&&(ml(w,""),i.flags&=-33);var E=ym(s);Bc(s,E,w);break;case 3:case 4:var I=i.stateNode.containerInfo,ee=ym(s);jm(s,ee,I);break;default:throw Error(l(161))}}catch(pe){Dt(s,s.return,pe)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function C0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;C0(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Ha(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)N0(s,a.alternate,a),a=a.sibling}function Or(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Ba(4,a,a.return),Or(a);break;case 1:Zn(a,a.return);var i=a.stateNode;typeof i.componentWillUnmount=="function"&&g0(a,a.return,i),Or(a);break;case 27:co(a.stateNode);case 26:case 5:Zn(a,a.return),Or(a);break;case 22:a.memoizedState===null&&Or(a);break;case 30:Or(a);break;default:Or(a)}s=s.sibling}}function Za(s,a,i){for(i=i&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=s,h=a,w=h.flags;switch(h.tag){case 0:case 11:case 15:Za(f,h,i),Ji(4,h);break;case 1:if(Za(f,h,i),c=h,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){Dt(c,c.return,ee)}if(c=h,f=c.updateQueue,f!==null){var E=c.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)sv(I[f],E)}catch(ee){Dt(c,c.return,ee)}}i&&w&64&&x0(h),eo(h,h.return);break;case 27:j0(h);case 26:case 5:Za(f,h,i),i&&c===null&&w&4&&v0(h),eo(h,h.return);break;case 12:Za(f,h,i);break;case 13:Za(f,h,i),i&&w&4&&S0(f,h);break;case 22:h.memoizedState===null&&Za(f,h,i),eo(h,h.return);break;case 30:break;default:Za(f,h,i)}a=a.sibling}}function wm(s,a){var i=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==i&&(s!=null&&s.refCount++,i!=null&&Ui(i))}function _m(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ui(s))}function Gn(s,a,i,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)A0(s,a,i,c),a=a.sibling}function A0(s,a,i,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Gn(s,a,i,c),f&2048&&Ji(9,a);break;case 1:Gn(s,a,i,c);break;case 3:Gn(s,a,i,c),f&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&Ui(s)));break;case 12:if(f&2048){Gn(s,a,i,c),s=a.stateNode;try{var h=a.memoizedProps,w=h.id,E=h.onPostCommit;typeof E=="function"&&E(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(I){Dt(a,a.return,I)}}else Gn(s,a,i,c);break;case 13:Gn(s,a,i,c);break;case 23:break;case 22:h=a.stateNode,w=a.alternate,a.memoizedState!==null?h._visibility&2?Gn(s,a,i,c):to(s,a):h._visibility&2?Gn(s,a,i,c):(h._visibility|=2,kl(s,a,i,c,(a.subtreeFlags&10256)!==0)),f&2048&&wm(w,a);break;case 24:Gn(s,a,i,c),f&2048&&_m(a.alternate,a);break;default:Gn(s,a,i,c)}}function kl(s,a,i,c,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var h=s,w=a,E=i,I=c,ee=w.flags;switch(w.tag){case 0:case 11:case 15:kl(h,w,E,I,f),Ji(8,w);break;case 23:break;case 22:var pe=w.stateNode;w.memoizedState!==null?pe._visibility&2?kl(h,w,E,I,f):to(h,w):(pe._visibility|=2,kl(h,w,E,I,f)),f&&ee&2048&&wm(w.alternate,w);break;case 24:kl(h,w,E,I,f),f&&ee&2048&&_m(w.alternate,w);break;default:kl(h,w,E,I,f)}a=a.sibling}}function to(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var i=s,c=a,f=c.flags;switch(c.tag){case 22:to(i,c),f&2048&&wm(c.alternate,c);break;case 24:to(i,c),f&2048&&_m(c.alternate,c);break;default:to(i,c)}a=a.sibling}}var so=8192;function Ml(s){if(s.subtreeFlags&so)for(s=s.child;s!==null;)E0(s),s=s.sibling}function E0(s){switch(s.tag){case 26:Ml(s),s.flags&so&&s.memoizedState!==null&&uC(Cn,s.memoizedState,s.memoizedProps);break;case 5:Ml(s);break;case 3:case 4:var a=Cn;Cn=nd(s.stateNode.containerInfo),Ml(s),Cn=a;break;case 22:s.memoizedState===null&&(a=s.alternate,a!==null&&a.memoizedState!==null?(a=so,so=16777216,Ml(s),so=a):Ml(s));break;default:Ml(s)}}function T0(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function no(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];ys=c,k0(c,s)}T0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)D0(s),s=s.sibling}function D0(s){switch(s.tag){case 0:case 11:case 15:no(s),s.flags&2048&&Ba(9,s,s.return);break;case 3:no(s);break;case 12:no(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Hc(s)):no(s);break;default:no(s)}}function Hc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var i=0;i<a.length;i++){var c=a[i];ys=c,k0(c,s)}T0(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Ba(8,a,a.return),Hc(a);break;case 22:i=a.stateNode,i._visibility&2&&(i._visibility&=-3,Hc(a));break;default:Hc(a)}s=s.sibling}}function k0(s,a){for(;ys!==null;){var i=ys;switch(i.tag){case 0:case 11:case 15:Ba(8,i,a);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var c=i.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ui(i.memoizedState.cache)}if(c=i.child,c!==null)c.return=i,ys=c;else e:for(i=s;ys!==null;){c=ys;var f=c.sibling,h=c.return;if(w0(c),c===i){ys=null;break e}if(f!==null){f.return=h,ys=f;break e}ys=h}}}var CR={getCacheForType:function(s){var a=As(cs),i=a.data.get(s);return i===void 0&&(i=s(),a.data.set(s,i)),i}},AR=typeof WeakMap=="function"?WeakMap:Map,Nt=0,zt=null,lt=null,dt=0,wt=0,Js=null,Ga=!1,Ol=!1,Sm=!1,ba=0,Qt=0,Ya=0,zr=0,Rm=0,mn=0,zl=0,ao=null,Fs=null,Cm=!1,Am=0,Zc=1/0,Gc=null,Xa=null,ws=0,Ka=null,Pl=null,Ll=0,Em=0,Tm=null,M0=null,ro=0,Dm=null;function en(){if((Nt&2)!==0&&dt!==0)return dt&-dt;if(L.T!==null){var s=_l;return s!==0?s:qm()}return Xx()}function O0(){mn===0&&(mn=(dt&536870912)===0||xt?Hx():536870912);var s=fn.current;return s!==null&&(s.flags|=32),mn}function tn(s,a,i){(s===zt&&(wt===2||wt===9)||s.cancelPendingCommit!==null)&&(ql(s,0),Qa(s,dt,mn,!1)),wi(s,i),((Nt&2)===0||s!==zt)&&(s===zt&&((Nt&2)===0&&(zr|=i),Qt===4&&Qa(s,dt,mn,!1)),Yn(s))}function z0(s,a,i){if((Nt&6)!==0)throw Error(l(327));var c=!i&&(a&124)===0&&(a&s.expiredLanes)===0||yr(s,a),f=c?DR(s,a):Om(s,a,!0),h=c;do{if(f===0){Ol&&!c&&Qa(s,a,0,!1);break}else{if(i=s.current.alternate,h&&!ER(i)){f=Om(s,a,!1),h=!1;continue}if(f===2){if(h=a,s.errorRecoveryDisabledLanes&h)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;e:{var E=s;f=ao;var I=E.current.memoizedState.isDehydrated;if(I&&(ql(E,w).flags|=256),w=Om(E,w,!1),w!==2){if(Sm&&!I){E.errorRecoveryDisabledLanes|=h,zr|=h,f=4;break e}h=Fs,Fs=f,h!==null&&(Fs===null?Fs=h:Fs.push.apply(Fs,h))}f=w}if(h=!1,f!==2)continue}}if(f===1){ql(s,0),Qa(s,a,0,!0);break}e:{switch(c=s,h=f,h){case 0:case 1:throw Error(l(345));case 4:if((a&4194048)!==a)break;case 6:Qa(c,a,mn,!Ga);break e;case 2:Fs=null;break;case 3:case 5:break;default:throw Error(l(329))}if((a&62914560)===a&&(f=Am+300-De(),10<f)){if(Qa(c,a,mn,!Ga),vr(c,0,!0)!==0)break e;c.timeoutHandle=dy(P0.bind(null,c,i,Fs,Gc,Cm,a,mn,zr,zl,Ga,h,2,-0,0),f);break e}P0(c,i,Fs,Gc,Cm,a,mn,zr,zl,Ga,h,0,-0,0)}}break}while(!0);Yn(s)}function P0(s,a,i,c,f,h,w,E,I,ee,pe,be,se,ae){if(s.timeoutHandle=-1,be=a.subtreeFlags,(be&8192||(be&16785408)===16785408)&&(mo={stylesheets:null,count:0,unsuspend:dC},E0(a),be=fC(),be!==null)){s.cancelPendingCommit=be(I0.bind(null,s,a,h,i,c,f,w,E,I,pe,1,se,ae)),Qa(s,h,w,!ee);return}I0(s,a,h,i,c,f,w,E,I)}function ER(s){for(var a=s;;){var i=a.tag;if((i===0||i===11||i===15)&&a.flags&16384&&(i=a.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var c=0;c<i.length;c++){var f=i[c],h=f.getSnapshot;f=f.value;try{if(!Xs(h(),f))return!1}catch{return!1}}if(i=a.child,a.subtreeFlags&16384&&i!==null)i.return=a,a=i;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qa(s,a,i,c){a&=~Rm,a&=~zr,s.suspendedLanes|=a,s.pingedLanes&=~a,c&&(s.warmLanes|=a),c=s.expirationTimes;for(var f=a;0<f;){var h=31-Ot(f),w=1<<h;c[h]=-1,f&=~w}i!==0&&Gx(s,i,a)}function Yc(){return(Nt&6)===0?(lo(0),!1):!0}function km(){if(lt!==null){if(wt===0)var s=lt.return;else s=lt,ma=Er=null,Xf(s),Tl=null,Ki=0,s=lt;for(;s!==null;)p0(s.alternate,s),s=s.return;lt=null}}function ql(s,a){var i=s.timeoutHandle;i!==-1&&(s.timeoutHandle=-1,GR(i)),i=s.cancelPendingCommit,i!==null&&(s.cancelPendingCommit=null,i()),km(),zt=s,lt=i=da(s.current,null),dt=a,wt=0,Js=null,Ga=!1,Ol=yr(s,a),Sm=!1,zl=mn=Rm=zr=Ya=Qt=0,Fs=ao=null,Cm=!1,(a&8)!==0&&(a|=a&32);var c=s.entangledLanes;if(c!==0)for(s=s.entanglements,c&=a;0<c;){var f=31-Ot(c),h=1<<f;a|=s[f],c&=~h}return ba=a,xc(),i}function L0(s,a){st=null,L.H=zc,a===$i||a===Sc?(a=ev(),wt=3):a===Qg?(a=ev(),wt=4):wt=a===t0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Js=a,lt===null&&(Qt=1,Fc(s,on(a,s.current)))}function q0(){var s=L.H;return L.H=zc,s===null?zc:s}function U0(){var s=L.A;return L.A=CR,s}function Mm(){Qt=4,Ga||(dt&4194048)!==dt&&fn.current!==null||(Ol=!0),(Ya&134217727)===0&&(zr&134217727)===0||zt===null||Qa(zt,dt,mn,!1)}function Om(s,a,i){var c=Nt;Nt|=2;var f=q0(),h=U0();(zt!==s||dt!==a)&&(Gc=null,ql(s,a)),a=!1;var w=Qt;e:do try{if(wt!==0&&lt!==null){var E=lt,I=Js;switch(wt){case 8:km(),w=6;break e;case 3:case 2:case 9:case 6:fn.current===null&&(a=!0);var ee=wt;if(wt=0,Js=null,Ul(s,E,I,ee),i&&Ol){w=0;break e}break;default:ee=wt,wt=0,Js=null,Ul(s,E,I,ee)}}TR(),w=Qt;break}catch(pe){L0(s,pe)}while(!0);return a&&s.shellSuspendCounter++,ma=Er=null,Nt=c,L.H=f,L.A=h,lt===null&&(zt=null,dt=0,xc()),w}function TR(){for(;lt!==null;)F0(lt)}function DR(s,a){var i=Nt;Nt|=2;var c=q0(),f=U0();zt!==s||dt!==a?(Gc=null,Zc=De()+500,ql(s,a)):Ol=yr(s,a);e:do try{if(wt!==0&&lt!==null){a=lt;var h=Js;t:switch(wt){case 1:wt=0,Js=null,Ul(s,a,h,1);break;case 2:case 9:if(Wg(h)){wt=0,Js=null,$0(a);break}a=function(){wt!==2&&wt!==9||zt!==s||(wt=7),Yn(s)},h.then(a,a);break e;case 3:wt=7;break e;case 4:wt=5;break e;case 7:Wg(h)?(wt=0,Js=null,$0(a)):(wt=0,Js=null,Ul(s,a,h,7));break;case 5:var w=null;switch(lt.tag){case 26:w=lt.memoizedState;case 5:case 27:var E=lt;if(!w||Ny(w)){wt=0,Js=null;var I=E.sibling;if(I!==null)lt=I;else{var ee=E.return;ee!==null?(lt=ee,Xc(ee)):lt=null}break t}}wt=0,Js=null,Ul(s,a,h,5);break;case 6:wt=0,Js=null,Ul(s,a,h,6);break;case 8:km(),Qt=6;break e;default:throw Error(l(462))}}kR();break}catch(pe){L0(s,pe)}while(!0);return ma=Er=null,L.H=c,L.A=f,Nt=i,lt!==null?0:(zt=null,dt=0,xc(),Qt)}function kR(){for(;lt!==null&&!je();)F0(lt)}function F0(s){var a=m0(s.alternate,s,ba);s.memoizedProps=s.pendingProps,a===null?Xc(s):lt=a}function $0(s){var a=s,i=a.alternate;switch(a.tag){case 15:case 0:a=i0(i,a,a.pendingProps,a.type,void 0,dt);break;case 11:a=i0(i,a,a.pendingProps,a.type.render,a.ref,dt);break;case 5:Xf(a);default:p0(i,a),a=lt=Vg(a,ba),a=m0(i,a,ba)}s.memoizedProps=s.pendingProps,a===null?Xc(s):lt=a}function Ul(s,a,i,c){ma=Er=null,Xf(a),Tl=null,Ki=0;var f=a.return;try{if(bR(s,f,a,i,dt)){Qt=1,Fc(s,on(i,s.current)),lt=null;return}}catch(h){if(f!==null)throw lt=f,h;Qt=1,Fc(s,on(i,s.current)),lt=null;return}a.flags&32768?(xt||c===1?s=!0:Ol||(dt&536870912)!==0?s=!1:(Ga=s=!0,(c===2||c===9||c===3||c===6)&&(c=fn.current,c!==null&&c.tag===13&&(c.flags|=16384))),V0(a,s)):Xc(a)}function Xc(s){var a=s;do{if((a.flags&32768)!==0){V0(a,Ga);return}s=a.return;var i=wR(a.alternate,a,ba);if(i!==null){lt=i;return}if(a=a.sibling,a!==null){lt=a;return}lt=a=s}while(a!==null);Qt===0&&(Qt=5)}function V0(s,a){do{var i=_R(s.alternate,s);if(i!==null){i.flags&=32767,lt=i;return}if(i=s.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!a&&(s=s.sibling,s!==null)){lt=s;return}lt=s=i}while(s!==null);Qt=6,lt=null}function I0(s,a,i,c,f,h,w,E,I){s.cancelPendingCommit=null;do Kc();while(ws!==0);if((Nt&6)!==0)throw Error(l(327));if(a!==null){if(a===s.current)throw Error(l(177));if(h=a.lanes|a.childLanes,h|=_f,d2(s,i,h,w,E,I),s===zt&&(lt=zt=null,dt=0),Pl=a,Ka=s,Ll=i,Em=h,Tm=f,M0=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,PR(te,function(){return Y0(),null})):(s.callbackNode=null,s.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=L.T,L.T=null,f=X.p,X.p=2,w=Nt,Nt|=4;try{SR(s,a,i)}finally{Nt=w,X.p=f,L.T=c}}ws=1,B0(),H0(),Z0()}}function B0(){if(ws===1){ws=0;var s=Ka,a=Pl,i=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||i){i=L.T,L.T=null;var c=X.p;X.p=2;var f=Nt;Nt|=4;try{R0(a,s);var h=Zm,w=kg(s.containerInfo),E=h.focusedElem,I=h.selectionRange;if(w!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(I!==null&&yf(E)){var ee=I.start,pe=I.end;if(pe===void 0&&(pe=ee),"selectionStart"in E)E.selectionStart=ee,E.selectionEnd=Math.min(pe,E.value.length);else{var be=E.ownerDocument||document,se=be&&be.defaultView||window;if(se.getSelection){var ae=se.getSelection(),Xe=E.textContent.length,Ze=Math.min(I.start,Xe),Tt=I.end===void 0?Ze:Math.min(I.end,Xe);!ae.extend&&Ze>Tt&&(w=Tt,Tt=Ze,Ze=w);var W=Tg(E,Ze),G=Tg(E,Tt);if(W&&G&&(ae.rangeCount!==1||ae.anchorNode!==W.node||ae.anchorOffset!==W.offset||ae.focusNode!==G.node||ae.focusOffset!==G.offset)){var J=be.createRange();J.setStart(W.node,W.offset),ae.removeAllRanges(),Ze>Tt?(ae.addRange(J),ae.extend(G.node,G.offset)):(J.setEnd(G.node,G.offset),ae.addRange(J))}}}}for(be=[],ae=E;ae=ae.parentNode;)ae.nodeType===1&&be.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<be.length;E++){var ge=be[E];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}od=!!Hm,Zm=Hm=null}finally{Nt=f,X.p=c,L.T=i}}s.current=a,ws=2}}function H0(){if(ws===2){ws=0;var s=Ka,a=Pl,i=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||i){i=L.T,L.T=null;var c=X.p;X.p=2;var f=Nt;Nt|=4;try{N0(s,a.alternate,a)}finally{Nt=f,X.p=c,L.T=i}}ws=3}}function Z0(){if(ws===4||ws===3){ws=0,qe();var s=Ka,a=Pl,i=Ll,c=M0;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ws=5:(ws=0,Pl=Ka=null,G0(s,s.pendingLanes));var f=s.pendingLanes;if(f===0&&(Xa=null),Qu(i),a=a.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot($e,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=L.T,f=X.p,X.p=2,L.T=null;try{for(var h=s.onRecoverableError,w=0;w<c.length;w++){var E=c[w];h(E.value,{componentStack:E.stack})}}finally{L.T=a,X.p=f}}(Ll&3)!==0&&Kc(),Yn(s),f=s.pendingLanes,(i&4194090)!==0&&(f&42)!==0?s===Dm?ro++:(ro=0,Dm=s):ro=0,lo(0)}}function G0(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,Ui(a)))}function Kc(s){return B0(),H0(),Z0(),Y0()}function Y0(){if(ws!==5)return!1;var s=Ka,a=Em;Em=0;var i=Qu(Ll),c=L.T,f=X.p;try{X.p=32>i?32:i,L.T=null,i=Tm,Tm=null;var h=Ka,w=Ll;if(ws=0,Pl=Ka=null,Ll=0,(Nt&6)!==0)throw Error(l(331));var E=Nt;if(Nt|=4,D0(h.current),A0(h,h.current,w,i),Nt=E,lo(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot($e,h)}catch{}return!0}finally{X.p=f,L.T=c,G0(s,a)}}function X0(s,a,i){a=on(i,a),a=cm(s.stateNode,a,2),s=Fa(s,a,2),s!==null&&(wi(s,2),Yn(s))}function Dt(s,a,i){if(s.tag===3)X0(s,s,i);else for(;a!==null;){if(a.tag===3){X0(a,s,i);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Xa===null||!Xa.has(c))){s=on(i,s),i=Jv(2),c=Fa(a,i,2),c!==null&&(e0(i,c,a,s),wi(c,2),Yn(c));break}}a=a.return}}function zm(s,a,i){var c=s.pingCache;if(c===null){c=s.pingCache=new AR;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(i)||(Sm=!0,f.add(i),s=MR.bind(null,s,a,i),a.then(s,s))}function MR(s,a,i){var c=s.pingCache;c!==null&&c.delete(a),s.pingedLanes|=s.suspendedLanes&i,s.warmLanes&=~i,zt===s&&(dt&i)===i&&(Qt===4||Qt===3&&(dt&62914560)===dt&&300>De()-Am?(Nt&2)===0&&ql(s,0):Rm|=i,zl===dt&&(zl=0)),Yn(s)}function K0(s,a){a===0&&(a=Zx()),s=jl(s,a),s!==null&&(wi(s,a),Yn(s))}function OR(s){var a=s.memoizedState,i=0;a!==null&&(i=a.retryLane),K0(s,i)}function zR(s,a){var i=0;switch(s.tag){case 13:var c=s.stateNode,f=s.memoizedState;f!==null&&(i=f.retryLane);break;case 19:c=s.stateNode;break;case 22:c=s.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(a),K0(s,i)}function PR(s,a){return bt(s,a)}var Qc=null,Fl=null,Pm=!1,Wc=!1,Lm=!1,Pr=0;function Yn(s){s!==Fl&&s.next===null&&(Fl===null?Qc=Fl=s:Fl=Fl.next=s),Wc=!0,Pm||(Pm=!0,qR())}function lo(s,a){if(!Lm&&Wc){Lm=!0;do for(var i=!1,c=Qc;c!==null;){if(s!==0){var f=c.pendingLanes;if(f===0)var h=0;else{var w=c.suspendedLanes,E=c.pingedLanes;h=(1<<31-Ot(42|s)+1)-1,h&=f&~(w&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(i=!0,ey(c,h))}else h=dt,h=vr(c,c===zt?h:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(h&3)===0||yr(c,h)||(i=!0,ey(c,h));c=c.next}while(i);Lm=!1}}function LR(){Q0()}function Q0(){Wc=Pm=!1;var s=0;Pr!==0&&(ZR()&&(s=Pr),Pr=0);for(var a=De(),i=null,c=Qc;c!==null;){var f=c.next,h=W0(c,a);h===0?(c.next=null,i===null?Qc=f:i.next=f,f===null&&(Fl=i)):(i=c,(s!==0||(h&3)!==0)&&(Wc=!0)),c=f}lo(s)}function W0(s,a){for(var i=s.suspendedLanes,c=s.pingedLanes,f=s.expirationTimes,h=s.pendingLanes&-62914561;0<h;){var w=31-Ot(h),E=1<<w,I=f[w];I===-1?((E&i)===0||(E&c)!==0)&&(f[w]=ac(E,a)):I<=a&&(s.expiredLanes|=E),h&=~E}if(a=zt,i=dt,i=vr(s,s===a?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c=s.callbackNode,i===0||s===a&&(wt===2||wt===9)||s.cancelPendingCommit!==null)return c!==null&&c!==null&&xs(c),s.callbackNode=null,s.callbackPriority=0;if((i&3)===0||yr(s,i)){if(a=i&-i,a===s.callbackPriority)return a;switch(c!==null&&xs(c),Qu(i)){case 2:case 8:i=V;break;case 32:i=te;break;case 268435456:i=ke;break;default:i=te}return c=J0.bind(null,s),i=bt(i,c),s.callbackPriority=a,s.callbackNode=i,a}return c!==null&&c!==null&&xs(c),s.callbackPriority=2,s.callbackNode=null,2}function J0(s,a){if(ws!==0&&ws!==5)return s.callbackNode=null,s.callbackPriority=0,null;var i=s.callbackNode;if(Kc()&&s.callbackNode!==i)return null;var c=dt;return c=vr(s,s===zt?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),c===0?null:(z0(s,c,a),W0(s,De()),s.callbackNode!=null&&s.callbackNode===i?J0.bind(null,s):null)}function ey(s,a){if(Kc())return null;z0(s,a,!0)}function qR(){YR(function(){(Nt&6)!==0?bt(Rs,LR):Q0()})}function qm(){return Pr===0&&(Pr=Hx()),Pr}function ty(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:cc(""+s)}function sy(s,a){var i=a.ownerDocument.createElement("input");return i.name=a.name,i.value=a.value,s.id&&i.setAttribute("form",s.id),a.parentNode.insertBefore(i,a),s=new FormData(s),i.parentNode.removeChild(i),s}function UR(s,a,i,c,f){if(a==="submit"&&i&&i.stateNode===f){var h=ty((f[Ps]||null).action),w=c.submitter;w&&(a=(a=w[Ps]||null)?ty(a.formAction):w.getAttribute("formAction"),a!==null&&(h=a,w=null));var E=new mc("action","action",null,c,f);s.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Pr!==0){var I=w?sy(f,w):new FormData(f);am(i,{pending:!0,data:I,method:f.method,action:h},null,I)}}else typeof h=="function"&&(E.preventDefault(),I=w?sy(f,w):new FormData(f),am(i,{pending:!0,data:I,method:f.method,action:h},h,I))},currentTarget:f}]})}}for(var Um=0;Um<wf.length;Um++){var Fm=wf[Um],FR=Fm.toLowerCase(),$R=Fm[0].toUpperCase()+Fm.slice(1);Rn(FR,"on"+$R)}Rn(zg,"onAnimationEnd"),Rn(Pg,"onAnimationIteration"),Rn(Lg,"onAnimationStart"),Rn("dblclick","onDoubleClick"),Rn("focusin","onFocus"),Rn("focusout","onBlur"),Rn(aR,"onTransitionRun"),Rn(rR,"onTransitionStart"),Rn(lR,"onTransitionCancel"),Rn(qg,"onTransitionEnd"),dl("onMouseEnter",["mouseout","mouseover"]),dl("onMouseLeave",["mouseout","mouseover"]),dl("onPointerEnter",["pointerout","pointerover"]),dl("onPointerLeave",["pointerout","pointerover"]),jr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),jr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),jr("onBeforeInput",["compositionend","keypress","textInput","paste"]),jr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),jr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var io="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(io));function ny(s,a){a=(a&4)!==0;for(var i=0;i<s.length;i++){var c=s[i],f=c.event;c=c.listeners;e:{var h=void 0;if(a)for(var w=c.length-1;0<=w;w--){var E=c[w],I=E.instance,ee=E.currentTarget;if(E=E.listener,I!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=ee;try{h(f)}catch(pe){Uc(pe)}f.currentTarget=null,h=I}else for(w=0;w<c.length;w++){if(E=c[w],I=E.instance,ee=E.currentTarget,E=E.listener,I!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=ee;try{h(f)}catch(pe){Uc(pe)}f.currentTarget=null,h=I}}}}function it(s,a){var i=a[Wu];i===void 0&&(i=a[Wu]=new Set);var c=s+"__bubble";i.has(c)||(ay(a,s,2,!1),i.add(c))}function $m(s,a,i){var c=0;a&&(c|=4),ay(i,s,c,a)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Vm(s){if(!s[Jc]){s[Jc]=!0,Qx.forEach(function(i){i!=="selectionchange"&&(VR.has(i)||$m(i,!1,s),$m(i,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Jc]||(a[Jc]=!0,$m("selectionchange",!1,a))}}function ay(s,a,i,c){switch(Ay(a)){case 2:var f=pC;break;case 8:f=xC;break;default:f=sh}i=f.bind(null,a,i,s),f=void 0,!df||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?s.addEventListener(a,i,{capture:!0,passive:f}):s.addEventListener(a,i,!0):f!==void 0?s.addEventListener(a,i,{passive:f}):s.addEventListener(a,i,!1)}function Im(s,a,i,c,f){var h=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var w=c.tag;if(w===3||w===4){var E=c.stateNode.containerInfo;if(E===f)break;if(w===4)for(w=c.return;w!==null;){var I=w.tag;if((I===3||I===4)&&w.stateNode.containerInfo===f)return;w=w.return}for(;E!==null;){if(w=il(E),w===null)return;if(I=w.tag,I===5||I===6||I===26||I===27){c=h=w;continue e}E=E.parentNode}}c=c.return}ug(function(){var ee=h,pe=of(i),be=[];e:{var se=Ug.get(s);if(se!==void 0){var ae=mc,Xe=s;switch(s){case"keypress":if(uc(i)===0)break e;case"keydown":case"keyup":ae=P2;break;case"focusin":Xe="focus",ae=hf;break;case"focusout":Xe="blur",ae=hf;break;case"beforeblur":case"afterblur":ae=hf;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=hg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=_2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=U2;break;case zg:case Pg:case Lg:ae=C2;break;case qg:ae=$2;break;case"scroll":case"scrollend":ae=N2;break;case"wheel":ae=I2;break;case"copy":case"cut":case"paste":ae=E2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=xg;break;case"toggle":case"beforetoggle":ae=H2}var Ze=(a&4)!==0,Tt=!Ze&&(s==="scroll"||s==="scrollend"),W=Ze?se!==null?se+"Capture":null:se;Ze=[];for(var G=ee,J;G!==null;){var ge=G;if(J=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||J===null||W===null||(ge=Ri(G,W),ge!=null&&Ze.push(oo(G,ge,J))),Tt)break;G=G.return}0<Ze.length&&(se=new ae(se,Xe,null,i,pe),be.push({event:se,listeners:Ze}))}}if((a&7)===0){e:{if(se=s==="mouseover"||s==="pointerover",ae=s==="mouseout"||s==="pointerout",se&&i!==lf&&(Xe=i.relatedTarget||i.fromElement)&&(il(Xe)||Xe[ll]))break e;if((ae||se)&&(se=pe.window===pe?pe:(se=pe.ownerDocument)?se.defaultView||se.parentWindow:window,ae?(Xe=i.relatedTarget||i.toElement,ae=ee,Xe=Xe?il(Xe):null,Xe!==null&&(Tt=d(Xe),Ze=Xe.tag,Xe!==Tt||Ze!==5&&Ze!==27&&Ze!==6)&&(Xe=null)):(ae=null,Xe=ee),ae!==Xe)){if(Ze=hg,ge="onMouseLeave",W="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(Ze=xg,ge="onPointerLeave",W="onPointerEnter",G="pointer"),Tt=ae==null?se:Si(ae),J=Xe==null?se:Si(Xe),se=new Ze(ge,G+"leave",ae,i,pe),se.target=Tt,se.relatedTarget=J,ge=null,il(pe)===ee&&(Ze=new Ze(W,G+"enter",Xe,i,pe),Ze.target=J,Ze.relatedTarget=Tt,ge=Ze),Tt=ge,ae&&Xe)t:{for(Ze=ae,W=Xe,G=0,J=Ze;J;J=$l(J))G++;for(J=0,ge=W;ge;ge=$l(ge))J++;for(;0<G-J;)Ze=$l(Ze),G--;for(;0<J-G;)W=$l(W),J--;for(;G--;){if(Ze===W||W!==null&&Ze===W.alternate)break t;Ze=$l(Ze),W=$l(W)}Ze=null}else Ze=null;ae!==null&&ry(be,se,ae,Ze,!1),Xe!==null&&Tt!==null&&ry(be,Tt,Xe,Ze,!0)}}e:{if(se=ee?Si(ee):window,ae=se.nodeName&&se.nodeName.toLowerCase(),ae==="select"||ae==="input"&&se.type==="file")var Me=_g;else if(Ng(se))if(Sg)Me=tR;else{Me=J2;var at=W2}else ae=se.nodeName,!ae||ae.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ee&&rf(ee.elementType)&&(Me=_g):Me=eR;if(Me&&(Me=Me(s,ee))){wg(be,Me,i,pe);break e}at&&at(s,se,ee),s==="focusout"&&ee&&se.type==="number"&&ee.memoizedProps.value!=null&&af(se,"number",se.value)}switch(at=ee?Si(ee):window,s){case"focusin":(Ng(at)||at.contentEditable==="true")&&(gl=at,jf=ee,Oi=null);break;case"focusout":Oi=jf=gl=null;break;case"mousedown":bf=!0;break;case"contextmenu":case"mouseup":case"dragend":bf=!1,Mg(be,i,pe);break;case"selectionchange":if(nR)break;case"keydown":case"keyup":Mg(be,i,pe)}var Ve;if(xf)e:{switch(s){case"compositionstart":var Ye="onCompositionStart";break e;case"compositionend":Ye="onCompositionEnd";break e;case"compositionupdate":Ye="onCompositionUpdate";break e}Ye=void 0}else xl?jg(s,i)&&(Ye="onCompositionEnd"):s==="keydown"&&i.keyCode===229&&(Ye="onCompositionStart");Ye&&(gg&&i.locale!=="ko"&&(xl||Ye!=="onCompositionStart"?Ye==="onCompositionEnd"&&xl&&(Ve=fg()):(Pa=pe,uf="value"in Pa?Pa.value:Pa.textContent,xl=!0)),at=ed(ee,Ye),0<at.length&&(Ye=new pg(Ye,s,null,i,pe),be.push({event:Ye,listeners:at}),Ve?Ye.data=Ve:(Ve=bg(i),Ve!==null&&(Ye.data=Ve)))),(Ve=G2?Y2(s,i):X2(s,i))&&(Ye=ed(ee,"onBeforeInput"),0<Ye.length&&(at=new pg("onBeforeInput","beforeinput",null,i,pe),be.push({event:at,listeners:Ye}),at.data=Ve)),UR(be,s,ee,i,pe)}ny(be,a)})}function oo(s,a,i){return{instance:s,listener:a,currentTarget:i}}function ed(s,a){for(var i=a+"Capture",c=[];s!==null;){var f=s,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Ri(s,i),f!=null&&c.unshift(oo(s,f,h)),f=Ri(s,a),f!=null&&c.push(oo(s,f,h))),s.tag===3)return c;s=s.return}return[]}function $l(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function ry(s,a,i,c,f){for(var h=a._reactName,w=[];i!==null&&i!==c;){var E=i,I=E.alternate,ee=E.stateNode;if(E=E.tag,I!==null&&I===c)break;E!==5&&E!==26&&E!==27||ee===null||(I=ee,f?(ee=Ri(i,h),ee!=null&&w.unshift(oo(i,ee,I))):f||(ee=Ri(i,h),ee!=null&&w.push(oo(i,ee,I)))),i=i.return}w.length!==0&&s.push({event:a,listeners:w})}var IR=/\r\n?/g,BR=/\u0000|\uFFFD/g;function ly(s){return(typeof s=="string"?s:""+s).replace(IR,`
`).replace(BR,"")}function iy(s,a){return a=ly(a),ly(s)===a}function td(){}function Et(s,a,i,c,f,h){switch(i){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||ml(s,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&ml(s,""+c);break;case"className":lc(s,"class",c);break;case"tabIndex":lc(s,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":lc(s,i,c);break;case"style":cg(s,c,h);break;case"data":if(a!=="object"){lc(s,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||i!=="href")){s.removeAttribute(i);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(i);break}c=cc(""+c),s.setAttribute(i,c);break;case"action":case"formAction":if(typeof c=="function"){s.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(i==="formAction"?(a!=="input"&&Et(s,a,"name",f.name,f,null),Et(s,a,"formEncType",f.formEncType,f,null),Et(s,a,"formMethod",f.formMethod,f,null),Et(s,a,"formTarget",f.formTarget,f,null)):(Et(s,a,"encType",f.encType,f,null),Et(s,a,"method",f.method,f,null),Et(s,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){s.removeAttribute(i);break}c=cc(""+c),s.setAttribute(i,c);break;case"onClick":c!=null&&(s.onclick=td);break;case"onScroll":c!=null&&it("scroll",s);break;case"onScrollEnd":c!=null&&it("scrollend",s);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(l(60));s.innerHTML=i}}break;case"multiple":s.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":s.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){s.removeAttribute("xlink:href");break}i=cc(""+c),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(i,""+c):s.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(i,""):s.removeAttribute(i);break;case"capture":case"download":c===!0?s.setAttribute(i,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?s.setAttribute(i,c):s.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?s.setAttribute(i,c):s.removeAttribute(i);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?s.removeAttribute(i):s.setAttribute(i,c);break;case"popover":it("beforetoggle",s),it("toggle",s),rc(s,"popover",c);break;case"xlinkActuate":oa(s,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":oa(s,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":oa(s,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":oa(s,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":oa(s,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":oa(s,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":oa(s,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":oa(s,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":oa(s,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":rc(s,"is",c);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=j2.get(i)||i,rc(s,i,c))}}function Bm(s,a,i,c,f,h){switch(i){case"style":cg(s,c,h);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(i=c.__html,i!=null){if(f.children!=null)throw Error(l(60));s.innerHTML=i}}break;case"children":typeof c=="string"?ml(s,c):(typeof c=="number"||typeof c=="bigint")&&ml(s,""+c);break;case"onScroll":c!=null&&it("scroll",s);break;case"onScrollEnd":c!=null&&it("scrollend",s);break;case"onClick":c!=null&&(s.onclick=td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wx.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),a=i.slice(2,f?i.length-7:void 0),h=s[Ps]||null,h=h!=null?h[i]:null,typeof h=="function"&&s.removeEventListener(a,h,f),typeof c=="function")){typeof h!="function"&&h!==null&&(i in s?s[i]=null:s.hasAttribute(i)&&s.removeAttribute(i)),s.addEventListener(a,c,f);break e}i in s?s[i]=c:c===!0?s.setAttribute(i,""):rc(s,i,c)}}}function _s(s,a,i){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",s),it("load",s);var c=!1,f=!1,h;for(h in i)if(i.hasOwnProperty(h)){var w=i[h];if(w!=null)switch(h){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:Et(s,a,h,w,i,null)}}f&&Et(s,a,"srcSet",i.srcSet,i,null),c&&Et(s,a,"src",i.src,i,null);return;case"input":it("invalid",s);var E=h=w=f=null,I=null,ee=null;for(c in i)if(i.hasOwnProperty(c)){var pe=i[c];if(pe!=null)switch(c){case"name":f=pe;break;case"type":w=pe;break;case"checked":I=pe;break;case"defaultChecked":ee=pe;break;case"value":h=pe;break;case"defaultValue":E=pe;break;case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(l(137,a));break;default:Et(s,a,c,pe,i,null)}}rg(s,h,E,I,ee,w,f,!1),ic(s);return;case"select":it("invalid",s),c=w=h=null;for(f in i)if(i.hasOwnProperty(f)&&(E=i[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":w=E;break;case"multiple":c=E;default:Et(s,a,f,E,i,null)}a=h,i=w,s.multiple=!!c,a!=null?fl(s,!!c,a,!1):i!=null&&fl(s,!!c,i,!0);return;case"textarea":it("invalid",s),h=f=c=null;for(w in i)if(i.hasOwnProperty(w)&&(E=i[w],E!=null))switch(w){case"value":c=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Et(s,a,w,E,i,null)}ig(s,c,f,h),ic(s);return;case"option":for(I in i)if(i.hasOwnProperty(I)&&(c=i[I],c!=null))switch(I){case"selected":s.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Et(s,a,I,c,i,null)}return;case"dialog":it("beforetoggle",s),it("toggle",s),it("cancel",s),it("close",s);break;case"iframe":case"object":it("load",s);break;case"video":case"audio":for(c=0;c<io.length;c++)it(io[c],s);break;case"image":it("error",s),it("load",s);break;case"details":it("toggle",s);break;case"embed":case"source":case"link":it("error",s),it("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in i)if(i.hasOwnProperty(ee)&&(c=i[ee],c!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,a));default:Et(s,a,ee,c,i,null)}return;default:if(rf(a)){for(pe in i)i.hasOwnProperty(pe)&&(c=i[pe],c!==void 0&&Bm(s,a,pe,c,i,void 0));return}}for(E in i)i.hasOwnProperty(E)&&(c=i[E],c!=null&&Et(s,a,E,c,i,null))}function HR(s,a,i,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,w=null,E=null,I=null,ee=null,pe=null;for(ae in i){var be=i[ae];if(i.hasOwnProperty(ae)&&be!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":I=be;default:c.hasOwnProperty(ae)||Et(s,a,ae,null,c,be)}}for(var se in c){var ae=c[se];if(be=i[se],c.hasOwnProperty(se)&&(ae!=null||be!=null))switch(se){case"type":h=ae;break;case"name":f=ae;break;case"checked":ee=ae;break;case"defaultChecked":pe=ae;break;case"value":w=ae;break;case"defaultValue":E=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,a));break;default:ae!==be&&Et(s,a,se,ae,c,be)}}nf(s,w,E,I,ee,pe,h,f);return;case"select":ae=w=E=se=null;for(h in i)if(I=i[h],i.hasOwnProperty(h)&&I!=null)switch(h){case"value":break;case"multiple":ae=I;default:c.hasOwnProperty(h)||Et(s,a,h,null,c,I)}for(f in c)if(h=c[f],I=i[f],c.hasOwnProperty(f)&&(h!=null||I!=null))switch(f){case"value":se=h;break;case"defaultValue":E=h;break;case"multiple":w=h;default:h!==I&&Et(s,a,f,h,c,I)}a=E,i=w,c=ae,se!=null?fl(s,!!i,se,!1):!!c!=!!i&&(a!=null?fl(s,!!i,a,!0):fl(s,!!i,i?[]:"",!1));return;case"textarea":ae=se=null;for(E in i)if(f=i[E],i.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Et(s,a,E,null,c,f)}for(w in c)if(f=c[w],h=i[w],c.hasOwnProperty(w)&&(f!=null||h!=null))switch(w){case"value":se=f;break;case"defaultValue":ae=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==h&&Et(s,a,w,f,c,h)}lg(s,se,ae);return;case"option":for(var Xe in i)if(se=i[Xe],i.hasOwnProperty(Xe)&&se!=null&&!c.hasOwnProperty(Xe))switch(Xe){case"selected":s.selected=!1;break;default:Et(s,a,Xe,null,c,se)}for(I in c)if(se=c[I],ae=i[I],c.hasOwnProperty(I)&&se!==ae&&(se!=null||ae!=null))switch(I){case"selected":s.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:Et(s,a,I,se,c,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in i)se=i[Ze],i.hasOwnProperty(Ze)&&se!=null&&!c.hasOwnProperty(Ze)&&Et(s,a,Ze,null,c,se);for(ee in c)if(se=c[ee],ae=i[ee],c.hasOwnProperty(ee)&&se!==ae&&(se!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(l(137,a));break;default:Et(s,a,ee,se,c,ae)}return;default:if(rf(a)){for(var Tt in i)se=i[Tt],i.hasOwnProperty(Tt)&&se!==void 0&&!c.hasOwnProperty(Tt)&&Bm(s,a,Tt,void 0,c,se);for(pe in c)se=c[pe],ae=i[pe],!c.hasOwnProperty(pe)||se===ae||se===void 0&&ae===void 0||Bm(s,a,pe,se,c,ae);return}}for(var W in i)se=i[W],i.hasOwnProperty(W)&&se!=null&&!c.hasOwnProperty(W)&&Et(s,a,W,null,c,se);for(be in c)se=c[be],ae=i[be],!c.hasOwnProperty(be)||se===ae||se==null&&ae==null||Et(s,a,be,se,c,ae)}var Hm=null,Zm=null;function sd(s){return s.nodeType===9?s:s.ownerDocument}function oy(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cy(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Gm(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Ym=null;function ZR(){var s=window.event;return s&&s.type==="popstate"?s===Ym?!1:(Ym=s,!0):(Ym=null,!1)}var dy=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(s){return uy.resolve(null).then(s).catch(XR)}:dy;function XR(s){setTimeout(function(){throw s})}function Wa(s){return s==="head"}function fy(s,a){var i=a,c=0,f=0;do{var h=i.nextSibling;if(s.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(0<c&&8>c){i=c;var w=s.ownerDocument;if(i&1&&co(w.documentElement),i&2&&co(w.body),i&4)for(i=w.head,co(i),w=i.firstChild;w;){var E=w.nextSibling,I=w.nodeName;w[_i]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&w.rel.toLowerCase()==="stylesheet"||i.removeChild(w),w=E}}if(f===0){s.removeChild(h),vo(a);return}f--}else i==="$"||i==="$?"||i==="$!"?f++:c=i.charCodeAt(0)-48;else c=0;i=h}while(i);vo(a)}function Xm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var i=a;switch(a=a.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":Xm(i),Ju(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}s.removeChild(i)}}function KR(s,a,i,c){for(;s.nodeType===1;){var f=i;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(c){if(!s[_i])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(h=s.getAttribute("rel"),h==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(h!==f.rel||s.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||s.getAttribute("title")!==(f.title==null?null:f.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(h=s.getAttribute("src"),(h!==(f.src==null?null:f.src)||s.getAttribute("type")!==(f.type==null?null:f.type)||s.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&s.getAttribute("name")===h)return s}else return s;if(s=An(s.nextSibling),s===null)break}return null}function QR(s,a,i){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!i||(s=An(s.nextSibling),s===null))return null;return s}function Km(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState==="complete"}function WR(s,a){var i=s.ownerDocument;if(s.data!=="$?"||i.readyState==="complete")a();else{var c=function(){a(),i.removeEventListener("DOMContentLoaded",c)};i.addEventListener("DOMContentLoaded",c),s._reactRetry=c}}function An(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return s}var Qm=null;function my(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var i=s.data;if(i==="$"||i==="$!"||i==="$?"){if(a===0)return s;a--}else i==="/$"&&a++}s=s.previousSibling}return null}function hy(s,a,i){switch(a=sd(i),s){case"html":if(s=a.documentElement,!s)throw Error(l(452));return s;case"head":if(s=a.head,!s)throw Error(l(453));return s;case"body":if(s=a.body,!s)throw Error(l(454));return s;default:throw Error(l(451))}}function co(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Ju(s)}var hn=new Map,py=new Set;function nd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Na=X.d;X.d={f:JR,r:eC,D:tC,C:sC,L:nC,m:aC,X:lC,S:rC,M:iC};function JR(){var s=Na.f(),a=Yc();return s||a}function eC(s){var a=ol(s);a!==null&&a.tag===5&&a.type==="form"?zv(a):Na.r(s)}var Vl=typeof document>"u"?null:document;function xy(s,a,i){var c=Vl;if(c&&typeof a=="string"&&a){var f=ln(a);f='link[rel="'+s+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),py.has(f)||(py.add(f),s={rel:s,crossOrigin:i,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),_s(a,"link",s),gs(a),c.head.appendChild(a)))}}function tC(s){Na.D(s),xy("dns-prefetch",s,null)}function sC(s,a){Na.C(s,a),xy("preconnect",s,a)}function nC(s,a,i){Na.L(s,a,i);var c=Vl;if(c&&s&&a){var f='link[rel="preload"][as="'+ln(a)+'"]';a==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+ln(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+ln(i.imageSizes)+'"]')):f+='[href="'+ln(s)+'"]';var h=f;switch(a){case"style":h=Il(s);break;case"script":h=Bl(s)}hn.has(h)||(s=v({rel:"preload",href:a==="image"&&i&&i.imageSrcSet?void 0:s,as:a},i),hn.set(h,s),c.querySelector(f)!==null||a==="style"&&c.querySelector(uo(h))||a==="script"&&c.querySelector(fo(h))||(a=c.createElement("link"),_s(a,"link",s),gs(a),c.head.appendChild(a)))}}function aC(s,a){Na.m(s,a);var i=Vl;if(i&&s){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+ln(c)+'"][href="'+ln(s)+'"]',h=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Bl(s)}if(!hn.has(h)&&(s=v({rel:"modulepreload",href:s},a),hn.set(h,s),i.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(fo(h)))return}c=i.createElement("link"),_s(c,"link",s),gs(c),i.head.appendChild(c)}}}function rC(s,a,i){Na.S(s,a,i);var c=Vl;if(c&&s){var f=cl(c).hoistableStyles,h=Il(s);a=a||"default";var w=f.get(h);if(!w){var E={loading:0,preload:null};if(w=c.querySelector(uo(h)))E.loading=5;else{s=v({rel:"stylesheet",href:s,"data-precedence":a},i),(i=hn.get(h))&&Wm(s,i);var I=w=c.createElement("link");gs(I),_s(I,"link",s),I._p=new Promise(function(ee,pe){I.onload=ee,I.onerror=pe}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ad(w,a,c)}w={type:"stylesheet",instance:w,count:1,state:E},f.set(h,w)}}}function lC(s,a){Na.X(s,a);var i=Vl;if(i&&s){var c=cl(i).hoistableScripts,f=Bl(s),h=c.get(f);h||(h=i.querySelector(fo(f)),h||(s=v({src:s,async:!0},a),(a=hn.get(f))&&Jm(s,a),h=i.createElement("script"),gs(h),_s(h,"link",s),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function iC(s,a){Na.M(s,a);var i=Vl;if(i&&s){var c=cl(i).hoistableScripts,f=Bl(s),h=c.get(f);h||(h=i.querySelector(fo(f)),h||(s=v({src:s,async:!0,type:"module"},a),(a=hn.get(f))&&Jm(s,a),h=i.createElement("script"),gs(h),_s(h,"link",s),i.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},c.set(f,h))}}function gy(s,a,i,c){var f=(f=ne.current)?nd(f):null;if(!f)throw Error(l(446));switch(s){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(a=Il(i.href),i=cl(f).hoistableStyles,c=i.get(a),c||(c={type:"style",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){s=Il(i.href);var h=cl(f).hoistableStyles,w=h.get(s);if(w||(f=f.ownerDocument||f,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(s,w),(h=f.querySelector(uo(s)))&&!h._p&&(w.instance=h,w.state.loading=5),hn.has(s)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},hn.set(s,i),h||oC(f,s,i,w.state))),a&&c===null)throw Error(l(528,""));return w}if(a&&c!==null)throw Error(l(529,""));return null;case"script":return a=i.async,i=i.src,typeof i=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Bl(i),i=cl(f).hoistableScripts,c=i.get(a),c||(c={type:"script",instance:null,count:0,state:null},i.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,s))}}function Il(s){return'href="'+ln(s)+'"'}function uo(s){return'link[rel="stylesheet"]['+s+"]"}function vy(s){return v({},s,{"data-precedence":s.precedence,precedence:null})}function oC(s,a,i,c){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=s.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),_s(a,"link",i),gs(a),s.head.appendChild(a))}function Bl(s){return'[src="'+ln(s)+'"]'}function fo(s){return"script[async]"+s}function yy(s,a,i){if(a.count++,a.instance===null)switch(a.type){case"style":var c=s.querySelector('style[data-href~="'+ln(i.href)+'"]');if(c)return a.instance=c,gs(c),c;var f=v({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return c=(s.ownerDocument||s).createElement("style"),gs(c),_s(c,"style",f),ad(c,i.precedence,s),a.instance=c;case"stylesheet":f=Il(i.href);var h=s.querySelector(uo(f));if(h)return a.state.loading|=4,a.instance=h,gs(h),h;c=vy(i),(f=hn.get(f))&&Wm(c,f),h=(s.ownerDocument||s).createElement("link"),gs(h);var w=h;return w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),_s(h,"link",c),a.state.loading|=4,ad(h,i.precedence,s),a.instance=h;case"script":return h=Bl(i.src),(f=s.querySelector(fo(h)))?(a.instance=f,gs(f),f):(c=i,(f=hn.get(h))&&(c=v({},i),Jm(c,f)),s=s.ownerDocument||s,f=s.createElement("script"),gs(f),_s(f,"link",c),s.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(l(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,ad(c,i.precedence,s));return a.instance}function ad(s,a,i){for(var c=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,h=f,w=0;w<c.length;w++){var E=c[w];if(E.dataset.precedence===a)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(s,h.nextSibling):(a=i.nodeType===9?i.head:i,a.insertBefore(s,a.firstChild))}function Wm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Jm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var rd=null;function jy(s,a,i){if(rd===null){var c=new Map,f=rd=new Map;f.set(i,c)}else f=rd,c=f.get(i),c||(c=new Map,f.set(i,c));if(c.has(s))return c;for(c.set(s,null),i=i.getElementsByTagName(s),f=0;f<i.length;f++){var h=i[f];if(!(h[_i]||h[Cs]||s==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var w=h.getAttribute(a)||"";w=s+w;var E=c.get(w);E?E.push(h):c.set(w,[h])}}return c}function by(s,a,i){s=s.ownerDocument||s,s.head.insertBefore(i,a==="title"?s.querySelector("head > title"):null)}function cC(s,a,i){if(i===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function Ny(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}var mo=null;function dC(){}function uC(s,a,i){if(mo===null)throw Error(l(475));var c=mo;if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Il(i.href),h=s.querySelector(uo(f));if(h){s=h._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(c.count++,c=ld.bind(c),s.then(c,c)),a.state.loading|=4,a.instance=h,gs(h);return}h=s.ownerDocument||s,i=vy(i),(f=hn.get(f))&&Wm(i,f),h=h.createElement("link"),gs(h);var w=h;w._p=new Promise(function(E,I){w.onload=E,w.onerror=I}),_s(h,"link",i),a.instance=h}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=ld.bind(c),s.addEventListener("load",a),s.addEventListener("error",a))}}function fC(){if(mo===null)throw Error(l(475));var s=mo;return s.stylesheets&&s.count===0&&eh(s,s.stylesheets),0<s.count?function(a){var i=setTimeout(function(){if(s.stylesheets&&eh(s,s.stylesheets),s.unsuspend){var c=s.unsuspend;s.unsuspend=null,c()}},6e4);return s.unsuspend=a,function(){s.unsuspend=null,clearTimeout(i)}}:null}function ld(){if(this.count--,this.count===0){if(this.stylesheets)eh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var id=null;function eh(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,id=new Map,a.forEach(mC,s),id=null,ld.call(s))}function mC(s,a){if(!(a.state.loading&4)){var i=id.get(s);if(i)var c=i.get(null);else{i=new Map,id.set(s,i);for(var f=s.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var w=f[h];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(i.set(w.dataset.precedence,w),c=w)}c&&i.set(null,c)}f=a.instance,w=f.getAttribute("data-precedence"),h=i.get(w)||c,h===c&&i.set(null,f),i.set(w,f),this.count++,c=ld.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),h?h.parentNode.insertBefore(f,h.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(f,s.firstChild)),a.state.loading|=4}}var ho={$$typeof:S,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function hC(s,a,i,c,f,h,w,E){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Xu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xu(0),this.hiddenUpdates=Xu(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function wy(s,a,i,c,f,h,w,E,I,ee,pe,be){return s=new hC(s,a,i,w,E,I,ee,be),a=1,h===!0&&(a|=24),h=Ks(3,null,null,a),s.current=h,h.stateNode=s,a=zf(),a.refCount++,s.pooledCache=a,a.refCount++,h.memoizedState={element:c,isDehydrated:i,cache:a},Uf(h),s}function _y(s){return s?(s=bl,s):bl}function Sy(s,a,i,c,f,h){f=_y(f),c.context===null?c.context=f:c.pendingContext=f,c=Ua(a),c.payload={element:i},h=h===void 0?null:h,h!==null&&(c.callback=h),i=Fa(s,c,a),i!==null&&(tn(i,s,a),Ii(i,s,a))}function Ry(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var i=s.retryLane;s.retryLane=i!==0&&i<a?i:a}}function th(s,a){Ry(s,a),(s=s.alternate)&&Ry(s,a)}function Cy(s){if(s.tag===13){var a=jl(s,67108864);a!==null&&tn(a,s,67108864),th(s,67108864)}}var od=!0;function pC(s,a,i,c){var f=L.T;L.T=null;var h=X.p;try{X.p=2,sh(s,a,i,c)}finally{X.p=h,L.T=f}}function xC(s,a,i,c){var f=L.T;L.T=null;var h=X.p;try{X.p=8,sh(s,a,i,c)}finally{X.p=h,L.T=f}}function sh(s,a,i,c){if(od){var f=nh(c);if(f===null)Im(s,a,c,cd,i),Ey(s,c);else if(vC(f,s,a,i,c))c.stopPropagation();else if(Ey(s,c),a&4&&-1<gC.indexOf(s)){for(;f!==null;){var h=ol(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var w=ia(h.pendingLanes);if(w!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;w;){var I=1<<31-Ot(w);E.entanglements[1]|=I,w&=~I}Yn(h),(Nt&6)===0&&(Zc=De()+500,lo(0))}}break;case 13:E=jl(h,2),E!==null&&tn(E,h,2),Yc(),th(h,2)}if(h=nh(c),h===null&&Im(s,a,c,cd,i),h===f)break;f=h}f!==null&&c.stopPropagation()}else Im(s,a,c,null,i)}}function nh(s){return s=of(s),ah(s)}var cd=null;function ah(s){if(cd=null,s=il(s),s!==null){var a=d(s);if(a===null)s=null;else{var i=a.tag;if(i===13){if(s=u(a),s!==null)return s;s=null}else if(i===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return cd=s,null}function Ay(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jt()){case Rs:return 2;case V:return 8;case te:case xe:return 32;case ke:return 268435456;default:return 32}default:return 32}}var rh=!1,Ja=null,er=null,tr=null,po=new Map,xo=new Map,sr=[],gC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ey(s,a){switch(s){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":er=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":po.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xo.delete(a.pointerId)}}function go(s,a,i,c,f,h){return s===null||s.nativeEvent!==h?(s={blockedOn:a,domEventName:i,eventSystemFlags:c,nativeEvent:h,targetContainers:[f]},a!==null&&(a=ol(a),a!==null&&Cy(a)),s):(s.eventSystemFlags|=c,a=s.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),s)}function vC(s,a,i,c,f){switch(a){case"focusin":return Ja=go(Ja,s,a,i,c,f),!0;case"dragenter":return er=go(er,s,a,i,c,f),!0;case"mouseover":return tr=go(tr,s,a,i,c,f),!0;case"pointerover":var h=f.pointerId;return po.set(h,go(po.get(h)||null,s,a,i,c,f)),!0;case"gotpointercapture":return h=f.pointerId,xo.set(h,go(xo.get(h)||null,s,a,i,c,f)),!0}return!1}function Ty(s){var a=il(s.target);if(a!==null){var i=d(a);if(i!==null){if(a=i.tag,a===13){if(a=u(i),a!==null){s.blockedOn=a,u2(s.priority,function(){if(i.tag===13){var c=en();c=Ku(c);var f=jl(i,c);f!==null&&tn(f,i,c),th(i,c)}});return}}else if(a===3&&i.stateNode.current.memoizedState.isDehydrated){s.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var i=nh(s.nativeEvent);if(i===null){i=s.nativeEvent;var c=new i.constructor(i.type,i);lf=c,i.target.dispatchEvent(c),lf=null}else return a=ol(i),a!==null&&Cy(a),s.blockedOn=i,!1;a.shift()}return!0}function Dy(s,a,i){dd(s)&&i.delete(a)}function yC(){rh=!1,Ja!==null&&dd(Ja)&&(Ja=null),er!==null&&dd(er)&&(er=null),tr!==null&&dd(tr)&&(tr=null),po.forEach(Dy),xo.forEach(Dy)}function ud(s,a){s.blockedOn===a&&(s.blockedOn=null,rh||(rh=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,yC)))}var fd=null;function ky(s){fd!==s&&(fd=s,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fd===s&&(fd=null);for(var a=0;a<s.length;a+=3){var i=s[a],c=s[a+1],f=s[a+2];if(typeof c!="function"){if(ah(c||i)===null)continue;break}var h=ol(i);h!==null&&(s.splice(a,3),a-=3,am(h,{pending:!0,data:f,method:i.method,action:c},c,f))}}))}function vo(s){function a(I){return ud(I,s)}Ja!==null&&ud(Ja,s),er!==null&&ud(er,s),tr!==null&&ud(tr,s),po.forEach(a),xo.forEach(a);for(var i=0;i<sr.length;i++){var c=sr[i];c.blockedOn===s&&(c.blockedOn=null)}for(;0<sr.length&&(i=sr[0],i.blockedOn===null);)Ty(i),i.blockedOn===null&&sr.shift();if(i=(s.ownerDocument||s).$$reactFormReplay,i!=null)for(c=0;c<i.length;c+=3){var f=i[c],h=i[c+1],w=f[Ps]||null;if(typeof h=="function")w||ky(i);else if(w){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,w=h[Ps]||null)E=w.formAction;else if(ah(f)!==null)continue}else E=w.action;typeof E=="function"?i[c+1]=E:(i.splice(c,3),c-=3),ky(i)}}}function lh(s){this._internalRoot=s}md.prototype.render=lh.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(l(409));var i=a.current,c=en();Sy(i,c,s,a,null,null)},md.prototype.unmount=lh.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Sy(s.current,2,null,s,null,null),Yc(),a[ll]=null}};function md(s){this._internalRoot=s}md.prototype.unstable_scheduleHydration=function(s){if(s){var a=Xx();s={blockedOn:null,target:s,priority:a};for(var i=0;i<sr.length&&a!==0&&a<sr[i].priority;i++);sr.splice(i,0,s),i===0&&Ty(s)}};var My=n.version;if(My!=="19.1.1")throw Error(l(527,My,"19.1.1"));X.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(l(188)):(s=Object.keys(s).join(","),Error(l(268,s)));return s=g(a),s=s!==null?x(s):null,s=s===null?null:s.stateNode,s};var jC={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hd.isDisabled&&hd.supportsFiber)try{$e=hd.inject(jC),We=hd}catch{}}return jo.createRoot=function(s,a){if(!o(s))throw Error(l(299));var i=!1,c="",f=Xv,h=Kv,w=Qv,E=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(E=a.unstable_transitionCallbacks)),a=wy(s,1,!1,null,null,i,c,f,h,w,E,null),s[ll]=a.current,Vm(s),new lh(a)},jo.hydrateRoot=function(s,a,i){if(!o(s))throw Error(l(299));var c=!1,f="",h=Xv,w=Kv,E=Qv,I=null,ee=null;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(w=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(I=i.unstable_transitionCallbacks),i.formState!==void 0&&(ee=i.formState)),a=wy(s,1,!0,a,i??null,c,f,h,w,E,I,ee),a.context=_y(null),i=a.current,c=en(),c=Ku(c),f=Ua(c),f.callback=null,Fa(i,f,c),i=c,a.current.lanes=i,wi(a,i),Yn(a),s[ll]=a.current,Vm(s),new md(a)},jo.version="19.1.1",jo}var Iy;function TC(){if(Iy)return ch.exports;Iy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}return e(),ch.exports=EC(),ch.exports}var DC=TC();/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var By="popstate";function kC(e={}){function n(l,o){let{pathname:d,search:u,hash:m}=l.location;return Ih("",{pathname:d,search:u,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(l,o){return typeof o=="string"?o:Mo(o)}return OC(n,r,null,e)}function Bt(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function On(e,n){if(!e){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function MC(){return Math.random().toString(36).substring(2,10)}function Hy(e,n){return{usr:e.state,key:e.key,idx:n}}function Ih(e,n,r=null,l){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof n=="string"?ui(n):n,state:r,key:n&&n.key||l||MC()}}function Mo({pathname:e="/",search:n="",hash:r=""}){return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ui(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substring(r),e=e.substring(0,r));let l=e.indexOf("?");l>=0&&(n.search=e.substring(l),e=e.substring(0,l)),e&&(n.pathname=e)}return n}function OC(e,n,r,l={}){let{window:o=document.defaultView,v5Compat:d=!1}=l,u=o.history,m="POP",g=null,x=v();x==null&&(x=0,u.replaceState({...u.state,idx:x},""));function v(){return(u.state||{idx:null}).idx}function y(){m="POP";let b=v(),A=b==null?null:b-x;x=b,g&&g({action:m,location:j.location,delta:A})}function N(b,A){m="PUSH";let D=Ih(j.location,b,A);x=v()+1;let S=Hy(D,x),q=j.createHref(D);try{u.pushState(S,"",q)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(q)}d&&g&&g({action:m,location:j.location,delta:1})}function C(b,A){m="REPLACE";let D=Ih(j.location,b,A);x=v();let S=Hy(D,x),q=j.createHref(D);u.replaceState(S,"",q),d&&g&&g({action:m,location:j.location,delta:0})}function _(b){return zC(b)}let j={get action(){return m},get location(){return e(o,u)},listen(b){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(By,y),g=b,()=>{o.removeEventListener(By,y),g=null}},createHref(b){return n(o,b)},createURL:_,encodeLocation(b){let A=_(b);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:N,replace:C,go(b){return u.go(b)}};return j}function zC(e,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(r,"No window.location.(origin|href) available to create URL");let l=typeof e=="string"?e:Mo(e);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Ub(e,n,r="/"){return PC(e,n,r,!1)}function PC(e,n,r,l){let o=typeof n=="string"?ui(n):n,d=Aa(o.pathname||"/",r);if(d==null)return null;let u=Fb(e);LC(u);let m=null;for(let g=0;m==null&&g<u.length;++g){let x=YC(d);m=ZC(u[g],x,l)}return m}function Fb(e,n=[],r=[],l="",o=!1){let d=(u,m,g=o,x)=>{let v={relativePath:x===void 0?u.path||"":x,caseSensitive:u.caseSensitive===!0,childrenIndex:m,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(l)&&g)return;Bt(v.relativePath.startsWith(l),`Absolute route path "${v.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(l.length)}let y=Ra([l,v.relativePath]),N=r.concat(v);u.children&&u.children.length>0&&(Bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Fb(u.children,n,N,y,g)),!(u.path==null&&!u.index)&&n.push({path:y,score:BC(y,u.index),routesMeta:N})};return e.forEach((u,m)=>{if(u.path===""||!u.path?.includes("?"))d(u,m);else for(let g of $b(u.path))d(u,m,!0,g)}),n}function $b(e){let n=e.split("/");if(n.length===0)return[];let[r,...l]=n,o=r.endsWith("?"),d=r.replace(/\?$/,"");if(l.length===0)return o?[d,""]:[d];let u=$b(l.join("/")),m=[];return m.push(...u.map(g=>g===""?d:[d,g].join("/"))),o&&m.push(...u),m.map(g=>e.startsWith("/")&&g===""?"/":g)}function LC(e){e.sort((n,r)=>n.score!==r.score?r.score-n.score:HC(n.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var qC=/^:[\w-]+$/,UC=3,FC=2,$C=1,VC=10,IC=-2,Zy=e=>e==="*";function BC(e,n){let r=e.split("/"),l=r.length;return r.some(Zy)&&(l+=IC),n&&(l+=FC),r.filter(o=>!Zy(o)).reduce((o,d)=>o+(qC.test(d)?UC:d===""?$C:VC),l)}function HC(e,n){return e.length===n.length&&e.slice(0,-1).every((l,o)=>l===n[o])?e[e.length-1]-n[n.length-1]:0}function ZC(e,n,r=!1){let{routesMeta:l}=e,o={},d="/",u=[];for(let m=0;m<l.length;++m){let g=l[m],x=m===l.length-1,v=d==="/"?n:n.slice(d.length)||"/",y=Ud({path:g.relativePath,caseSensitive:g.caseSensitive,end:x},v),N=g.route;if(!y&&x&&r&&!l[l.length-1].route.index&&(y=Ud({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Ra([d,y.pathname]),pathnameBase:WC(Ra([d,y.pathnameBase])),route:N}),y.pathnameBase!=="/"&&(d=Ra([d,y.pathnameBase]))}return u}function Ud(e,n){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,l]=GC(e.path,e.caseSensitive,e.end),o=n.match(r);if(!o)return null;let d=o[0],u=d.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:l.reduce((x,{paramName:v,isOptional:y},N)=>{if(v==="*"){let _=m[N]||"";u=d.slice(0,d.length-_.length).replace(/(.)\/+$/,"$1")}const C=m[N];return y&&!C?x[v]=void 0:x[v]=(C||"").replace(/%2F/g,"/"),x},{}),pathname:d,pathnameBase:u,pattern:e}}function GC(e,n=!1,r=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let l=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,m,g)=>(l.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(l.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function YC(e){try{return e.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),e}}function Aa(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,l=e.charAt(r);return l&&l!=="/"?null:e.slice(r)||"/"}function XC(e,n="/"){let{pathname:r,search:l="",hash:o=""}=typeof e=="string"?ui(e):e;return{pathname:r?r.startsWith("/")?r:KC(r,n):n,search:JC(l),hash:e4(o)}}function KC(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function mh(e,n,r,l){return`Cannot include a '${e}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function QC(e){return e.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Op(e){let n=QC(e);return n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase)}function zp(e,n,r,l=!1){let o;typeof e=="string"?o=ui(e):(o={...e},Bt(!o.pathname||!o.pathname.includes("?"),mh("?","pathname","search",o)),Bt(!o.pathname||!o.pathname.includes("#"),mh("#","pathname","hash",o)),Bt(!o.search||!o.search.includes("#"),mh("#","search","hash",o)));let d=e===""||o.pathname==="",u=d?"/":o.pathname,m;if(u==null)m=r;else{let y=n.length-1;if(!l&&u.startsWith("..")){let N=u.split("/");for(;N[0]==="..";)N.shift(),y-=1;o.pathname=N.join("/")}m=y>=0?n[y]:"/"}let g=XC(o,m),x=u&&u!=="/"&&u.endsWith("/"),v=(d||u===".")&&r.endsWith("/");return!g.pathname.endsWith("/")&&(x||v)&&(g.pathname+="/"),g}var Ra=e=>e.join("/").replace(/\/\/+/g,"/"),WC=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),JC=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,e4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function t4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Vb=["POST","PUT","PATCH","DELETE"];new Set(Vb);var s4=["GET",...Vb];new Set(s4);var fi=p.createContext(null);fi.displayName="DataRouter";var lu=p.createContext(null);lu.displayName="DataRouterState";p.createContext(!1);var Ib=p.createContext({isTransitioning:!1});Ib.displayName="ViewTransition";var n4=p.createContext(new Map);n4.displayName="Fetchers";var a4=p.createContext(null);a4.displayName="Await";var Un=p.createContext(null);Un.displayName="Navigation";var Vo=p.createContext(null);Vo.displayName="Location";var _n=p.createContext({outlet:null,matches:[],isDataRoute:!1});_n.displayName="Route";var Pp=p.createContext(null);Pp.displayName="RouteError";function r4(e,{relative:n}={}){Bt(mi(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=p.useContext(Un),{hash:o,pathname:d,search:u}=Io(e,{relative:n}),m=d;return r!=="/"&&(m=d==="/"?r:Ra([r,d])),l.createHref({pathname:m,search:u,hash:o})}function mi(){return p.useContext(Vo)!=null}function Fn(){return Bt(mi(),"useLocation() may be used only in the context of a <Router> component."),p.useContext(Vo).location}var Bb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hb(e){p.useContext(Un).static||p.useLayoutEffect(e)}function hi(){let{isDataRoute:e}=p.useContext(_n);return e?b4():l4()}function l4(){Bt(mi(),"useNavigate() may be used only in the context of a <Router> component.");let e=p.useContext(fi),{basename:n,navigator:r}=p.useContext(Un),{matches:l}=p.useContext(_n),{pathname:o}=Fn(),d=JSON.stringify(Op(l)),u=p.useRef(!1);return Hb(()=>{u.current=!0}),p.useCallback((g,x={})=>{if(On(u.current,Bb),!u.current)return;if(typeof g=="number"){r.go(g);return}let v=zp(g,JSON.parse(d),o,x.relative==="path");e==null&&n!=="/"&&(v.pathname=v.pathname==="/"?n:Ra([n,v.pathname])),(x.replace?r.replace:r.push)(v,x.state,x)},[n,r,d,o,e])}var i4=p.createContext(null);function o4(e){let n=p.useContext(_n).outlet;return n&&p.createElement(i4.Provider,{value:e},n)}function c4(){let{matches:e}=p.useContext(_n),n=e[e.length-1];return n?n.params:{}}function Io(e,{relative:n}={}){let{matches:r}=p.useContext(_n),{pathname:l}=Fn(),o=JSON.stringify(Op(r));return p.useMemo(()=>zp(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function d4(e,n){return Zb(e,n)}function Zb(e,n,r,l){Bt(mi(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=p.useContext(Un),{matches:d}=p.useContext(_n),u=d[d.length-1],m=u?u.params:{},g=u?u.pathname:"/",x=u?u.pathnameBase:"/",v=u&&u.route;{let A=v&&v.path||"";Gb(g,!v||A.endsWith("*")||A.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${A}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${A}"> to <Route path="${A==="/"?"*":`${A}/*`}">.`)}let y=Fn(),N;if(n){let A=typeof n=="string"?ui(n):n;Bt(x==="/"||A.pathname?.startsWith(x),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${x}" but pathname "${A.pathname}" was given in the \`location\` prop.`),N=A}else N=y;let C=N.pathname||"/",_=C;if(x!=="/"){let A=x.replace(/^\//,"").split("/");_="/"+C.replace(/^\//,"").split("/").slice(A.length).join("/")}let j=Ub(e,{pathname:_});On(v||j!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),On(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=p4(j&&j.map(A=>Object.assign({},A,{params:Object.assign({},m,A.params),pathname:Ra([x,o.encodeLocation?o.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?x:Ra([x,o.encodeLocation?o.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),d,r,l);return n&&b?p.createElement(Vo.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},b):b}function u4(){let e=j4(),n=t4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},d={padding:"2px 4px",backgroundColor:l},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=p.createElement(p.Fragment,null,p.createElement("p",null,"💿 Hey developer 👋"),p.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",p.createElement("code",{style:d},"ErrorBoundary")," or"," ",p.createElement("code",{style:d},"errorElement")," prop on your route.")),p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},n),r?p.createElement("pre",{style:o},r):null,u)}var f4=p.createElement(u4,null),m4=class extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(_n.Provider,{value:this.props.routeContext},p.createElement(Pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function h4({routeContext:e,match:n,children:r}){let l=p.useContext(fi);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(_n.Provider,{value:e},r)}function p4(e,n=[],r=null,l=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,d=r?.errors;if(d!=null){let g=o.findIndex(x=>x.route.id&&d?.[x.route.id]!==void 0);Bt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let u=!1,m=-1;if(r)for(let g=0;g<o.length;g++){let x=o[g];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(m=g),x.route.id){let{loaderData:v,errors:y}=r,N=x.route.loader&&!v.hasOwnProperty(x.route.id)&&(!y||y[x.route.id]===void 0);if(x.route.lazy||N){u=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,x,v)=>{let y,N=!1,C=null,_=null;r&&(y=d&&x.route.id?d[x.route.id]:void 0,C=x.route.errorElement||f4,u&&(m<0&&v===0?(Gb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,_=null):m===v&&(N=!0,_=x.route.hydrateFallbackElement||null)));let j=n.concat(o.slice(0,v+1)),b=()=>{let A;return y?A=C:N?A=_:x.route.Component?A=p.createElement(x.route.Component,null):x.route.element?A=x.route.element:A=g,p.createElement(h4,{match:x,routeContext:{outlet:g,matches:j,isDataRoute:r!=null},children:A})};return r&&(x.route.ErrorBoundary||x.route.errorElement||v===0)?p.createElement(m4,{location:r.location,revalidation:r.revalidation,component:C,error:y,children:b(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):b()},null)}function Lp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x4(e){let n=p.useContext(fi);return Bt(n,Lp(e)),n}function g4(e){let n=p.useContext(lu);return Bt(n,Lp(e)),n}function v4(e){let n=p.useContext(_n);return Bt(n,Lp(e)),n}function qp(e){let n=v4(e),r=n.matches[n.matches.length-1];return Bt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function y4(){return qp("useRouteId")}function j4(){let e=p.useContext(Pp),n=g4("useRouteError"),r=qp("useRouteError");return e!==void 0?e:n.errors?.[r]}function b4(){let{router:e}=x4("useNavigate"),n=qp("useNavigate"),r=p.useRef(!1);return Hb(()=>{r.current=!0}),p.useCallback(async(o,d={})=>{On(r.current,Bb),r.current&&(typeof o=="number"?e.navigate(o):await e.navigate(o,{fromRouteId:n,...d}))},[e,n])}var Gy={};function Gb(e,n,r){!n&&!Gy[e]&&(Gy[e]=!0,On(!1,r))}p.memo(N4);function N4({routes:e,future:n,state:r}){return Zb(e,void 0,r,n)}function Fd({to:e,replace:n,state:r,relative:l}){Bt(mi(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=p.useContext(Un);On(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=p.useContext(_n),{pathname:u}=Fn(),m=hi(),g=zp(e,Op(d),u,l==="path"),x=JSON.stringify(g);return p.useEffect(()=>{m(JSON.parse(x),{replace:n,state:r,relative:l})},[m,x,l,n,r]),null}function w4(e){return o4(e.context)}function Vt(e){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _4({basename:e="/",children:n=null,location:r,navigationType:l="POP",navigator:o,static:d=!1}){Bt(!mi(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),m=p.useMemo(()=>({basename:u,navigator:o,static:d,future:{}}),[u,o,d]);typeof r=="string"&&(r=ui(r));let{pathname:g="/",search:x="",hash:v="",state:y=null,key:N="default"}=r,C=p.useMemo(()=>{let _=Aa(g,u);return _==null?null:{location:{pathname:_,search:x,hash:v,state:y,key:N},navigationType:l}},[u,g,x,v,y,N,l]);return On(C!=null,`<Router basename="${u}"> is not able to match the URL "${g}${x}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:p.createElement(Un.Provider,{value:m},p.createElement(Vo.Provider,{children:n,value:C}))}function S4({children:e,location:n}){return d4(Bh(e),n)}function Bh(e,n=[]){let r=[];return p.Children.forEach(e,(l,o)=>{if(!p.isValidElement(l))return;let d=[...n,o];if(l.type===p.Fragment){r.push.apply(r,Bh(l.props.children,d));return}Bt(l.type===Vt,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!l.props.index||!l.props.children,"An index route cannot have child routes.");let u={id:l.props.id||d.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(u.children=Bh(l.props.children,d)),r.push(u)}),r}var Ed="get",Td="application/x-www-form-urlencoded";function iu(e){return e!=null&&typeof e.tagName=="string"}function R4(e){return iu(e)&&e.tagName.toLowerCase()==="button"}function C4(e){return iu(e)&&e.tagName.toLowerCase()==="form"}function A4(e){return iu(e)&&e.tagName.toLowerCase()==="input"}function E4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function T4(e,n){return e.button===0&&(!n||n==="_self")&&!E4(e)}var pd=null;function D4(){if(pd===null)try{new FormData(document.createElement("form"),0),pd=!1}catch{pd=!0}return pd}var k4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hh(e){return e!=null&&!k4.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Td}"`),null):e}function M4(e,n){let r,l,o,d,u;if(C4(e)){let m=e.getAttribute("action");l=m?Aa(m,n):null,r=e.getAttribute("method")||Ed,o=hh(e.getAttribute("enctype"))||Td,d=new FormData(e)}else if(R4(e)||A4(e)&&(e.type==="submit"||e.type==="image")){let m=e.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=e.getAttribute("formaction")||m.getAttribute("action");if(l=g?Aa(g,n):null,r=e.getAttribute("formmethod")||m.getAttribute("method")||Ed,o=hh(e.getAttribute("formenctype"))||hh(m.getAttribute("enctype"))||Td,d=new FormData(m,e),!D4()){let{name:x,type:v,value:y}=e;if(v==="image"){let N=x?`${x}.`:"";d.append(`${N}x`,"0"),d.append(`${N}y`,"0")}else x&&d.append(x,y)}}else{if(iu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ed,l=null,o=Td,u=e}return d&&o==="text/plain"&&(u=d,d=void 0),{action:l,method:r.toLowerCase(),encType:o,formData:d,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Up(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function O4(e,n,r){let l=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return l.pathname==="/"?l.pathname=`_root.${r}`:n&&Aa(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function z4(e,n){if(e.id in n)return n[e.id];try{let r=await import(e.module);return n[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function P4(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function L4(e,n,r){let l=await Promise.all(e.map(async o=>{let d=n.routes[o.route.id];if(d){let u=await z4(d,r);return u.links?u.links():[]}return[]}));return $4(l.flat(1).filter(P4).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Yy(e,n,r,l,o,d){let u=(g,x)=>r[x]?g.route.id!==r[x].route.id:!0,m=(g,x)=>r[x].pathname!==g.pathname||r[x].route.path?.endsWith("*")&&r[x].params["*"]!==g.params["*"];return d==="assets"?n.filter((g,x)=>u(g,x)||m(g,x)):d==="data"?n.filter((g,x)=>{let v=l.routes[g.route.id];if(!v||!v.hasLoader)return!1;if(u(g,x)||m(g,x))return!0;if(g.route.shouldRevalidate){let y=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function q4(e,n,{includeHydrateFallback:r}={}){return U4(e.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let d=[o.module];return o.clientActionModule&&(d=d.concat(o.clientActionModule)),o.clientLoaderModule&&(d=d.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(d=d.concat(o.hydrateFallbackModule)),o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function U4(e){return[...new Set(e)]}function F4(e){let n={},r=Object.keys(e).sort();for(let l of r)n[l]=e[l];return n}function $4(e,n){let r=new Set;return new Set(n),e.reduce((l,o)=>{let d=JSON.stringify(F4(o));return r.has(d)||(r.add(d),l.push({key:d,link:o})),l},[])}function Yb(){let e=p.useContext(fi);return Up(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function V4(){let e=p.useContext(lu);return Up(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Fp=p.createContext(void 0);Fp.displayName="FrameworkContext";function Xb(){let e=p.useContext(Fp);return Up(e,"You must render this element inside a <HydratedRouter> element"),e}function I4(e,n){let r=p.useContext(Fp),[l,o]=p.useState(!1),[d,u]=p.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:x,onMouseLeave:v,onTouchStart:y}=n,N=p.useRef(null);p.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let j=A=>{A.forEach(D=>{u(D.isIntersecting)})},b=new IntersectionObserver(j,{threshold:.5});return N.current&&b.observe(N.current),()=>{b.disconnect()}}},[e]),p.useEffect(()=>{if(l){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[l]);let C=()=>{o(!0)},_=()=>{o(!1),u(!1)};return r?e!=="intent"?[d,N,{}]:[d,N,{onFocus:bo(m,C),onBlur:bo(g,_),onMouseEnter:bo(x,C),onMouseLeave:bo(v,_),onTouchStart:bo(y,C)}]:[!1,N,{}]}function bo(e,n){return r=>{e&&e(r),r.defaultPrevented||n(r)}}function B4({page:e,...n}){let{router:r}=Yb(),l=p.useMemo(()=>Ub(r.routes,e,r.basename),[r.routes,e,r.basename]);return l?p.createElement(Z4,{page:e,matches:l,...n}):null}function H4(e){let{manifest:n,routeModules:r}=Xb(),[l,o]=p.useState([]);return p.useEffect(()=>{let d=!1;return L4(e,n,r).then(u=>{d||o(u)}),()=>{d=!0}},[e,n,r]),l}function Z4({page:e,matches:n,...r}){let l=Fn(),{manifest:o,routeModules:d}=Xb(),{basename:u}=Yb(),{loaderData:m,matches:g}=V4(),x=p.useMemo(()=>Yy(e,n,g,o,l,"data"),[e,n,g,o,l]),v=p.useMemo(()=>Yy(e,n,g,o,l,"assets"),[e,n,g,o,l]),y=p.useMemo(()=>{if(e===l.pathname+l.search+l.hash)return[];let _=new Set,j=!1;if(n.forEach(A=>{let D=o.routes[A.route.id];!D||!D.hasLoader||(!x.some(S=>S.route.id===A.route.id)&&A.route.id in m&&d[A.route.id]?.shouldRevalidate||D.hasClientLoader?j=!0:_.add(A.route.id))}),_.size===0)return[];let b=O4(e,u,"data");return j&&_.size>0&&b.searchParams.set("_routes",n.filter(A=>_.has(A.route.id)).map(A=>A.route.id).join(",")),[b.pathname+b.search]},[u,m,l,o,x,n,e,d]),N=p.useMemo(()=>q4(v,o),[v,o]),C=H4(v);return p.createElement(p.Fragment,null,y.map(_=>p.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),N.map(_=>p.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),C.map(({key:_,link:j})=>p.createElement("link",{key:_,nonce:r.nonce,...j})))}function G4(...e){return n=>{e.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var Kb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kb&&(window.__reactRouterVersion="7.8.1")}catch{}function Y4({basename:e,children:n,window:r}){let l=p.useRef();l.current==null&&(l.current=kC({window:r,v5Compat:!0}));let o=l.current,[d,u]=p.useState({action:o.action,location:o.location}),m=p.useCallback(g=>{p.startTransition(()=>u(g))},[u]);return p.useLayoutEffect(()=>o.listen(m),[o,m]),p.createElement(_4,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:o})}var Qb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gt=p.forwardRef(function({onClick:n,discover:r="render",prefetch:l="none",relative:o,reloadDocument:d,replace:u,state:m,target:g,to:x,preventScrollReset:v,viewTransition:y,...N},C){let{basename:_}=p.useContext(Un),j=typeof x=="string"&&Qb.test(x),b,A=!1;if(typeof x=="string"&&j&&(b=x,Kb))try{let Q=new URL(window.location.href),Z=x.startsWith("//")?new URL(Q.protocol+x):new URL(x),z=Aa(Z.pathname,_);Z.origin===Q.origin&&z!=null?x=z+Z.search+Z.hash:A=!0}catch{On(!1,`<Link to="${x}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=r4(x,{relative:o}),[S,q,R]=I4(l,N),k=W4(x,{replace:u,state:m,target:g,preventScrollReset:v,relative:o,viewTransition:y});function $(Q){n&&n(Q),Q.defaultPrevented||k(Q)}let M=p.createElement("a",{...N,...R,href:b||D,onClick:A||d?n:$,ref:G4(C,q),target:g,"data-discover":!j&&r==="render"?"true":void 0});return S&&!j?p.createElement(p.Fragment,null,M,p.createElement(B4,{page:D})):M});Gt.displayName="Link";var X4=p.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:l="",end:o=!1,style:d,to:u,viewTransition:m,children:g,...x},v){let y=Io(u,{relative:x.relative}),N=Fn(),C=p.useContext(lu),{navigator:_,basename:j}=p.useContext(Un),b=C!=null&&nA(y)&&m===!0,A=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,D=N.pathname,S=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;r||(D=D.toLowerCase(),S=S?S.toLowerCase():null,A=A.toLowerCase()),S&&j&&(S=Aa(S,j)||S);const q=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let R=D===A||!o&&D.startsWith(A)&&D.charAt(q)==="/",k=S!=null&&(S===A||!o&&S.startsWith(A)&&S.charAt(A.length)==="/"),$={isActive:R,isPending:k,isTransitioning:b},M=R?n:void 0,Q;typeof l=="function"?Q=l($):Q=[l,R?"active":null,k?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let Z=typeof d=="function"?d($):d;return p.createElement(Gt,{...x,"aria-current":M,className:Q,ref:v,style:Z,to:u,viewTransition:m},typeof g=="function"?g($):g)});X4.displayName="NavLink";var K4=p.forwardRef(({discover:e="render",fetcherKey:n,navigate:r,reloadDocument:l,replace:o,state:d,method:u=Ed,action:m,onSubmit:g,relative:x,preventScrollReset:v,viewTransition:y,...N},C)=>{let _=tA(),j=sA(m,{relative:x}),b=u.toLowerCase()==="get"?"get":"post",A=typeof m=="string"&&Qb.test(m),D=S=>{if(g&&g(S),S.defaultPrevented)return;S.preventDefault();let q=S.nativeEvent.submitter,R=q?.getAttribute("formmethod")||u;_(q||S.currentTarget,{fetcherKey:n,method:R,navigate:r,replace:o,state:d,relative:x,preventScrollReset:v,viewTransition:y})};return p.createElement("form",{ref:C,method:b,action:j,onSubmit:l?g:D,...N,"data-discover":!A&&e==="render"?"true":void 0})});K4.displayName="Form";function Q4(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Wb(e){let n=p.useContext(fi);return Bt(n,Q4(e)),n}function W4(e,{target:n,replace:r,state:l,preventScrollReset:o,relative:d,viewTransition:u}={}){let m=hi(),g=Fn(),x=Io(e,{relative:d});return p.useCallback(v=>{if(T4(v,n)){v.preventDefault();let y=r!==void 0?r:Mo(g)===Mo(x);m(e,{replace:y,state:l,preventScrollReset:o,relative:d,viewTransition:u})}},[g,m,x,r,l,n,e,o,d,u])}var J4=0,eA=()=>`__${String(++J4)}__`;function tA(){let{router:e}=Wb("useSubmit"),{basename:n}=p.useContext(Un),r=y4();return p.useCallback(async(l,o={})=>{let{action:d,method:u,encType:m,formData:g,body:x}=M4(l,n);if(o.navigate===!1){let v=o.fetcherKey||eA();await e.fetch(v,r,o.action||d,{preventScrollReset:o.preventScrollReset,formData:g,body:x,formMethod:o.method||u,formEncType:o.encType||m,flushSync:o.flushSync})}else await e.navigate(o.action||d,{preventScrollReset:o.preventScrollReset,formData:g,body:x,formMethod:o.method||u,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[e,n,r])}function sA(e,{relative:n}={}){let{basename:r}=p.useContext(Un),l=p.useContext(_n);Bt(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),d={...Io(e||".",{relative:n})},u=Fn();if(e==null){d.search=u.search;let m=new URLSearchParams(d.search),g=m.getAll("index");if(g.some(v=>v==="")){m.delete("index"),g.filter(y=>y).forEach(y=>m.append("index",y));let v=m.toString();d.search=v?`?${v}`:""}}return(!e||e===".")&&o.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(d.pathname=d.pathname==="/"?r:Ra([r,d.pathname])),Mo(d)}function nA(e,{relative:n}={}){let r=p.useContext(Ib);Bt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=Wb("useViewTransitionState"),o=Io(e,{relative:n});if(!r.isTransitioning)return!1;let d=Aa(r.currentLocation.pathname,l)||r.currentLocation.pathname,u=Aa(r.nextLocation.pathname,l)||r.nextLocation.pathname;return Ud(o.pathname,u)!=null||Ud(o.pathname,d)!=null}var Bo=qb();const aA=Pb(Bo);function Jb(e,n){return function(){return e.apply(n,arguments)}}const{toString:rA}=Object.prototype,{getPrototypeOf:$p}=Object,{iterator:ou,toStringTag:eN}=Symbol,cu=(e=>n=>{const r=rA.call(n);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),$n=e=>(e=e.toLowerCase(),n=>cu(n)===e),du=e=>n=>typeof n===e,{isArray:pi}=Array,Oo=du("undefined");function Ho(e){return e!==null&&!Oo(e)&&e.constructor!==null&&!Oo(e.constructor)&&Hs(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const tN=$n("ArrayBuffer");function lA(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&tN(e.buffer),n}const iA=du("string"),Hs=du("function"),sN=du("number"),Zo=e=>e!==null&&typeof e=="object",oA=e=>e===!0||e===!1,Dd=e=>{if(cu(e)!=="object")return!1;const n=$p(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(eN in e)&&!(ou in e)},cA=e=>{if(!Zo(e)||Ho(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},dA=$n("Date"),uA=$n("File"),fA=$n("Blob"),mA=$n("FileList"),hA=e=>Zo(e)&&Hs(e.pipe),pA=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Hs(e.append)&&((n=cu(e))==="formdata"||n==="object"&&Hs(e.toString)&&e.toString()==="[object FormData]"))},xA=$n("URLSearchParams"),[gA,vA,yA,jA]=["ReadableStream","Request","Response","Headers"].map($n),bA=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Go(e,n,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let l,o;if(typeof e!="object"&&(e=[e]),pi(e))for(l=0,o=e.length;l<o;l++)n.call(null,e[l],l,e);else{if(Ho(e))return;const d=r?Object.getOwnPropertyNames(e):Object.keys(e),u=d.length;let m;for(l=0;l<u;l++)m=d[l],n.call(null,e[m],m,e)}}function nN(e,n){if(Ho(e))return null;n=n.toLowerCase();const r=Object.keys(e);let l=r.length,o;for(;l-- >0;)if(o=r[l],n===o.toLowerCase())return o;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,aN=e=>!Oo(e)&&e!==qr;function Hh(){const{caseless:e}=aN(this)&&this||{},n={},r=(l,o)=>{const d=e&&nN(n,o)||o;Dd(n[d])&&Dd(l)?n[d]=Hh(n[d],l):Dd(l)?n[d]=Hh({},l):pi(l)?n[d]=l.slice():n[d]=l};for(let l=0,o=arguments.length;l<o;l++)arguments[l]&&Go(arguments[l],r);return n}const NA=(e,n,r,{allOwnKeys:l}={})=>(Go(n,(o,d)=>{r&&Hs(o)?e[d]=Jb(o,r):e[d]=o},{allOwnKeys:l}),e),wA=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),_A=(e,n,r,l)=>{e.prototype=Object.create(n.prototype,l),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),r&&Object.assign(e.prototype,r)},SA=(e,n,r,l)=>{let o,d,u;const m={};if(n=n||{},e==null)return n;do{for(o=Object.getOwnPropertyNames(e),d=o.length;d-- >0;)u=o[d],(!l||l(u,e,n))&&!m[u]&&(n[u]=e[u],m[u]=!0);e=r!==!1&&$p(e)}while(e&&(!r||r(e,n))&&e!==Object.prototype);return n},RA=(e,n,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=n.length;const l=e.indexOf(n,r);return l!==-1&&l===r},CA=e=>{if(!e)return null;if(pi(e))return e;let n=e.length;if(!sN(n))return null;const r=new Array(n);for(;n-- >0;)r[n]=e[n];return r},AA=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&$p(Uint8Array)),EA=(e,n)=>{const l=(e&&e[ou]).call(e);let o;for(;(o=l.next())&&!o.done;){const d=o.value;n.call(e,d[0],d[1])}},TA=(e,n)=>{let r;const l=[];for(;(r=e.exec(n))!==null;)l.push(r);return l},DA=$n("HTMLFormElement"),kA=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,l,o){return l.toUpperCase()+o}),Xy=(({hasOwnProperty:e})=>(n,r)=>e.call(n,r))(Object.prototype),MA=$n("RegExp"),rN=(e,n)=>{const r=Object.getOwnPropertyDescriptors(e),l={};Go(r,(o,d)=>{let u;(u=n(o,d,e))!==!1&&(l[d]=u||o)}),Object.defineProperties(e,l)},OA=e=>{rN(e,(n,r)=>{if(Hs(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const l=e[r];if(Hs(l)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},zA=(e,n)=>{const r={},l=o=>{o.forEach(d=>{r[d]=!0})};return pi(e)?l(e):l(String(e).split(n)),r},PA=()=>{},LA=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function qA(e){return!!(e&&Hs(e.append)&&e[eN]==="FormData"&&e[ou])}const UA=e=>{const n=new Array(10),r=(l,o)=>{if(Zo(l)){if(n.indexOf(l)>=0)return;if(Ho(l))return l;if(!("toJSON"in l)){n[o]=l;const d=pi(l)?[]:{};return Go(l,(u,m)=>{const g=r(u,o+1);!Oo(g)&&(d[m]=g)}),n[o]=void 0,d}}return l};return r(e,0)},FA=$n("AsyncFunction"),$A=e=>e&&(Zo(e)||Hs(e))&&Hs(e.then)&&Hs(e.catch),lN=((e,n)=>e?setImmediate:n?((r,l)=>(qr.addEventListener("message",({source:o,data:d})=>{o===qr&&d===r&&l.length&&l.shift()()},!1),o=>{l.push(o),qr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Hs(qr.postMessage)),VA=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||lN,IA=e=>e!=null&&Hs(e[ou]),oe={isArray:pi,isArrayBuffer:tN,isBuffer:Ho,isFormData:pA,isArrayBufferView:lA,isString:iA,isNumber:sN,isBoolean:oA,isObject:Zo,isPlainObject:Dd,isEmptyObject:cA,isReadableStream:gA,isRequest:vA,isResponse:yA,isHeaders:jA,isUndefined:Oo,isDate:dA,isFile:uA,isBlob:fA,isRegExp:MA,isFunction:Hs,isStream:hA,isURLSearchParams:xA,isTypedArray:AA,isFileList:mA,forEach:Go,merge:Hh,extend:NA,trim:bA,stripBOM:wA,inherits:_A,toFlatObject:SA,kindOf:cu,kindOfTest:$n,endsWith:RA,toArray:CA,forEachEntry:EA,matchAll:TA,isHTMLForm:DA,hasOwnProperty:Xy,hasOwnProp:Xy,reduceDescriptors:rN,freezeMethods:OA,toObjectSet:zA,toCamelCase:kA,noop:PA,toFiniteNumber:LA,findKey:nN,global:qr,isContextDefined:aN,isSpecCompliantForm:qA,toJSONObject:UA,isAsyncFn:FA,isThenable:$A,setImmediate:lN,asap:VA,isIterable:IA};function et(e,n,r,l,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),r&&(this.config=r),l&&(this.request=l),o&&(this.response=o,this.status=o.status?o.status:null)}oe.inherits(et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}});const iN=et.prototype,oN={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{oN[e]={value:e}});Object.defineProperties(et,oN);Object.defineProperty(iN,"isAxiosError",{value:!0});et.from=(e,n,r,l,o,d)=>{const u=Object.create(iN);return oe.toFlatObject(e,u,function(g){return g!==Error.prototype},m=>m!=="isAxiosError"),et.call(u,e.message,n,r,l,o),u.cause=e,u.name=e.name,d&&Object.assign(u,d),u};const BA=null;function Zh(e){return oe.isPlainObject(e)||oe.isArray(e)}function cN(e){return oe.endsWith(e,"[]")?e.slice(0,-2):e}function Ky(e,n,r){return e?e.concat(n).map(function(o,d){return o=cN(o),!r&&d?"["+o+"]":o}).join(r?".":""):n}function HA(e){return oe.isArray(e)&&!e.some(Zh)}const ZA=oe.toFlatObject(oe,{},null,function(n){return/^is[A-Z]/.test(n)});function uu(e,n,r){if(!oe.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,r=oe.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,b){return!oe.isUndefined(b[j])});const l=r.metaTokens,o=r.visitor||v,d=r.dots,u=r.indexes,g=(r.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(n);if(!oe.isFunction(o))throw new TypeError("visitor must be a function");function x(_){if(_===null)return"";if(oe.isDate(_))return _.toISOString();if(oe.isBoolean(_))return _.toString();if(!g&&oe.isBlob(_))throw new et("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(_)||oe.isTypedArray(_)?g&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function v(_,j,b){let A=_;if(_&&!b&&typeof _=="object"){if(oe.endsWith(j,"{}"))j=l?j:j.slice(0,-2),_=JSON.stringify(_);else if(oe.isArray(_)&&HA(_)||(oe.isFileList(_)||oe.endsWith(j,"[]"))&&(A=oe.toArray(_)))return j=cN(j),A.forEach(function(S,q){!(oe.isUndefined(S)||S===null)&&n.append(u===!0?Ky([j],q,d):u===null?j:j+"[]",x(S))}),!1}return Zh(_)?!0:(n.append(Ky(b,j,d),x(_)),!1)}const y=[],N=Object.assign(ZA,{defaultVisitor:v,convertValue:x,isVisitable:Zh});function C(_,j){if(!oe.isUndefined(_)){if(y.indexOf(_)!==-1)throw Error("Circular reference detected in "+j.join("."));y.push(_),oe.forEach(_,function(A,D){(!(oe.isUndefined(A)||A===null)&&o.call(n,A,oe.isString(D)?D.trim():D,j,N))===!0&&C(A,j?j.concat(D):[D])}),y.pop()}}if(!oe.isObject(e))throw new TypeError("data must be an object");return C(e),n}function Qy(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(l){return n[l]})}function Vp(e,n){this._pairs=[],e&&uu(e,this,n)}const dN=Vp.prototype;dN.append=function(n,r){this._pairs.push([n,r])};dN.toString=function(n){const r=n?function(l){return n.call(this,l,Qy)}:Qy;return this._pairs.map(function(o){return r(o[0])+"="+r(o[1])},"").join("&")};function GA(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function uN(e,n,r){if(!n)return e;const l=r&&r.encode||GA;oe.isFunction(r)&&(r={serialize:r});const o=r&&r.serialize;let d;if(o?d=o(n,r):d=oe.isURLSearchParams(n)?n.toString():new Vp(n,r).toString(l),d){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+d}return e}class Wy{constructor(){this.handlers=[]}use(n,r,l){return this.handlers.push({fulfilled:n,rejected:r,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){oe.forEach(this.handlers,function(l){l!==null&&n(l)})}}const fN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},YA=typeof URLSearchParams<"u"?URLSearchParams:Vp,XA=typeof FormData<"u"?FormData:null,KA=typeof Blob<"u"?Blob:null,QA={isBrowser:!0,classes:{URLSearchParams:YA,FormData:XA,Blob:KA},protocols:["http","https","file","blob","url","data"]},Ip=typeof window<"u"&&typeof document<"u",Gh=typeof navigator=="object"&&navigator||void 0,WA=Ip&&(!Gh||["ReactNative","NativeScript","NS"].indexOf(Gh.product)<0),JA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",eE=Ip&&window.location.href||"http://localhost",tE=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ip,hasStandardBrowserEnv:WA,hasStandardBrowserWebWorkerEnv:JA,navigator:Gh,origin:eE},Symbol.toStringTag,{value:"Module"})),Ts={...tE,...QA};function sE(e,n){return uu(e,new Ts.classes.URLSearchParams,{visitor:function(r,l,o,d){return Ts.isNode&&oe.isBuffer(r)?(this.append(l,r.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)},...n})}function nE(e){return oe.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function aE(e){const n={},r=Object.keys(e);let l;const o=r.length;let d;for(l=0;l<o;l++)d=r[l],n[d]=e[d];return n}function mN(e){function n(r,l,o,d){let u=r[d++];if(u==="__proto__")return!0;const m=Number.isFinite(+u),g=d>=r.length;return u=!u&&oe.isArray(o)?o.length:u,g?(oe.hasOwnProp(o,u)?o[u]=[o[u],l]:o[u]=l,!m):((!o[u]||!oe.isObject(o[u]))&&(o[u]=[]),n(r,l,o[u],d)&&oe.isArray(o[u])&&(o[u]=aE(o[u])),!m)}if(oe.isFormData(e)&&oe.isFunction(e.entries)){const r={};return oe.forEachEntry(e,(l,o)=>{n(nE(l),o,r,0)}),r}return null}function rE(e,n,r){if(oe.isString(e))try{return(n||JSON.parse)(e),oe.trim(e)}catch(l){if(l.name!=="SyntaxError")throw l}return(r||JSON.stringify)(e)}const Yo={transitional:fN,adapter:["xhr","http","fetch"],transformRequest:[function(n,r){const l=r.getContentType()||"",o=l.indexOf("application/json")>-1,d=oe.isObject(n);if(d&&oe.isHTMLForm(n)&&(n=new FormData(n)),oe.isFormData(n))return o?JSON.stringify(mN(n)):n;if(oe.isArrayBuffer(n)||oe.isBuffer(n)||oe.isStream(n)||oe.isFile(n)||oe.isBlob(n)||oe.isReadableStream(n))return n;if(oe.isArrayBufferView(n))return n.buffer;if(oe.isURLSearchParams(n))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let m;if(d){if(l.indexOf("application/x-www-form-urlencoded")>-1)return sE(n,this.formSerializer).toString();if((m=oe.isFileList(n))||l.indexOf("multipart/form-data")>-1){const g=this.env&&this.env.FormData;return uu(m?{"files[]":n}:n,g&&new g,this.formSerializer)}}return d||o?(r.setContentType("application/json",!1),rE(n)):n}],transformResponse:[function(n){const r=this.transitional||Yo.transitional,l=r&&r.forcedJSONParsing,o=this.responseType==="json";if(oe.isResponse(n)||oe.isReadableStream(n))return n;if(n&&oe.isString(n)&&(l&&!this.responseType||o)){const u=!(r&&r.silentJSONParsing)&&o;try{return JSON.parse(n)}catch(m){if(u)throw m.name==="SyntaxError"?et.from(m,et.ERR_BAD_RESPONSE,this,null,this.response):m}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ts.classes.FormData,Blob:Ts.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],e=>{Yo.headers[e]={}});const lE=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iE=e=>{const n={};let r,l,o;return e&&e.split(`
`).forEach(function(u){o=u.indexOf(":"),r=u.substring(0,o).trim().toLowerCase(),l=u.substring(o+1).trim(),!(!r||n[r]&&lE[r])&&(r==="set-cookie"?n[r]?n[r].push(l):n[r]=[l]:n[r]=n[r]?n[r]+", "+l:l)}),n},Jy=Symbol("internals");function No(e){return e&&String(e).trim().toLowerCase()}function kd(e){return e===!1||e==null?e:oe.isArray(e)?e.map(kd):String(e)}function oE(e){const n=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let l;for(;l=r.exec(e);)n[l[1]]=l[2];return n}const cE=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ph(e,n,r,l,o){if(oe.isFunction(l))return l.call(this,n,r);if(o&&(n=r),!!oe.isString(n)){if(oe.isString(l))return n.indexOf(l)!==-1;if(oe.isRegExp(l))return l.test(n)}}function dE(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,r,l)=>r.toUpperCase()+l)}function uE(e,n){const r=oe.toCamelCase(" "+n);["get","set","has"].forEach(l=>{Object.defineProperty(e,l+r,{value:function(o,d,u){return this[l].call(this,n,o,d,u)},configurable:!0})})}let Zs=class{constructor(n){n&&this.set(n)}set(n,r,l){const o=this;function d(m,g,x){const v=No(g);if(!v)throw new Error("header name must be a non-empty string");const y=oe.findKey(o,v);(!y||o[y]===void 0||x===!0||x===void 0&&o[y]!==!1)&&(o[y||g]=kd(m))}const u=(m,g)=>oe.forEach(m,(x,v)=>d(x,v,g));if(oe.isPlainObject(n)||n instanceof this.constructor)u(n,r);else if(oe.isString(n)&&(n=n.trim())&&!cE(n))u(iE(n),r);else if(oe.isObject(n)&&oe.isIterable(n)){let m={},g,x;for(const v of n){if(!oe.isArray(v))throw TypeError("Object iterator must return a key-value pair");m[x=v[0]]=(g=m[x])?oe.isArray(g)?[...g,v[1]]:[g,v[1]]:v[1]}u(m,r)}else n!=null&&d(r,n,l);return this}get(n,r){if(n=No(n),n){const l=oe.findKey(this,n);if(l){const o=this[l];if(!r)return o;if(r===!0)return oE(o);if(oe.isFunction(r))return r.call(this,o,l);if(oe.isRegExp(r))return r.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,r){if(n=No(n),n){const l=oe.findKey(this,n);return!!(l&&this[l]!==void 0&&(!r||ph(this,this[l],l,r)))}return!1}delete(n,r){const l=this;let o=!1;function d(u){if(u=No(u),u){const m=oe.findKey(l,u);m&&(!r||ph(l,l[m],m,r))&&(delete l[m],o=!0)}}return oe.isArray(n)?n.forEach(d):d(n),o}clear(n){const r=Object.keys(this);let l=r.length,o=!1;for(;l--;){const d=r[l];(!n||ph(this,this[d],d,n,!0))&&(delete this[d],o=!0)}return o}normalize(n){const r=this,l={};return oe.forEach(this,(o,d)=>{const u=oe.findKey(l,d);if(u){r[u]=kd(o),delete r[d];return}const m=n?dE(d):String(d).trim();m!==d&&delete r[d],r[m]=kd(o),l[m]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const r=Object.create(null);return oe.forEach(this,(l,o)=>{l!=null&&l!==!1&&(r[o]=n&&oe.isArray(l)?l.join(", "):l)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,r])=>n+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...r){const l=new this(n);return r.forEach(o=>l.set(o)),l}static accessor(n){const l=(this[Jy]=this[Jy]={accessors:{}}).accessors,o=this.prototype;function d(u){const m=No(u);l[m]||(uE(o,u),l[m]=!0)}return oe.isArray(n)?n.forEach(d):d(n),this}};Zs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(Zs.prototype,({value:e},n)=>{let r=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(l){this[r]=l}}});oe.freezeMethods(Zs);function xh(e,n){const r=this||Yo,l=n||r,o=Zs.from(l.headers);let d=l.data;return oe.forEach(e,function(m){d=m.call(r,d,o.normalize(),n?n.status:void 0)}),o.normalize(),d}function hN(e){return!!(e&&e.__CANCEL__)}function xi(e,n,r){et.call(this,e??"canceled",et.ERR_CANCELED,n,r),this.name="CanceledError"}oe.inherits(xi,et,{__CANCEL__:!0});function pN(e,n,r){const l=r.config.validateStatus;!r.status||!l||l(r.status)?e(r):n(new et("Request failed with status code "+r.status,[et.ERR_BAD_REQUEST,et.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function fE(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function mE(e,n){e=e||10;const r=new Array(e),l=new Array(e);let o=0,d=0,u;return n=n!==void 0?n:1e3,function(g){const x=Date.now(),v=l[d];u||(u=x),r[o]=g,l[o]=x;let y=d,N=0;for(;y!==o;)N+=r[y++],y=y%e;if(o=(o+1)%e,o===d&&(d=(d+1)%e),x-u<n)return;const C=v&&x-v;return C?Math.round(N*1e3/C):void 0}}function hE(e,n){let r=0,l=1e3/n,o,d;const u=(x,v=Date.now())=>{r=v,o=null,d&&(clearTimeout(d),d=null),e(...x)};return[(...x)=>{const v=Date.now(),y=v-r;y>=l?u(x,v):(o=x,d||(d=setTimeout(()=>{d=null,u(o)},l-y)))},()=>o&&u(o)]}const $d=(e,n,r=3)=>{let l=0;const o=mE(50,250);return hE(d=>{const u=d.loaded,m=d.lengthComputable?d.total:void 0,g=u-l,x=o(g),v=u<=m;l=u;const y={loaded:u,total:m,progress:m?u/m:void 0,bytes:g,rate:x||void 0,estimated:x&&m&&v?(m-u)/x:void 0,event:d,lengthComputable:m!=null,[n?"download":"upload"]:!0};e(y)},r)},ej=(e,n)=>{const r=e!=null;return[l=>n[0]({lengthComputable:r,total:e,loaded:l}),n[1]]},tj=e=>(...n)=>oe.asap(()=>e(...n)),pE=Ts.hasStandardBrowserEnv?((e,n)=>r=>(r=new URL(r,Ts.origin),e.protocol===r.protocol&&e.host===r.host&&(n||e.port===r.port)))(new URL(Ts.origin),Ts.navigator&&/(msie|trident)/i.test(Ts.navigator.userAgent)):()=>!0,xE=Ts.hasStandardBrowserEnv?{write(e,n,r,l,o,d){const u=[e+"="+encodeURIComponent(n)];oe.isNumber(r)&&u.push("expires="+new Date(r).toGMTString()),oe.isString(l)&&u.push("path="+l),oe.isString(o)&&u.push("domain="+o),d===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gE(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vE(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function xN(e,n,r){let l=!gE(n);return e&&(l||r==!1)?vE(e,n):n}const sj=e=>e instanceof Zs?{...e}:e;function $r(e,n){n=n||{};const r={};function l(x,v,y,N){return oe.isPlainObject(x)&&oe.isPlainObject(v)?oe.merge.call({caseless:N},x,v):oe.isPlainObject(v)?oe.merge({},v):oe.isArray(v)?v.slice():v}function o(x,v,y,N){if(oe.isUndefined(v)){if(!oe.isUndefined(x))return l(void 0,x,y,N)}else return l(x,v,y,N)}function d(x,v){if(!oe.isUndefined(v))return l(void 0,v)}function u(x,v){if(oe.isUndefined(v)){if(!oe.isUndefined(x))return l(void 0,x)}else return l(void 0,v)}function m(x,v,y){if(y in n)return l(x,v);if(y in e)return l(void 0,x)}const g={url:d,method:d,data:d,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:m,headers:(x,v,y)=>o(sj(x),sj(v),y,!0)};return oe.forEach(Object.keys({...e,...n}),function(v){const y=g[v]||o,N=y(e[v],n[v],v);oe.isUndefined(N)&&y!==m||(r[v]=N)}),r}const gN=e=>{const n=$r({},e);let{data:r,withXSRFToken:l,xsrfHeaderName:o,xsrfCookieName:d,headers:u,auth:m}=n;n.headers=u=Zs.from(u),n.url=uN(xN(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),m&&u.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let g;if(oe.isFormData(r)){if(Ts.hasStandardBrowserEnv||Ts.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((g=u.getContentType())!==!1){const[x,...v]=g?g.split(";").map(y=>y.trim()).filter(Boolean):[];u.setContentType([x||"multipart/form-data",...v].join("; "))}}if(Ts.hasStandardBrowserEnv&&(l&&oe.isFunction(l)&&(l=l(n)),l||l!==!1&&pE(n.url))){const x=o&&d&&xE.read(d);x&&u.set(o,x)}return n},yE=typeof XMLHttpRequest<"u",jE=yE&&function(e){return new Promise(function(r,l){const o=gN(e);let d=o.data;const u=Zs.from(o.headers).normalize();let{responseType:m,onUploadProgress:g,onDownloadProgress:x}=o,v,y,N,C,_;function j(){C&&C(),_&&_(),o.cancelToken&&o.cancelToken.unsubscribe(v),o.signal&&o.signal.removeEventListener("abort",v)}let b=new XMLHttpRequest;b.open(o.method.toUpperCase(),o.url,!0),b.timeout=o.timeout;function A(){if(!b)return;const S=Zs.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),R={data:!m||m==="text"||m==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:S,config:e,request:b};pN(function($){r($),j()},function($){l($),j()},R),b=null}"onloadend"in b?b.onloadend=A:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(A)},b.onabort=function(){b&&(l(new et("Request aborted",et.ECONNABORTED,e,b)),b=null)},b.onerror=function(){l(new et("Network Error",et.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let q=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const R=o.transitional||fN;o.timeoutErrorMessage&&(q=o.timeoutErrorMessage),l(new et(q,R.clarifyTimeoutError?et.ETIMEDOUT:et.ECONNABORTED,e,b)),b=null},d===void 0&&u.setContentType(null),"setRequestHeader"in b&&oe.forEach(u.toJSON(),function(q,R){b.setRequestHeader(R,q)}),oe.isUndefined(o.withCredentials)||(b.withCredentials=!!o.withCredentials),m&&m!=="json"&&(b.responseType=o.responseType),x&&([N,_]=$d(x,!0),b.addEventListener("progress",N)),g&&b.upload&&([y,C]=$d(g),b.upload.addEventListener("progress",y),b.upload.addEventListener("loadend",C)),(o.cancelToken||o.signal)&&(v=S=>{b&&(l(!S||S.type?new xi(null,e,b):S),b.abort(),b=null)},o.cancelToken&&o.cancelToken.subscribe(v),o.signal&&(o.signal.aborted?v():o.signal.addEventListener("abort",v)));const D=fE(o.url);if(D&&Ts.protocols.indexOf(D)===-1){l(new et("Unsupported protocol "+D+":",et.ERR_BAD_REQUEST,e));return}b.send(d||null)})},bE=(e,n)=>{const{length:r}=e=e?e.filter(Boolean):[];if(n||r){let l=new AbortController,o;const d=function(x){if(!o){o=!0,m();const v=x instanceof Error?x:this.reason;l.abort(v instanceof et?v:new xi(v instanceof Error?v.message:v))}};let u=n&&setTimeout(()=>{u=null,d(new et(`timeout ${n} of ms exceeded`,et.ETIMEDOUT))},n);const m=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(x=>{x.unsubscribe?x.unsubscribe(d):x.removeEventListener("abort",d)}),e=null)};e.forEach(x=>x.addEventListener("abort",d));const{signal:g}=l;return g.unsubscribe=()=>oe.asap(m),g}},NE=function*(e,n){let r=e.byteLength;if(r<n){yield e;return}let l=0,o;for(;l<r;)o=l+n,yield e.slice(l,o),l=o},wE=async function*(e,n){for await(const r of _E(e))yield*NE(r,n)},_E=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:r,value:l}=await n.read();if(r)break;yield l}}finally{await n.cancel()}},nj=(e,n,r,l)=>{const o=wE(e,n);let d=0,u,m=g=>{u||(u=!0,l&&l(g))};return new ReadableStream({async pull(g){try{const{done:x,value:v}=await o.next();if(x){m(),g.close();return}let y=v.byteLength;if(r){let N=d+=y;r(N)}g.enqueue(new Uint8Array(v))}catch(x){throw m(x),x}},cancel(g){return m(g),o.return()}},{highWaterMark:2})},fu=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",vN=fu&&typeof ReadableStream=="function",SE=fu&&(typeof TextEncoder=="function"?(e=>n=>e.encode(n))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),yN=(e,...n)=>{try{return!!e(...n)}catch{return!1}},RE=vN&&yN(()=>{let e=!1;const n=new Request(Ts.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!n}),aj=64*1024,Yh=vN&&yN(()=>oe.isReadableStream(new Response("").body)),Vd={stream:Yh&&(e=>e.body)};fu&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(n=>{!Vd[n]&&(Vd[n]=oe.isFunction(e[n])?r=>r[n]():(r,l)=>{throw new et(`Response type '${n}' is not supported`,et.ERR_NOT_SUPPORT,l)})})})(new Response);const CE=async e=>{if(e==null)return 0;if(oe.isBlob(e))return e.size;if(oe.isSpecCompliantForm(e))return(await new Request(Ts.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(e)||oe.isArrayBuffer(e))return e.byteLength;if(oe.isURLSearchParams(e)&&(e=e+""),oe.isString(e))return(await SE(e)).byteLength},AE=async(e,n)=>{const r=oe.toFiniteNumber(e.getContentLength());return r??CE(n)},EE=fu&&(async e=>{let{url:n,method:r,data:l,signal:o,cancelToken:d,timeout:u,onDownloadProgress:m,onUploadProgress:g,responseType:x,headers:v,withCredentials:y="same-origin",fetchOptions:N}=gN(e);x=x?(x+"").toLowerCase():"text";let C=bE([o,d&&d.toAbortSignal()],u),_;const j=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let b;try{if(g&&RE&&r!=="get"&&r!=="head"&&(b=await AE(v,l))!==0){let R=new Request(n,{method:"POST",body:l,duplex:"half"}),k;if(oe.isFormData(l)&&(k=R.headers.get("content-type"))&&v.setContentType(k),R.body){const[$,M]=ej(b,$d(tj(g)));l=nj(R.body,aj,$,M)}}oe.isString(y)||(y=y?"include":"omit");const A="credentials"in Request.prototype;_=new Request(n,{...N,signal:C,method:r.toUpperCase(),headers:v.normalize().toJSON(),body:l,duplex:"half",credentials:A?y:void 0});let D=await fetch(_,N);const S=Yh&&(x==="stream"||x==="response");if(Yh&&(m||S&&j)){const R={};["status","statusText","headers"].forEach(Q=>{R[Q]=D[Q]});const k=oe.toFiniteNumber(D.headers.get("content-length")),[$,M]=m&&ej(k,$d(tj(m),!0))||[];D=new Response(nj(D.body,aj,$,()=>{M&&M(),j&&j()}),R)}x=x||"text";let q=await Vd[oe.findKey(Vd,x)||"text"](D,e);return!S&&j&&j(),await new Promise((R,k)=>{pN(R,k,{data:q,headers:Zs.from(D.headers),status:D.status,statusText:D.statusText,config:e,request:_})})}catch(A){throw j&&j(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new et("Network Error",et.ERR_NETWORK,e,_),{cause:A.cause||A}):et.from(A,A&&A.code,e,_)}}),Xh={http:BA,xhr:jE,fetch:EE};oe.forEach(Xh,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const rj=e=>`- ${e}`,TE=e=>oe.isFunction(e)||e===null||e===!1,jN={getAdapter:e=>{e=oe.isArray(e)?e:[e];const{length:n}=e;let r,l;const o={};for(let d=0;d<n;d++){r=e[d];let u;if(l=r,!TE(r)&&(l=Xh[(u=String(r)).toLowerCase()],l===void 0))throw new et(`Unknown adapter '${u}'`);if(l)break;o[u||"#"+d]=l}if(!l){const d=Object.entries(o).map(([m,g])=>`adapter ${m} `+(g===!1?"is not supported by the environment":"is not available in the build"));let u=n?d.length>1?`since :
`+d.map(rj).join(`
`):" "+rj(d[0]):"as no adapter specified";throw new et("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return l},adapters:Xh};function gh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xi(null,e)}function lj(e){return gh(e),e.headers=Zs.from(e.headers),e.data=xh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),jN.getAdapter(e.adapter||Yo.adapter)(e).then(function(l){return gh(e),l.data=xh.call(e,e.transformResponse,l),l.headers=Zs.from(l.headers),l},function(l){return hN(l)||(gh(e),l&&l.response&&(l.response.data=xh.call(e,e.transformResponse,l.response),l.response.headers=Zs.from(l.response.headers))),Promise.reject(l)})}const bN="1.11.0",mu={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{mu[e]=function(l){return typeof l===e||"a"+(n<1?"n ":" ")+e}});const ij={};mu.transitional=function(n,r,l){function o(d,u){return"[Axios v"+bN+"] Transitional option '"+d+"'"+u+(l?". "+l:"")}return(d,u,m)=>{if(n===!1)throw new et(o(u," has been removed"+(r?" in "+r:"")),et.ERR_DEPRECATED);return r&&!ij[u]&&(ij[u]=!0,console.warn(o(u," has been deprecated since v"+r+" and will be removed in the near future"))),n?n(d,u,m):!0}};mu.spelling=function(n){return(r,l)=>(console.warn(`${l} is likely a misspelling of ${n}`),!0)};function DE(e,n,r){if(typeof e!="object")throw new et("options must be an object",et.ERR_BAD_OPTION_VALUE);const l=Object.keys(e);let o=l.length;for(;o-- >0;){const d=l[o],u=n[d];if(u){const m=e[d],g=m===void 0||u(m,d,e);if(g!==!0)throw new et("option "+d+" must be "+g,et.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new et("Unknown option "+d,et.ERR_BAD_OPTION)}}const Md={assertOptions:DE,validators:mu},Xn=Md.validators;let Fr=class{constructor(n){this.defaults=n||{},this.interceptors={request:new Wy,response:new Wy}}async request(n,r){try{return await this._request(n,r)}catch(l){if(l instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const d=o.stack?o.stack.replace(/^.+\n/,""):"";try{l.stack?d&&!String(l.stack).endsWith(d.replace(/^.+\n.+\n/,""))&&(l.stack+=`
`+d):l.stack=d}catch{}}throw l}}_request(n,r){typeof n=="string"?(r=r||{},r.url=n):r=n||{},r=$r(this.defaults,r);const{transitional:l,paramsSerializer:o,headers:d}=r;l!==void 0&&Md.assertOptions(l,{silentJSONParsing:Xn.transitional(Xn.boolean),forcedJSONParsing:Xn.transitional(Xn.boolean),clarifyTimeoutError:Xn.transitional(Xn.boolean)},!1),o!=null&&(oe.isFunction(o)?r.paramsSerializer={serialize:o}:Md.assertOptions(o,{encode:Xn.function,serialize:Xn.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Md.assertOptions(r,{baseUrl:Xn.spelling("baseURL"),withXsrfToken:Xn.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let u=d&&oe.merge(d.common,d[r.method]);d&&oe.forEach(["delete","get","head","post","put","patch","common"],_=>{delete d[_]}),r.headers=Zs.concat(u,d);const m=[];let g=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(r)===!1||(g=g&&j.synchronous,m.unshift(j.fulfilled,j.rejected))});const x=[];this.interceptors.response.forEach(function(j){x.push(j.fulfilled,j.rejected)});let v,y=0,N;if(!g){const _=[lj.bind(this),void 0];for(_.unshift(...m),_.push(...x),N=_.length,v=Promise.resolve(r);y<N;)v=v.then(_[y++],_[y++]);return v}N=m.length;let C=r;for(y=0;y<N;){const _=m[y++],j=m[y++];try{C=_(C)}catch(b){j.call(this,b);break}}try{v=lj.call(this,C)}catch(_){return Promise.reject(_)}for(y=0,N=x.length;y<N;)v=v.then(x[y++],x[y++]);return v}getUri(n){n=$r(this.defaults,n);const r=xN(n.baseURL,n.url,n.allowAbsoluteUrls);return uN(r,n.params,n.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(n){Fr.prototype[n]=function(r,l){return this.request($r(l||{},{method:n,url:r,data:(l||{}).data}))}});oe.forEach(["post","put","patch"],function(n){function r(l){return function(d,u,m){return this.request($r(m||{},{method:n,headers:l?{"Content-Type":"multipart/form-data"}:{},url:d,data:u}))}}Fr.prototype[n]=r(),Fr.prototype[n+"Form"]=r(!0)});let kE=class NN{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(d){r=d});const l=this;this.promise.then(o=>{if(!l._listeners)return;let d=l._listeners.length;for(;d-- >0;)l._listeners[d](o);l._listeners=null}),this.promise.then=o=>{let d;const u=new Promise(m=>{l.subscribe(m),d=m}).then(o);return u.cancel=function(){l.unsubscribe(d)},u},n(function(d,u,m){l.reason||(l.reason=new xi(d,u,m),r(l.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const r=this._listeners.indexOf(n);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const n=new AbortController,r=l=>{n.abort(l)};return this.subscribe(r),n.signal.unsubscribe=()=>this.unsubscribe(r),n.signal}static source(){let n;return{token:new NN(function(o){n=o}),cancel:n}}};function ME(e){return function(r){return e.apply(null,r)}}function OE(e){return oe.isObject(e)&&e.isAxiosError===!0}const Kh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kh).forEach(([e,n])=>{Kh[n]=e});function wN(e){const n=new Fr(e),r=Jb(Fr.prototype.request,n);return oe.extend(r,Fr.prototype,n,{allOwnKeys:!0}),oe.extend(r,n,null,{allOwnKeys:!0}),r.create=function(o){return wN($r(e,o))},r}const rs=wN(Yo);rs.Axios=Fr;rs.CanceledError=xi;rs.CancelToken=kE;rs.isCancel=hN;rs.VERSION=bN;rs.toFormData=uu;rs.AxiosError=et;rs.Cancel=rs.CanceledError;rs.all=function(n){return Promise.all(n)};rs.spread=ME;rs.isAxiosError=OE;rs.mergeConfig=$r;rs.AxiosHeaders=Zs;rs.formToJSON=e=>mN(oe.isHTMLForm(e)?new FormData(e):e);rs.getAdapter=jN.getAdapter;rs.HttpStatusCode=Kh;rs.default=rs;const{Axios:fU,AxiosError:mU,CanceledError:hU,isCancel:pU,CancelToken:xU,VERSION:gU,all:vU,Cancel:yU,isAxiosError:jU,spread:bU,toFormData:NU,AxiosHeaders:wU,HttpStatusCode:_U,formToJSON:SU,getAdapter:RU,mergeConfig:CU}=rs,Se=rs.create({baseURL:"http://10.2.10.178/crns/api",timeout:1e4,headers:{"Content-Type":"application/json",Accept:"application/json"}});console.log("🔧 API Client initialized with baseURL:","http://10.2.10.178/crns/api");console.log("🔧 Network server target:","http://10.2.10.178/crns");Se.interceptors.request.use(e=>{const n=localStorage.getItem("cnrs_token");return n?(e.headers.Authorization=`Bearer ${n}`,console.log("🔑 Adding auth token to request:",e.url),console.log("🔑 Token preview:",n.substring(0,20)+"...")):console.warn("⚠️ No auth token found for request:",e.url),console.log("📡 Request config:",{url:e.url,method:e.method,headers:e.headers,data:e.data}),e},e=>Promise.reject(e));Se.interceptors.response.use(e=>(console.log("✅ API Response:",{status:e.status,url:e.config?.url,data:e.data}),e),e=>(console.error("💥 API Error:",{status:e.response?.status,statusText:e.response?.statusText,url:e.config?.url,method:e.config?.method,data:e.response?.data,headers:e.response?.headers}),e.response?.status===401&&(console.log("🔒 Authentication failed, redirecting to login..."),localStorage.removeItem("cnrs_token"),localStorage.removeItem("cnrs_user"),window.location.href="/"),Promise.reject(e)));const Wl={async login(e){try{return(await Se.post("/auth/login",e)).data}catch(n){return n.response?.data?n.response.data:{success:!1,message:"Network error occurred. Please try again."}}},async me(){try{return(await Se.get("/auth/me")).data}catch(e){return{success:!1,message:e.response?.data?.message||"Failed to get user info"}}},async logout(){try{return(await Se.post("/auth/logout")).data}catch{return{success:!0,message:"Logged out successfully"}}},async changePassword(e){try{return(await Se.post("/auth/change-password",e)).data}catch(n){return{success:!1,message:n.response?.data?.message||"Failed to change password"}}},async checkEmail(e){try{return(await Se.post("/auth/check-email",{email:e})).data}catch{return{success:!1,exists:!1}}},async getRoles(){try{return(await Se.get("/auth/roles")).data}catch{return{success:!1}}},async testConnection(){try{return(await Se.get("/test")).data}catch(e){return{success:!1,message:e.response?.data?.message||"API connection failed"}}},async healthCheck(){try{return(await Se.get("/health")).data}catch{throw new Error("Health check failed")}}},_N=p.createContext(void 0);function zE({children:e}){const[n,r]=p.useState(null),[l,o]=p.useState(null),[d,u]=p.useState(!0);p.useEffect(()=>{(async()=>{const j=localStorage.getItem("cnrs_token"),b=localStorage.getItem("cnrs_user");if(console.log("🔐 AuthContext: Initializing auth state...",{hasStoredToken:!!j,hasStoredUser:!!b,storedTokenPreview:j?`${j.substring(0,20)}...`:null}),j&&b)try{o(j),console.log("🔐 AuthContext: Verifying token with server...");const A=await Wl.me();console.log("🔐 AuthContext: Server response:",A),A.success&&A.user?(r(A.user),localStorage.setItem("cnrs_user",JSON.stringify(A.user)),console.log("🔐 AuthContext: User authenticated successfully:",{id:A.user.id,name:A.user.name,roles:A.user.roles,permissions:A.user.permissions})):(console.log("🔐 AuthContext: Token invalid, clearing storage"),localStorage.removeItem("cnrs_token"),localStorage.removeItem("cnrs_user"),o(null),r(null))}catch(A){console.error("🔐 AuthContext: Error verifying token:",A),localStorage.removeItem("cnrs_token"),localStorage.removeItem("cnrs_user"),o(null),r(null)}else console.log("🔐 AuthContext: No stored auth data found");u(!1)})()},[]);const C={user:n,token:l,loading:d,login:async _=>{try{console.log("🔐 AuthContext: Starting login process...");const j=await Wl.login(_);return console.log("🔐 AuthContext: API response received:",j),j.success&&j.user&&j.access_token?(console.log("🔐 AuthContext: Login successful, setting user and token..."),r(j.user),o(j.access_token),localStorage.setItem("cnrs_token",j.access_token),localStorage.setItem("cnrs_user",JSON.stringify(j.user)),console.log("🔐 AuthContext: User and token stored successfully:",{userId:j.user.id,userName:j.user.name,tokenPreview:j.access_token.substring(0,20)+"...",localStorageToken:localStorage.getItem("cnrs_token")?"stored":"missing",localStorageUser:localStorage.getItem("cnrs_user")?"stored":"missing"})):console.log("🔐 AuthContext: Login failed or incomplete response:",j),j}catch(j){return console.error("🔐 AuthContext: Login error:",j),{success:!1,message:"Login failed. Please try again."}}},logout:async()=>{try{await Wl.logout()}catch{console.warn("Server logout failed, continuing with local logout")}finally{r(null),o(null),localStorage.removeItem("cnrs_token"),localStorage.removeItem("cnrs_user")}},refreshUser:async()=>{try{const _=await Wl.me();if(_.success&&_.user)return r(_.user),localStorage.setItem("cnrs_user",JSON.stringify(_.user)),_.user}catch(_){console.error("Error refreshing user data:",_)}return null},isAuthenticated:!!n&&!!l,hasRole:_=>n?.roles?.includes(_)??!1,hasPermission:_=>n?.permissions?.includes(_)??!1};return t.jsx(_N.Provider,{value:C,children:e})}function Yt(){const e=p.useContext(_N);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const SN=p.createContext(void 0);function PE({children:e}){const[n,r]=p.useState([]),l=p.useCallback(d=>{const u=Math.random().toString(36).substr(2,9),m={...d,id:u};console.log("🔔 ToastProvider: Adding toast:",m),r(g=>[...g,m]),setTimeout(()=>{o(u)},d.duration||5e3)},[]),o=p.useCallback(d=>{console.log("🔔 ToastProvider: Dismissing toast:",d),r(u=>u.filter(m=>m.id!==d))},[]);return t.jsx(SN.Provider,{value:{toasts:n,toast:l,dismiss:o},children:e})}function aa(){const e=p.useContext(SN);if(e===void 0)throw new Error("useToast must be used within a ToastProvider");return e}/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qE=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,l)=>l?l.toUpperCase():r.toLowerCase()),oj=e=>{const n=qE(e);return n.charAt(0).toUpperCase()+n.slice(1)},RN=(...e)=>e.filter((n,r,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===r).join(" ").trim(),UE=e=>{for(const n in e)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=p.forwardRef(({color:e="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:o="",children:d,iconNode:u,...m},g)=>p.createElement("svg",{ref:g,...FE,width:n,height:n,stroke:e,strokeWidth:l?Number(r)*24/Number(n):r,className:RN("lucide",o),...!d&&!UE(m)&&{"aria-hidden":"true"},...m},[...u.map(([x,v])=>p.createElement(x,v)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=(e,n)=>{const r=p.forwardRef(({className:l,...o},d)=>p.createElement($E,{ref:d,iconNode:n,className:RN(`lucide-${LE(oj(e))}`,`lucide-${e}`,l),...o}));return r.displayName=oj(e),r};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ur=Le("activity",VE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ea=Le("arrow-left",IE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],Ao=Le("arrow-right-left",BE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Vr=Le("arrow-right",HE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Qh=Le("arrow-up-right",ZE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],YE=Le("bell",GE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],mr=Le("building-2",XE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hs=Le("calendar",KE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Wh=Le("chart-column",QE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],CN=Le("check",WE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Bp=Le("chevron-down",JE);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],AN=Le("chevron-right",eT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],EN=Le("chevron-up",tT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kn=Le("circle-alert",sT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Ge=Le("circle-check-big",nT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ns=Le("circle-check",aT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],lT=Le("circle-stop",rT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],vt=Le("circle-x",iT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rt=Le("clock",oT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],dT=Le("download",cT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],TN=Le("ellipsis",uT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Od=Le("eye-off",fT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mT=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ei=Le("eye",mT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],DN=Le("file-spreadsheet",hT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Je=Le("file-text",pT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xT=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],gT=Le("folder-open",xT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vT=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Xo=Le("funnel",vT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Jh=Le("history",yT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jT=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],kN=Le("house",jT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bT=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],NT=Le("info",bT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wT=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],MN=Le("key",wT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _T=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],cj=Le("layers",_T);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ST=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Tn=Le("loader-circle",ST);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RT=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CT=Le("log-out",RT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],ET=Le("map-pin",AT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],DT=Le("menu",TT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],wo=Le("message-square",kT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MT=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],xn=Le("package",MT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OT=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],ep=Le("play",OT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zT=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ir=Le("plus",zT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],LT=Le("power-off",PT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],UT=Le("power",qT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],$T=Le("printer",FT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mn=Le("refresh-cw",VT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IT=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],ri=Le("rotate-ccw",IT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ss=Le("search",BT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],hu=Le("send",HT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZT=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],dj=Le("settings",ZT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],uj=Le("shield-check",GT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],XT=Le("shield-x",YT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tp=Le("shield",KT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QT=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WT=Le("square-check-big",QT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JT=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Hp=Le("square-pen",JT);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zo=Le("trash-2",eD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],sD=Le("trending-up",tD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lt=Le("triangle-alert",nD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Do=Le("upload",aD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Br=Le("user-check",rD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],iD=Le("user-plus",lD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],cD=Le("user-x",oD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Mt=Le("user",dD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Gs=Le("users",uD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Jr=Le("x",fD);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],hD=Le("zap",mD);function ON(e){var n,r,l="";if(typeof e=="string"||typeof e=="number")l+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(n=0;n<o;n++)e[n]&&(r=ON(e[n]))&&(l&&(l+=" "),l+=r)}else for(r in e)e[r]&&(l&&(l+=" "),l+=r);return l}function zN(){for(var e,n,r=0,l="",o=arguments.length;r<o;r++)(e=arguments[r])&&(n=ON(e))&&(l&&(l+=" "),l+=n);return l}const Zp="-",pD=e=>{const n=gD(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:l}=e;return{getClassGroupId:u=>{const m=u.split(Zp);return m[0]===""&&m.length!==1&&m.shift(),PN(m,n)||xD(u)},getConflictingClassGroupIds:(u,m)=>{const g=r[u]||[];return m&&l[u]?[...g,...l[u]]:g}}},PN=(e,n)=>{if(e.length===0)return n.classGroupId;const r=e[0],l=n.nextPart.get(r),o=l?PN(e.slice(1),l):void 0;if(o)return o;if(n.validators.length===0)return;const d=e.join(Zp);return n.validators.find(({validator:u})=>u(d))?.classGroupId},fj=/^\[(.+)\]$/,xD=e=>{if(fj.test(e)){const n=fj.exec(e)[1],r=n?.substring(0,n.indexOf(":"));if(r)return"arbitrary.."+r}},gD=e=>{const{theme:n,classGroups:r}=e,l={nextPart:new Map,validators:[]};for(const o in r)sp(r[o],l,o,n);return l},sp=(e,n,r,l)=>{e.forEach(o=>{if(typeof o=="string"){const d=o===""?n:mj(n,o);d.classGroupId=r;return}if(typeof o=="function"){if(vD(o)){sp(o(l),n,r,l);return}n.validators.push({validator:o,classGroupId:r});return}Object.entries(o).forEach(([d,u])=>{sp(u,mj(n,d),r,l)})})},mj=(e,n)=>{let r=e;return n.split(Zp).forEach(l=>{r.nextPart.has(l)||r.nextPart.set(l,{nextPart:new Map,validators:[]}),r=r.nextPart.get(l)}),r},vD=e=>e.isThemeGetter,yD=e=>{if(e<1)return{get:()=>{},set:()=>{}};let n=0,r=new Map,l=new Map;const o=(d,u)=>{r.set(d,u),n++,n>e&&(n=0,l=r,r=new Map)};return{get(d){let u=r.get(d);if(u!==void 0)return u;if((u=l.get(d))!==void 0)return o(d,u),u},set(d,u){r.has(d)?r.set(d,u):o(d,u)}}},np="!",ap=":",jD=ap.length,bD=e=>{const{prefix:n,experimentalParseClassName:r}=e;let l=o=>{const d=[];let u=0,m=0,g=0,x;for(let _=0;_<o.length;_++){let j=o[_];if(u===0&&m===0){if(j===ap){d.push(o.slice(g,_)),g=_+jD;continue}if(j==="/"){x=_;continue}}j==="["?u++:j==="]"?u--:j==="("?m++:j===")"&&m--}const v=d.length===0?o:o.substring(g),y=ND(v),N=y!==v,C=x&&x>g?x-g:void 0;return{modifiers:d,hasImportantModifier:N,baseClassName:y,maybePostfixModifierPosition:C}};if(n){const o=n+ap,d=l;l=u=>u.startsWith(o)?d(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(r){const o=l;l=d=>r({className:d,parseClassName:o})}return l},ND=e=>e.endsWith(np)?e.substring(0,e.length-1):e.startsWith(np)?e.substring(1):e,wD=e=>{const n=Object.fromEntries(e.orderSensitiveModifiers.map(l=>[l,!0]));return l=>{if(l.length<=1)return l;const o=[];let d=[];return l.forEach(u=>{u[0]==="["||n[u]?(o.push(...d.sort(),u),d=[]):d.push(u)}),o.push(...d.sort()),o}},_D=e=>({cache:yD(e.cacheSize),parseClassName:bD(e),sortModifiers:wD(e),...pD(e)}),SD=/\s+/,RD=(e,n)=>{const{parseClassName:r,getClassGroupId:l,getConflictingClassGroupIds:o,sortModifiers:d}=n,u=[],m=e.trim().split(SD);let g="";for(let x=m.length-1;x>=0;x-=1){const v=m[x],{isExternal:y,modifiers:N,hasImportantModifier:C,baseClassName:_,maybePostfixModifierPosition:j}=r(v);if(y){g=v+(g.length>0?" "+g:g);continue}let b=!!j,A=l(b?_.substring(0,j):_);if(!A){if(!b){g=v+(g.length>0?" "+g:g);continue}if(A=l(_),!A){g=v+(g.length>0?" "+g:g);continue}b=!1}const D=d(N).join(":"),S=C?D+np:D,q=S+A;if(u.includes(q))continue;u.push(q);const R=o(A,b);for(let k=0;k<R.length;++k){const $=R[k];u.push(S+$)}g=v+(g.length>0?" "+g:g)}return g};function CD(){let e=0,n,r,l="";for(;e<arguments.length;)(n=arguments[e++])&&(r=LN(n))&&(l&&(l+=" "),l+=r);return l}const LN=e=>{if(typeof e=="string")return e;let n,r="";for(let l=0;l<e.length;l++)e[l]&&(n=LN(e[l]))&&(r&&(r+=" "),r+=n);return r};function AD(e,...n){let r,l,o,d=u;function u(g){const x=n.reduce((v,y)=>y(v),e());return r=_D(x),l=r.cache.get,o=r.cache.set,d=m,m(g)}function m(g){const x=l(g);if(x)return x;const v=RD(g,r);return o(g,v),v}return function(){return d(CD.apply(null,arguments))}}const us=e=>{const n=r=>r[e]||[];return n.isThemeGetter=!0,n},qN=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,UN=/^\((?:(\w[\w-]*):)?(.+)\)$/i,ED=/^\d+\/\d+$/,TD=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,DD=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kD=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,MD=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,OD=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Hl=e=>ED.test(e),nt=e=>!!e&&!Number.isNaN(Number(e)),ar=e=>!!e&&Number.isInteger(Number(e)),vh=e=>e.endsWith("%")&&nt(e.slice(0,-1)),wa=e=>TD.test(e),zD=()=>!0,PD=e=>DD.test(e)&&!kD.test(e),FN=()=>!1,LD=e=>MD.test(e),qD=e=>OD.test(e),UD=e=>!Oe(e)&&!ze(e),FD=e=>gi(e,IN,FN),Oe=e=>qN.test(e),Lr=e=>gi(e,BN,PD),yh=e=>gi(e,HD,nt),hj=e=>gi(e,$N,FN),$D=e=>gi(e,VN,qD),xd=e=>gi(e,HN,LD),ze=e=>UN.test(e),_o=e=>vi(e,BN),VD=e=>vi(e,ZD),pj=e=>vi(e,$N),ID=e=>vi(e,IN),BD=e=>vi(e,VN),gd=e=>vi(e,HN,!0),gi=(e,n,r)=>{const l=qN.exec(e);return l?l[1]?n(l[1]):r(l[2]):!1},vi=(e,n,r=!1)=>{const l=UN.exec(e);return l?l[1]?n(l[1]):r:!1},$N=e=>e==="position"||e==="percentage",VN=e=>e==="image"||e==="url",IN=e=>e==="length"||e==="size"||e==="bg-size",BN=e=>e==="length",HD=e=>e==="number",ZD=e=>e==="family-name",HN=e=>e==="shadow",GD=()=>{const e=us("color"),n=us("font"),r=us("text"),l=us("font-weight"),o=us("tracking"),d=us("leading"),u=us("breakpoint"),m=us("container"),g=us("spacing"),x=us("radius"),v=us("shadow"),y=us("inset-shadow"),N=us("text-shadow"),C=us("drop-shadow"),_=us("blur"),j=us("perspective"),b=us("aspect"),A=us("ease"),D=us("animate"),S=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],R=()=>[...q(),ze,Oe],k=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto","contain","none"],M=()=>[ze,Oe,g],Q=()=>[Hl,"full","auto",...M()],Z=()=>[ar,"none","subgrid",ze,Oe],z=()=>["auto",{span:["full",ar,ze,Oe]},ar,ze,Oe],O=()=>[ar,"auto",ze,Oe],Y=()=>["auto","min","max","fr",ze,Oe],B=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],P=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...M()],X=()=>[Hl,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...M()],H=()=>[e,ze,Oe],ie=()=>[...q(),pj,hj,{position:[ze,Oe]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],le=()=>["auto","cover","contain",ID,FD,{size:[ze,Oe]}],K=()=>[vh,_o,Lr],F=()=>["","none","full",x,ze,Oe],T=()=>["",nt,_o,Lr],re=()=>["solid","dashed","dotted","double"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],me=()=>[nt,vh,pj,hj],Ne=()=>["","none",_,ze,Oe],ve=()=>["none",nt,ze,Oe],he=()=>["none",nt,ze,Oe],ce=()=>[nt,ze,Oe],Te=()=>[Hl,"full",...M()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wa],breakpoint:[wa],color:[zD],container:[wa],"drop-shadow":[wa],ease:["in","out","in-out"],font:[UD],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wa],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wa],shadow:[wa],spacing:["px",nt],text:[wa],"text-shadow":[wa],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Hl,Oe,ze,b]}],container:["container"],columns:[{columns:[nt,Oe,ze,m]}],"break-after":[{"break-after":S()}],"break-before":[{"break-before":S()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:R()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:$()}],"overscroll-x":[{"overscroll-x":$()}],"overscroll-y":[{"overscroll-y":$()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Q()}],"inset-x":[{"inset-x":Q()}],"inset-y":[{"inset-y":Q()}],start:[{start:Q()}],end:[{end:Q()}],top:[{top:Q()}],right:[{right:Q()}],bottom:[{bottom:Q()}],left:[{left:Q()}],visibility:["visible","invisible","collapse"],z:[{z:[ar,"auto",ze,Oe]}],basis:[{basis:[Hl,"full","auto",m,...M()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[nt,Hl,"auto","initial","none",Oe]}],grow:[{grow:["",nt,ze,Oe]}],shrink:[{shrink:["",nt,ze,Oe]}],order:[{order:[ar,"first","last","none",ze,Oe]}],"grid-cols":[{"grid-cols":Z()}],"col-start-end":[{col:z()}],"col-start":[{"col-start":O()}],"col-end":[{"col-end":O()}],"grid-rows":[{"grid-rows":Z()}],"row-start-end":[{row:z()}],"row-start":[{"row-start":O()}],"row-end":[{"row-end":O()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:M()}],"gap-x":[{"gap-x":M()}],"gap-y":[{"gap-y":M()}],"justify-content":[{justify:[...B(),"normal"]}],"justify-items":[{"justify-items":[...P(),"normal"]}],"justify-self":[{"justify-self":["auto",...P()]}],"align-content":[{content:["normal",...B()]}],"align-items":[{items:[...P(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...P(),{baseline:["","last"]}]}],"place-content":[{"place-content":B()}],"place-items":[{"place-items":[...P(),"baseline"]}],"place-self":[{"place-self":["auto",...P()]}],p:[{p:M()}],px:[{px:M()}],py:[{py:M()}],ps:[{ps:M()}],pe:[{pe:M()}],pt:[{pt:M()}],pr:[{pr:M()}],pb:[{pb:M()}],pl:[{pl:M()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":M()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":M()}],"space-y-reverse":["space-y-reverse"],size:[{size:X()}],w:[{w:[m,"screen",...X()]}],"min-w":[{"min-w":[m,"screen","none",...X()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[u]},...X()]}],h:[{h:["screen","lh",...X()]}],"min-h":[{"min-h":["screen","lh","none",...X()]}],"max-h":[{"max-h":["screen","lh",...X()]}],"font-size":[{text:["base",r,_o,Lr]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[l,ze,yh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vh,Oe]}],"font-family":[{font:[VD,Oe,n]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,ze,Oe]}],"line-clamp":[{"line-clamp":[nt,"none",ze,yh]}],leading:[{leading:[d,...M()]}],"list-image":[{"list-image":["none",ze,Oe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ze,Oe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:[nt,"from-font","auto",ze,Lr]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[nt,"auto",ze,Oe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze,Oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze,Oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ie()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:le()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ar,ze,Oe],radial:["",ze,Oe],conic:[ar,ze,Oe]},BD,$D]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:F()}],"rounded-s":[{"rounded-s":F()}],"rounded-e":[{"rounded-e":F()}],"rounded-t":[{"rounded-t":F()}],"rounded-r":[{"rounded-r":F()}],"rounded-b":[{"rounded-b":F()}],"rounded-l":[{"rounded-l":F()}],"rounded-ss":[{"rounded-ss":F()}],"rounded-se":[{"rounded-se":F()}],"rounded-ee":[{"rounded-ee":F()}],"rounded-es":[{"rounded-es":F()}],"rounded-tl":[{"rounded-tl":F()}],"rounded-tr":[{"rounded-tr":F()}],"rounded-br":[{"rounded-br":F()}],"rounded-bl":[{"rounded-bl":F()}],"border-w":[{border:T()}],"border-w-x":[{"border-x":T()}],"border-w-y":[{"border-y":T()}],"border-w-s":[{"border-s":T()}],"border-w-e":[{"border-e":T()}],"border-w-t":[{"border-t":T()}],"border-w-r":[{"border-r":T()}],"border-w-b":[{"border-b":T()}],"border-w-l":[{"border-l":T()}],"divide-x":[{"divide-x":T()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":T()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...re(),"hidden","none"]}],"divide-style":[{divide:[...re(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...re(),"none","hidden"]}],"outline-offset":[{"outline-offset":[nt,ze,Oe]}],"outline-w":[{outline:["",nt,_o,Lr]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",v,gd,xd]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",y,gd,xd]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:T()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[nt,Lr]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":T()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",N,gd,xd]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[nt,ze,Oe]}],"mix-blend":[{"mix-blend":[...ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[nt]}],"mask-image-linear-from-pos":[{"mask-linear-from":me()}],"mask-image-linear-to-pos":[{"mask-linear-to":me()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":me()}],"mask-image-t-to-pos":[{"mask-t-to":me()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":me()}],"mask-image-r-to-pos":[{"mask-r-to":me()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":me()}],"mask-image-b-to-pos":[{"mask-b-to":me()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":me()}],"mask-image-l-to-pos":[{"mask-l-to":me()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":me()}],"mask-image-x-to-pos":[{"mask-x-to":me()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":me()}],"mask-image-y-to-pos":[{"mask-y-to":me()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[ze,Oe]}],"mask-image-radial-from-pos":[{"mask-radial-from":me()}],"mask-image-radial-to-pos":[{"mask-radial-to":me()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[nt]}],"mask-image-conic-from-pos":[{"mask-conic-from":me()}],"mask-image-conic-to-pos":[{"mask-conic-to":me()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ie()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:le()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ze,Oe]}],filter:[{filter:["","none",ze,Oe]}],blur:[{blur:Ne()}],brightness:[{brightness:[nt,ze,Oe]}],contrast:[{contrast:[nt,ze,Oe]}],"drop-shadow":[{"drop-shadow":["","none",C,gd,xd]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",nt,ze,Oe]}],"hue-rotate":[{"hue-rotate":[nt,ze,Oe]}],invert:[{invert:["",nt,ze,Oe]}],saturate:[{saturate:[nt,ze,Oe]}],sepia:[{sepia:["",nt,ze,Oe]}],"backdrop-filter":[{"backdrop-filter":["","none",ze,Oe]}],"backdrop-blur":[{"backdrop-blur":Ne()}],"backdrop-brightness":[{"backdrop-brightness":[nt,ze,Oe]}],"backdrop-contrast":[{"backdrop-contrast":[nt,ze,Oe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",nt,ze,Oe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[nt,ze,Oe]}],"backdrop-invert":[{"backdrop-invert":["",nt,ze,Oe]}],"backdrop-opacity":[{"backdrop-opacity":[nt,ze,Oe]}],"backdrop-saturate":[{"backdrop-saturate":[nt,ze,Oe]}],"backdrop-sepia":[{"backdrop-sepia":["",nt,ze,Oe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":M()}],"border-spacing-x":[{"border-spacing-x":M()}],"border-spacing-y":[{"border-spacing-y":M()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ze,Oe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[nt,"initial",ze,Oe]}],ease:[{ease:["linear","initial",A,ze,Oe]}],delay:[{delay:[nt,ze,Oe]}],animate:[{animate:["none",D,ze,Oe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,ze,Oe]}],"perspective-origin":[{"perspective-origin":R()}],rotate:[{rotate:ve()}],"rotate-x":[{"rotate-x":ve()}],"rotate-y":[{"rotate-y":ve()}],"rotate-z":[{"rotate-z":ve()}],scale:[{scale:he()}],"scale-x":[{"scale-x":he()}],"scale-y":[{"scale-y":he()}],"scale-z":[{"scale-z":he()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[ze,Oe,"","none","gpu","cpu"]}],"transform-origin":[{origin:R()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Te()}],"translate-x":[{"translate-x":Te()}],"translate-y":[{"translate-y":Te()}],"translate-z":[{"translate-z":Te()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze,Oe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze,Oe]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[nt,_o,Lr,yh]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},YD=AD(GD);function Ce(...e){return YD(zN(e))}function XD(){const{toasts:e,dismiss:n}=aa();return t.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(r=>t.jsxs("div",{className:Ce("flex items-start space-x-3 p-4 rounded-lg shadow-xl border min-w-[350px] max-w-[500px] transform transition-all duration-300 animate-in slide-in-from-right-full",{"bg-green-50 border-green-200 text-green-800":r.variant==="success"||r.variant==="default","bg-red-50 border-red-200 text-red-800":r.variant==="destructive"}),children:[(r.variant==="success"||r.variant==="default")&&t.jsx(Ge,{className:"h-5 w-5 text-green-600 flex-shrink-0 mt-0.5"}),r.variant==="destructive"&&t.jsx(vt,{className:"h-5 w-5 text-red-600 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("div",{className:"font-semibold text-sm",children:r.title}),r.description&&t.jsx("div",{className:"text-sm opacity-90 mt-1",children:r.description})]}),t.jsx("button",{onClick:()=>n(r.id),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100 flex-shrink-0","aria-label":"Close notification",children:t.jsx(Jr,{className:"h-4 w-4"})})]},r.id))})}function xj(e,n){if(typeof e=="function")return e(n);e!=null&&(e.current=n)}function pu(...e){return n=>{let r=!1;const l=e.map(o=>{const d=xj(o,n);return!r&&typeof d=="function"&&(r=!0),d});if(r)return()=>{for(let o=0;o<l.length;o++){const d=l[o];typeof d=="function"?d():xj(e[o],null)}}}}function yt(...e){return p.useCallback(pu(...e),e)}function Hr(e){const n=KD(e),r=p.forwardRef((l,o)=>{const{children:d,...u}=l,m=p.Children.toArray(d),g=m.find(WD);if(g){const x=g.props.children,v=m.map(y=>y===g?p.Children.count(x)>1?p.Children.only(null):p.isValidElement(x)?x.props.children:null:y);return t.jsx(n,{...u,ref:o,children:p.isValidElement(x)?p.cloneElement(x,void 0,v):null})}return t.jsx(n,{...u,ref:o,children:d})});return r.displayName=`${e}.Slot`,r}var Gp=Hr("Slot");function KD(e){const n=p.forwardRef((r,l)=>{const{children:o,...d}=r;if(p.isValidElement(o)){const u=ek(o),m=JD(d,o.props);return o.type!==p.Fragment&&(m.ref=l?pu(l,u):u),p.cloneElement(o,m)}return p.Children.count(o)>1?p.Children.only(null):null});return n.displayName=`${e}.SlotClone`,n}var ZN=Symbol("radix.slottable");function QD(e){const n=({children:r})=>t.jsx(t.Fragment,{children:r});return n.displayName=`${e}.Slottable`,n.__radixId=ZN,n}function WD(e){return p.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZN}function JD(e,n){const r={...n};for(const l in n){const o=e[l],d=n[l];/^on[A-Z]/.test(l)?o&&d?r[l]=(...m)=>{const g=d(...m);return o(...m),g}:o&&(r[l]=o):l==="style"?r[l]={...o,...d}:l==="className"&&(r[l]=[o,d].filter(Boolean).join(" "))}return{...e,...r}}function ek(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const gj=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,vj=zN,Yp=(e,n)=>r=>{var l;if(n?.variants==null)return vj(e,r?.class,r?.className);const{variants:o,defaultVariants:d}=n,u=Object.keys(o).map(x=>{const v=r?.[x],y=d?.[x];if(v===null)return null;const N=gj(v)||gj(y);return o[x][N]}),m=r&&Object.entries(r).reduce((x,v)=>{let[y,N]=v;return N===void 0||(x[y]=N),x},{}),g=n==null||(l=n.compoundVariants)===null||l===void 0?void 0:l.reduce((x,v)=>{let{class:y,className:N,...C}=v;return Object.entries(C).every(_=>{let[j,b]=_;return Array.isArray(b)?b.includes({...d,...m}[j]):{...d,...m}[j]===b})?[...x,y,N]:x},[]);return vj(e,u,g,r?.class,r?.className)},Xp=Yp("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function de({className:e,variant:n,size:r,asChild:l=!1,...o}){const d=l?Gp:"button";return t.jsx(d,{"data-slot":"button",className:Ce(Xp({variant:n,size:r,className:e})),...o})}const tk=Yp("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function Ee({className:e,variant:n,asChild:r=!1,...l}){const o=r?Gp:"span";return t.jsx(o,{"data-slot":"badge",className:Ce(tk({variant:n}),e),...l})}function sk(e,n){const r=p.createContext(n),l=d=>{const{children:u,...m}=d,g=p.useMemo(()=>m,Object.values(m));return t.jsx(r.Provider,{value:g,children:u})};l.displayName=e+"Provider";function o(d){const u=p.useContext(r);if(u)return u;if(n!==void 0)return n;throw new Error(`\`${d}\` must be used within \`${e}\``)}return[l,o]}function Sn(e,n=[]){let r=[];function l(d,u){const m=p.createContext(u),g=r.length;r=[...r,u];const x=y=>{const{scope:N,children:C,..._}=y,j=N?.[e]?.[g]||m,b=p.useMemo(()=>_,Object.values(_));return t.jsx(j.Provider,{value:b,children:C})};x.displayName=d+"Provider";function v(y,N){const C=N?.[e]?.[g]||m,_=p.useContext(C);if(_)return _;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${d}\``)}return[x,v]}const o=()=>{const d=r.map(u=>p.createContext(u));return function(m){const g=m?.[e]||d;return p.useMemo(()=>({[`__scope${e}`]:{...m,[e]:g}}),[m,g])}};return o.scopeName=e,[l,nk(o,...n)]}function nk(...e){const n=e[0];if(e.length===1)return n;const r=()=>{const l=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(d){const u=l.reduce((m,{useScope:g,scopeName:x})=>{const y=g(d)[`__scope${x}`];return{...m,...y}},{});return p.useMemo(()=>({[`__scope${n.scopeName}`]:u}),[u])}};return r.scopeName=n.scopeName,r}function zn(e){const n=p.useRef(e);return p.useEffect(()=>{n.current=e}),p.useMemo(()=>(...r)=>n.current?.(...r),[])}var ps=globalThis?.document?p.useLayoutEffect:()=>{},ak=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qe=ak.reduce((e,n)=>{const r=Hr(`Primitive.${n}`),l=p.forwardRef((o,d)=>{const{asChild:u,...m}=o,g=u?r:n;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(g,{...m,ref:d})});return l.displayName=`Primitive.${n}`,{...e,[n]:l}},{});function GN(e,n){e&&Bo.flushSync(()=>e.dispatchEvent(n))}var jh={exports:{}},bh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yj;function rk(){if(yj)return bh;yj=1;var e=ru();function n(y,N){return y===N&&(y!==0||1/y===1/N)||y!==y&&N!==N}var r=typeof Object.is=="function"?Object.is:n,l=e.useState,o=e.useEffect,d=e.useLayoutEffect,u=e.useDebugValue;function m(y,N){var C=N(),_=l({inst:{value:C,getSnapshot:N}}),j=_[0].inst,b=_[1];return d(function(){j.value=C,j.getSnapshot=N,g(j)&&b({inst:j})},[y,C,N]),o(function(){return g(j)&&b({inst:j}),y(function(){g(j)&&b({inst:j})})},[y]),u(C),C}function g(y){var N=y.getSnapshot;y=y.value;try{var C=N();return!r(y,C)}catch{return!0}}function x(y,N){return N()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?x:m;return bh.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:v,bh}var jj;function lk(){return jj||(jj=1,jh.exports=rk()),jh.exports}var ik=lk();function ok(){return ik.useSyncExternalStore(ck,()=>!0,()=>!1)}function ck(){return()=>{}}var Kp="Avatar",[dk,AU]=Sn(Kp),[uk,YN]=dk(Kp),XN=p.forwardRef((e,n)=>{const{__scopeAvatar:r,...l}=e,[o,d]=p.useState("idle");return t.jsx(uk,{scope:r,imageLoadingStatus:o,onImageLoadingStatusChange:d,children:t.jsx(Qe.span,{...l,ref:n})})});XN.displayName=Kp;var KN="AvatarImage",fk=p.forwardRef((e,n)=>{const{__scopeAvatar:r,src:l,onLoadingStatusChange:o=()=>{},...d}=e,u=YN(KN,r),m=mk(l,d),g=zn(x=>{o(x),u.onImageLoadingStatusChange(x)});return ps(()=>{m!=="idle"&&g(m)},[m,g]),m==="loaded"?t.jsx(Qe.img,{...d,ref:n,src:l}):null});fk.displayName=KN;var QN="AvatarFallback",WN=p.forwardRef((e,n)=>{const{__scopeAvatar:r,delayMs:l,...o}=e,d=YN(QN,r),[u,m]=p.useState(l===void 0);return p.useEffect(()=>{if(l!==void 0){const g=window.setTimeout(()=>m(!0),l);return()=>window.clearTimeout(g)}},[l]),u&&d.imageLoadingStatus!=="loaded"?t.jsx(Qe.span,{...o,ref:n}):null});WN.displayName=QN;function bj(e,n){return e?n?(e.src!==n&&(e.src=n),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function mk(e,{referrerPolicy:n,crossOrigin:r}){const l=ok(),o=p.useRef(null),d=l?(o.current||(o.current=new window.Image),o.current):null,[u,m]=p.useState(()=>bj(d,e));return ps(()=>{m(bj(d,e))},[d,e]),ps(()=>{const g=y=>()=>{m(y)};if(!d)return;const x=g("loaded"),v=g("error");return d.addEventListener("load",x),d.addEventListener("error",v),n&&(d.referrerPolicy=n),typeof r=="string"&&(d.crossOrigin=r),()=>{d.removeEventListener("load",x),d.removeEventListener("error",v)}},[d,r,n]),u}var hk=XN,pk=WN;function li({className:e,...n}){return t.jsx(hk,{"data-slot":"avatar",className:Ce("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...n})}function ii({className:e,...n}){return t.jsx(pk,{"data-slot":"avatar-fallback",className:Ce("bg-muted flex size-full items-center justify-center rounded-full",e),...n})}function Fe(e,n,{checkForDefaultPrevented:r=!0}={}){return function(o){if(e?.(o),r===!1||!o.defaultPrevented)return n?.(o)}}var xk=Lb[" useInsertionEffect ".trim().toString()]||ps;function Zr({prop:e,defaultProp:n,onChange:r=()=>{},caller:l}){const[o,d,u]=gk({defaultProp:n,onChange:r}),m=e!==void 0,g=m?e:o;{const v=p.useRef(e!==void 0);p.useEffect(()=>{const y=v.current;y!==m&&console.warn(`${l} is changing from ${y?"controlled":"uncontrolled"} to ${m?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=m},[m,l])}const x=p.useCallback(v=>{if(m){const y=vk(v)?v(e):v;y!==e&&u.current?.(y)}else d(v)},[m,e,d,u]);return[g,x]}function gk({defaultProp:e,onChange:n}){const[r,l]=p.useState(e),o=p.useRef(r),d=p.useRef(n);return xk(()=>{d.current=n},[n]),p.useEffect(()=>{o.current!==r&&(d.current?.(r),o.current=r)},[r,o]),[r,l,d]}function vk(e){return typeof e=="function"}function Qp(e){const n=e+"CollectionProvider",[r,l]=Sn(n),[o,d]=r(n,{collectionRef:{current:null},itemMap:new Map}),u=j=>{const{scope:b,children:A}=j,D=Ue.useRef(null),S=Ue.useRef(new Map).current;return t.jsx(o,{scope:b,itemMap:S,collectionRef:D,children:A})};u.displayName=n;const m=e+"CollectionSlot",g=Hr(m),x=Ue.forwardRef((j,b)=>{const{scope:A,children:D}=j,S=d(m,A),q=yt(b,S.collectionRef);return t.jsx(g,{ref:q,children:D})});x.displayName=m;const v=e+"CollectionItemSlot",y="data-radix-collection-item",N=Hr(v),C=Ue.forwardRef((j,b)=>{const{scope:A,children:D,...S}=j,q=Ue.useRef(null),R=yt(b,q),k=d(v,A);return Ue.useEffect(()=>(k.itemMap.set(q,{ref:q,...S}),()=>void k.itemMap.delete(q))),t.jsx(N,{[y]:"",ref:R,children:D})});C.displayName=v;function _(j){const b=d(e+"CollectionConsumer",j);return Ue.useCallback(()=>{const D=b.collectionRef.current;if(!D)return[];const S=Array.from(D.querySelectorAll(`[${y}]`));return Array.from(b.itemMap.values()).sort((k,$)=>S.indexOf(k.ref.current)-S.indexOf($.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:u,Slot:x,ItemSlot:C},_,l]}var yk=p.createContext(void 0);function xu(e){const n=p.useContext(yk);return e||n||"ltr"}function jk(e,n=globalThis?.document){const r=zn(e);p.useEffect(()=>{const l=o=>{o.key==="Escape"&&r(o)};return n.addEventListener("keydown",l,{capture:!0}),()=>n.removeEventListener("keydown",l,{capture:!0})},[r,n])}var bk="DismissableLayer",rp="dismissableLayer.update",Nk="dismissableLayer.pointerDownOutside",wk="dismissableLayer.focusOutside",Nj,JN=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gu=p.forwardRef((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:d,onInteractOutside:u,onDismiss:m,...g}=e,x=p.useContext(JN),[v,y]=p.useState(null),N=v?.ownerDocument??globalThis?.document,[,C]=p.useState({}),_=yt(n,$=>y($)),j=Array.from(x.layers),[b]=[...x.layersWithOutsidePointerEventsDisabled].slice(-1),A=j.indexOf(b),D=v?j.indexOf(v):-1,S=x.layersWithOutsidePointerEventsDisabled.size>0,q=D>=A,R=Rk($=>{const M=$.target,Q=[...x.branches].some(Z=>Z.contains(M));!q||Q||(o?.($),u?.($),$.defaultPrevented||m?.())},N),k=Ck($=>{const M=$.target;[...x.branches].some(Z=>Z.contains(M))||(d?.($),u?.($),$.defaultPrevented||m?.())},N);return jk($=>{D===x.layers.size-1&&(l?.($),!$.defaultPrevented&&m&&($.preventDefault(),m()))},N),p.useEffect(()=>{if(v)return r&&(x.layersWithOutsidePointerEventsDisabled.size===0&&(Nj=N.body.style.pointerEvents,N.body.style.pointerEvents="none"),x.layersWithOutsidePointerEventsDisabled.add(v)),x.layers.add(v),wj(),()=>{r&&x.layersWithOutsidePointerEventsDisabled.size===1&&(N.body.style.pointerEvents=Nj)}},[v,N,r,x]),p.useEffect(()=>()=>{v&&(x.layers.delete(v),x.layersWithOutsidePointerEventsDisabled.delete(v),wj())},[v,x]),p.useEffect(()=>{const $=()=>C({});return document.addEventListener(rp,$),()=>document.removeEventListener(rp,$)},[]),t.jsx(Qe.div,{...g,ref:_,style:{pointerEvents:S?q?"auto":"none":void 0,...e.style},onFocusCapture:Fe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Fe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Fe(e.onPointerDownCapture,R.onPointerDownCapture)})});gu.displayName=bk;var _k="DismissableLayerBranch",Sk=p.forwardRef((e,n)=>{const r=p.useContext(JN),l=p.useRef(null),o=yt(n,l);return p.useEffect(()=>{const d=l.current;if(d)return r.branches.add(d),()=>{r.branches.delete(d)}},[r.branches]),t.jsx(Qe.div,{...e,ref:o})});Sk.displayName=_k;function Rk(e,n=globalThis?.document){const r=zn(e),l=p.useRef(!1),o=p.useRef(()=>{});return p.useEffect(()=>{const d=m=>{if(m.target&&!l.current){let g=function(){ew(Nk,r,x,{discrete:!0})};const x={originalEvent:m};m.pointerType==="touch"?(n.removeEventListener("click",o.current),o.current=g,n.addEventListener("click",o.current,{once:!0})):g()}else n.removeEventListener("click",o.current);l.current=!1},u=window.setTimeout(()=>{n.addEventListener("pointerdown",d)},0);return()=>{window.clearTimeout(u),n.removeEventListener("pointerdown",d),n.removeEventListener("click",o.current)}},[n,r]),{onPointerDownCapture:()=>l.current=!0}}function Ck(e,n=globalThis?.document){const r=zn(e),l=p.useRef(!1);return p.useEffect(()=>{const o=d=>{d.target&&!l.current&&ew(wk,r,{originalEvent:d},{discrete:!1})};return n.addEventListener("focusin",o),()=>n.removeEventListener("focusin",o)},[n,r]),{onFocusCapture:()=>l.current=!0,onBlurCapture:()=>l.current=!1}}function wj(){const e=new CustomEvent(rp);document.dispatchEvent(e)}function ew(e,n,r,{discrete:l}){const o=r.originalEvent.target,d=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});n&&o.addEventListener(e,n,{once:!0}),l?GN(o,d):o.dispatchEvent(d)}var Nh=0;function Wp(){p.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??_j()),document.body.insertAdjacentElement("beforeend",e[1]??_j()),Nh++,()=>{Nh===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(n=>n.remove()),Nh--}},[])}function _j(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var wh="focusScope.autoFocusOnMount",_h="focusScope.autoFocusOnUnmount",Sj={bubbles:!1,cancelable:!0},Ak="FocusScope",vu=p.forwardRef((e,n)=>{const{loop:r=!1,trapped:l=!1,onMountAutoFocus:o,onUnmountAutoFocus:d,...u}=e,[m,g]=p.useState(null),x=zn(o),v=zn(d),y=p.useRef(null),N=yt(n,j=>g(j)),C=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(l){let j=function(S){if(C.paused||!m)return;const q=S.target;m.contains(q)?y.current=q:lr(y.current,{select:!0})},b=function(S){if(C.paused||!m)return;const q=S.relatedTarget;q!==null&&(m.contains(q)||lr(y.current,{select:!0}))},A=function(S){if(document.activeElement===document.body)for(const R of S)R.removedNodes.length>0&&lr(m)};document.addEventListener("focusin",j),document.addEventListener("focusout",b);const D=new MutationObserver(A);return m&&D.observe(m,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",j),document.removeEventListener("focusout",b),D.disconnect()}}},[l,m,C.paused]),p.useEffect(()=>{if(m){Cj.add(C);const j=document.activeElement;if(!m.contains(j)){const A=new CustomEvent(wh,Sj);m.addEventListener(wh,x),m.dispatchEvent(A),A.defaultPrevented||(Ek(Ok(tw(m)),{select:!0}),document.activeElement===j&&lr(m))}return()=>{m.removeEventListener(wh,x),setTimeout(()=>{const A=new CustomEvent(_h,Sj);m.addEventListener(_h,v),m.dispatchEvent(A),A.defaultPrevented||lr(j??document.body,{select:!0}),m.removeEventListener(_h,v),Cj.remove(C)},0)}}},[m,x,v,C]);const _=p.useCallback(j=>{if(!r&&!l||C.paused)return;const b=j.key==="Tab"&&!j.altKey&&!j.ctrlKey&&!j.metaKey,A=document.activeElement;if(b&&A){const D=j.currentTarget,[S,q]=Tk(D);S&&q?!j.shiftKey&&A===q?(j.preventDefault(),r&&lr(S,{select:!0})):j.shiftKey&&A===S&&(j.preventDefault(),r&&lr(q,{select:!0})):A===D&&j.preventDefault()}},[r,l,C.paused]);return t.jsx(Qe.div,{tabIndex:-1,...u,ref:N,onKeyDown:_})});vu.displayName=Ak;function Ek(e,{select:n=!1}={}){const r=document.activeElement;for(const l of e)if(lr(l,{select:n}),document.activeElement!==r)return}function Tk(e){const n=tw(e),r=Rj(n,e),l=Rj(n.reverse(),e);return[r,l]}function tw(e){const n=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:l=>{const o=l.tagName==="INPUT"&&l.type==="hidden";return l.disabled||l.hidden||o?NodeFilter.FILTER_SKIP:l.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n}function Rj(e,n){for(const r of e)if(!Dk(r,{upTo:n}))return r}function Dk(e,{upTo:n}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(n!==void 0&&e===n)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function kk(e){return e instanceof HTMLInputElement&&"select"in e}function lr(e,{select:n=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&kk(e)&&n&&e.select()}}var Cj=Mk();function Mk(){let e=[];return{add(n){const r=e[0];n!==r&&r?.pause(),e=Aj(e,n),e.unshift(n)},remove(n){e=Aj(e,n),e[0]?.resume()}}}function Aj(e,n){const r=[...e],l=r.indexOf(n);return l!==-1&&r.splice(l,1),r}function Ok(e){return e.filter(n=>n.tagName!=="A")}var zk=Lb[" useId ".trim().toString()]||(()=>{}),Pk=0;function Jn(e){const[n,r]=p.useState(zk());return ps(()=>{r(l=>l??String(Pk++))},[e]),n?`radix-${n}`:""}const Lk=["top","right","bottom","left"],hr=Math.min,nn=Math.max,Id=Math.round,vd=Math.floor,ea=e=>({x:e,y:e}),qk={left:"right",right:"left",bottom:"top",top:"bottom"},Uk={start:"end",end:"start"};function lp(e,n,r){return nn(e,hr(n,r))}function Ta(e,n){return typeof e=="function"?e(n):e}function Da(e){return e.split("-")[0]}function yi(e){return e.split("-")[1]}function Jp(e){return e==="x"?"y":"x"}function ex(e){return e==="y"?"height":"width"}const Fk=new Set(["top","bottom"]);function Qn(e){return Fk.has(Da(e))?"y":"x"}function tx(e){return Jp(Qn(e))}function $k(e,n,r){r===void 0&&(r=!1);const l=yi(e),o=tx(e),d=ex(o);let u=o==="x"?l===(r?"end":"start")?"right":"left":l==="start"?"bottom":"top";return n.reference[d]>n.floating[d]&&(u=Bd(u)),[u,Bd(u)]}function Vk(e){const n=Bd(e);return[ip(e),n,ip(n)]}function ip(e){return e.replace(/start|end/g,n=>Uk[n])}const Ej=["left","right"],Tj=["right","left"],Ik=["top","bottom"],Bk=["bottom","top"];function Hk(e,n,r){switch(e){case"top":case"bottom":return r?n?Tj:Ej:n?Ej:Tj;case"left":case"right":return n?Ik:Bk;default:return[]}}function Zk(e,n,r,l){const o=yi(e);let d=Hk(Da(e),r==="start",l);return o&&(d=d.map(u=>u+"-"+o),n&&(d=d.concat(d.map(ip)))),d}function Bd(e){return e.replace(/left|right|bottom|top/g,n=>qk[n])}function Gk(e){return{top:0,right:0,bottom:0,left:0,...e}}function sw(e){return typeof e!="number"?Gk(e):{top:e,right:e,bottom:e,left:e}}function Hd(e){const{x:n,y:r,width:l,height:o}=e;return{width:l,height:o,top:r,left:n,right:n+l,bottom:r+o,x:n,y:r}}function Dj(e,n,r){let{reference:l,floating:o}=e;const d=Qn(n),u=tx(n),m=ex(u),g=Da(n),x=d==="y",v=l.x+l.width/2-o.width/2,y=l.y+l.height/2-o.height/2,N=l[m]/2-o[m]/2;let C;switch(g){case"top":C={x:v,y:l.y-o.height};break;case"bottom":C={x:v,y:l.y+l.height};break;case"right":C={x:l.x+l.width,y};break;case"left":C={x:l.x-o.width,y};break;default:C={x:l.x,y:l.y}}switch(yi(n)){case"start":C[u]-=N*(r&&x?-1:1);break;case"end":C[u]+=N*(r&&x?-1:1);break}return C}const Yk=async(e,n,r)=>{const{placement:l="bottom",strategy:o="absolute",middleware:d=[],platform:u}=r,m=d.filter(Boolean),g=await(u.isRTL==null?void 0:u.isRTL(n));let x=await u.getElementRects({reference:e,floating:n,strategy:o}),{x:v,y}=Dj(x,l,g),N=l,C={},_=0;for(let j=0;j<m.length;j++){const{name:b,fn:A}=m[j],{x:D,y:S,data:q,reset:R}=await A({x:v,y,initialPlacement:l,placement:N,strategy:o,middlewareData:C,rects:x,platform:u,elements:{reference:e,floating:n}});v=D??v,y=S??y,C={...C,[b]:{...C[b],...q}},R&&_<=50&&(_++,typeof R=="object"&&(R.placement&&(N=R.placement),R.rects&&(x=R.rects===!0?await u.getElementRects({reference:e,floating:n,strategy:o}):R.rects),{x:v,y}=Dj(x,N,g)),j=-1)}return{x:v,y,placement:N,strategy:o,middlewareData:C}};async function Po(e,n){var r;n===void 0&&(n={});const{x:l,y:o,platform:d,rects:u,elements:m,strategy:g}=e,{boundary:x="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:N=!1,padding:C=0}=Ta(n,e),_=sw(C),b=m[N?y==="floating"?"reference":"floating":y],A=Hd(await d.getClippingRect({element:(r=await(d.isElement==null?void 0:d.isElement(b)))==null||r?b:b.contextElement||await(d.getDocumentElement==null?void 0:d.getDocumentElement(m.floating)),boundary:x,rootBoundary:v,strategy:g})),D=y==="floating"?{x:l,y:o,width:u.floating.width,height:u.floating.height}:u.reference,S=await(d.getOffsetParent==null?void 0:d.getOffsetParent(m.floating)),q=await(d.isElement==null?void 0:d.isElement(S))?await(d.getScale==null?void 0:d.getScale(S))||{x:1,y:1}:{x:1,y:1},R=Hd(d.convertOffsetParentRelativeRectToViewportRelativeRect?await d.convertOffsetParentRelativeRectToViewportRelativeRect({elements:m,rect:D,offsetParent:S,strategy:g}):D);return{top:(A.top-R.top+_.top)/q.y,bottom:(R.bottom-A.bottom+_.bottom)/q.y,left:(A.left-R.left+_.left)/q.x,right:(R.right-A.right+_.right)/q.x}}const Xk=e=>({name:"arrow",options:e,async fn(n){const{x:r,y:l,placement:o,rects:d,platform:u,elements:m,middlewareData:g}=n,{element:x,padding:v=0}=Ta(e,n)||{};if(x==null)return{};const y=sw(v),N={x:r,y:l},C=tx(o),_=ex(C),j=await u.getDimensions(x),b=C==="y",A=b?"top":"left",D=b?"bottom":"right",S=b?"clientHeight":"clientWidth",q=d.reference[_]+d.reference[C]-N[C]-d.floating[_],R=N[C]-d.reference[C],k=await(u.getOffsetParent==null?void 0:u.getOffsetParent(x));let $=k?k[S]:0;(!$||!await(u.isElement==null?void 0:u.isElement(k)))&&($=m.floating[S]||d.floating[_]);const M=q/2-R/2,Q=$/2-j[_]/2-1,Z=hr(y[A],Q),z=hr(y[D],Q),O=Z,Y=$-j[_]-z,B=$/2-j[_]/2+M,P=lp(O,B,Y),L=!g.arrow&&yi(o)!=null&&B!==P&&d.reference[_]/2-(B<O?Z:z)-j[_]/2<0,X=L?B<O?B-O:B-Y:0;return{[C]:N[C]+X,data:{[C]:P,centerOffset:B-P-X,...L&&{alignmentOffset:X}},reset:L}}}),Kk=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var r,l;const{placement:o,middlewareData:d,rects:u,initialPlacement:m,platform:g,elements:x}=n,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:N,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:j=!0,...b}=Ta(e,n);if((r=d.arrow)!=null&&r.alignmentOffset)return{};const A=Da(o),D=Qn(m),S=Da(m)===m,q=await(g.isRTL==null?void 0:g.isRTL(x.floating)),R=N||(S||!j?[Bd(m)]:Vk(m)),k=_!=="none";!N&&k&&R.push(...Zk(m,j,_,q));const $=[m,...R],M=await Po(n,b),Q=[];let Z=((l=d.flip)==null?void 0:l.overflows)||[];if(v&&Q.push(M[A]),y){const B=$k(o,u,q);Q.push(M[B[0]],M[B[1]])}if(Z=[...Z,{placement:o,overflows:Q}],!Q.every(B=>B<=0)){var z,O;const B=(((z=d.flip)==null?void 0:z.index)||0)+1,P=$[B];if(P&&(!(y==="alignment"?D!==Qn(P):!1)||Z.every(H=>Qn(H.placement)===D?H.overflows[0]>0:!0)))return{data:{index:B,overflows:Z},reset:{placement:P}};let L=(O=Z.filter(X=>X.overflows[0]<=0).sort((X,H)=>X.overflows[1]-H.overflows[1])[0])==null?void 0:O.placement;if(!L)switch(C){case"bestFit":{var Y;const X=(Y=Z.filter(H=>{if(k){const ie=Qn(H.placement);return ie===D||ie==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(ie=>ie>0).reduce((ie,U)=>ie+U,0)]).sort((H,ie)=>H[1]-ie[1])[0])==null?void 0:Y[0];X&&(L=X);break}case"initialPlacement":L=m;break}if(o!==L)return{reset:{placement:L}}}return{}}}};function kj(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function Mj(e){return Lk.some(n=>e[n]>=0)}const Qk=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:r}=n,{strategy:l="referenceHidden",...o}=Ta(e,n);switch(l){case"referenceHidden":{const d=await Po(n,{...o,elementContext:"reference"}),u=kj(d,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Mj(u)}}}case"escaped":{const d=await Po(n,{...o,altBoundary:!0}),u=kj(d,r.floating);return{data:{escapedOffsets:u,escaped:Mj(u)}}}default:return{}}}}},nw=new Set(["left","top"]);async function Wk(e,n){const{placement:r,platform:l,elements:o}=e,d=await(l.isRTL==null?void 0:l.isRTL(o.floating)),u=Da(r),m=yi(r),g=Qn(r)==="y",x=nw.has(u)?-1:1,v=d&&g?-1:1,y=Ta(n,e);let{mainAxis:N,crossAxis:C,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return m&&typeof _=="number"&&(C=m==="end"?_*-1:_),g?{x:C*v,y:N*x}:{x:N*x,y:C*v}}const Jk=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var r,l;const{x:o,y:d,placement:u,middlewareData:m}=n,g=await Wk(n,e);return u===((r=m.offset)==null?void 0:r.placement)&&(l=m.arrow)!=null&&l.alignmentOffset?{}:{x:o+g.x,y:d+g.y,data:{...g,placement:u}}}}},e3=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:r,y:l,placement:o}=n,{mainAxis:d=!0,crossAxis:u=!1,limiter:m={fn:b=>{let{x:A,y:D}=b;return{x:A,y:D}}},...g}=Ta(e,n),x={x:r,y:l},v=await Po(n,g),y=Qn(Da(o)),N=Jp(y);let C=x[N],_=x[y];if(d){const b=N==="y"?"top":"left",A=N==="y"?"bottom":"right",D=C+v[b],S=C-v[A];C=lp(D,C,S)}if(u){const b=y==="y"?"top":"left",A=y==="y"?"bottom":"right",D=_+v[b],S=_-v[A];_=lp(D,_,S)}const j=m.fn({...n,[N]:C,[y]:_});return{...j,data:{x:j.x-r,y:j.y-l,enabled:{[N]:d,[y]:u}}}}}},t3=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:r,y:l,placement:o,rects:d,middlewareData:u}=n,{offset:m=0,mainAxis:g=!0,crossAxis:x=!0}=Ta(e,n),v={x:r,y:l},y=Qn(o),N=Jp(y);let C=v[N],_=v[y];const j=Ta(m,n),b=typeof j=="number"?{mainAxis:j,crossAxis:0}:{mainAxis:0,crossAxis:0,...j};if(g){const S=N==="y"?"height":"width",q=d.reference[N]-d.floating[S]+b.mainAxis,R=d.reference[N]+d.reference[S]-b.mainAxis;C<q?C=q:C>R&&(C=R)}if(x){var A,D;const S=N==="y"?"width":"height",q=nw.has(Da(o)),R=d.reference[y]-d.floating[S]+(q&&((A=u.offset)==null?void 0:A[y])||0)+(q?0:b.crossAxis),k=d.reference[y]+d.reference[S]+(q?0:((D=u.offset)==null?void 0:D[y])||0)-(q?b.crossAxis:0);_<R?_=R:_>k&&(_=k)}return{[N]:C,[y]:_}}}},s3=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var r,l;const{placement:o,rects:d,platform:u,elements:m}=n,{apply:g=()=>{},...x}=Ta(e,n),v=await Po(n,x),y=Da(o),N=yi(o),C=Qn(o)==="y",{width:_,height:j}=d.floating;let b,A;y==="top"||y==="bottom"?(b=y,A=N===(await(u.isRTL==null?void 0:u.isRTL(m.floating))?"start":"end")?"left":"right"):(A=y,b=N==="end"?"top":"bottom");const D=j-v.top-v.bottom,S=_-v.left-v.right,q=hr(j-v[b],D),R=hr(_-v[A],S),k=!n.middlewareData.shift;let $=q,M=R;if((r=n.middlewareData.shift)!=null&&r.enabled.x&&(M=S),(l=n.middlewareData.shift)!=null&&l.enabled.y&&($=D),k&&!N){const Z=nn(v.left,0),z=nn(v.right,0),O=nn(v.top,0),Y=nn(v.bottom,0);C?M=_-2*(Z!==0||z!==0?Z+z:nn(v.left,v.right)):$=j-2*(O!==0||Y!==0?O+Y:nn(v.top,v.bottom))}await g({...n,availableWidth:M,availableHeight:$});const Q=await u.getDimensions(m.floating);return _!==Q.width||j!==Q.height?{reset:{rects:!0}}:{}}}};function yu(){return typeof window<"u"}function ji(e){return aw(e)?(e.nodeName||"").toLowerCase():"#document"}function an(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function ra(e){var n;return(n=(aw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function aw(e){return yu()?e instanceof Node||e instanceof an(e).Node:!1}function Pn(e){return yu()?e instanceof Element||e instanceof an(e).Element:!1}function ta(e){return yu()?e instanceof HTMLElement||e instanceof an(e).HTMLElement:!1}function Oj(e){return!yu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof an(e).ShadowRoot}const n3=new Set(["inline","contents"]);function Ko(e){const{overflow:n,overflowX:r,overflowY:l,display:o}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(n+l+r)&&!n3.has(o)}const a3=new Set(["table","td","th"]);function r3(e){return a3.has(ji(e))}const l3=[":popover-open",":modal"];function ju(e){return l3.some(n=>{try{return e.matches(n)}catch{return!1}})}const i3=["transform","translate","scale","rotate","perspective"],o3=["transform","translate","scale","rotate","perspective","filter"],c3=["paint","layout","strict","content"];function sx(e){const n=nx(),r=Pn(e)?Ln(e):e;return i3.some(l=>r[l]?r[l]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||o3.some(l=>(r.willChange||"").includes(l))||c3.some(l=>(r.contain||"").includes(l))}function d3(e){let n=pr(e);for(;ta(n)&&!oi(n);){if(sx(n))return n;if(ju(n))return null;n=pr(n)}return null}function nx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const u3=new Set(["html","body","#document"]);function oi(e){return u3.has(ji(e))}function Ln(e){return an(e).getComputedStyle(e)}function bu(e){return Pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pr(e){if(ji(e)==="html")return e;const n=e.assignedSlot||e.parentNode||Oj(e)&&e.host||ra(e);return Oj(n)?n.host:n}function rw(e){const n=pr(e);return oi(n)?e.ownerDocument?e.ownerDocument.body:e.body:ta(n)&&Ko(n)?n:rw(n)}function Lo(e,n,r){var l;n===void 0&&(n=[]),r===void 0&&(r=!0);const o=rw(e),d=o===((l=e.ownerDocument)==null?void 0:l.body),u=an(o);if(d){const m=op(u);return n.concat(u,u.visualViewport||[],Ko(o)?o:[],m&&r?Lo(m):[])}return n.concat(o,Lo(o,[],r))}function op(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function lw(e){const n=Ln(e);let r=parseFloat(n.width)||0,l=parseFloat(n.height)||0;const o=ta(e),d=o?e.offsetWidth:r,u=o?e.offsetHeight:l,m=Id(r)!==d||Id(l)!==u;return m&&(r=d,l=u),{width:r,height:l,$:m}}function ax(e){return Pn(e)?e:e.contextElement}function ti(e){const n=ax(e);if(!ta(n))return ea(1);const r=n.getBoundingClientRect(),{width:l,height:o,$:d}=lw(n);let u=(d?Id(r.width):r.width)/l,m=(d?Id(r.height):r.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!m||!Number.isFinite(m))&&(m=1),{x:u,y:m}}const f3=ea(0);function iw(e){const n=an(e);return!nx()||!n.visualViewport?f3:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function m3(e,n,r){return n===void 0&&(n=!1),!r||n&&r!==an(e)?!1:n}function Gr(e,n,r,l){n===void 0&&(n=!1),r===void 0&&(r=!1);const o=e.getBoundingClientRect(),d=ax(e);let u=ea(1);n&&(l?Pn(l)&&(u=ti(l)):u=ti(e));const m=m3(d,r,l)?iw(d):ea(0);let g=(o.left+m.x)/u.x,x=(o.top+m.y)/u.y,v=o.width/u.x,y=o.height/u.y;if(d){const N=an(d),C=l&&Pn(l)?an(l):l;let _=N,j=op(_);for(;j&&l&&C!==_;){const b=ti(j),A=j.getBoundingClientRect(),D=Ln(j),S=A.left+(j.clientLeft+parseFloat(D.paddingLeft))*b.x,q=A.top+(j.clientTop+parseFloat(D.paddingTop))*b.y;g*=b.x,x*=b.y,v*=b.x,y*=b.y,g+=S,x+=q,_=an(j),j=op(_)}}return Hd({width:v,height:y,x:g,y:x})}function Nu(e,n){const r=bu(e).scrollLeft;return n?n.left+r:Gr(ra(e)).left+r}function ow(e,n){const r=e.getBoundingClientRect(),l=r.left+n.scrollLeft-Nu(e,r),o=r.top+n.scrollTop;return{x:l,y:o}}function h3(e){let{elements:n,rect:r,offsetParent:l,strategy:o}=e;const d=o==="fixed",u=ra(l),m=n?ju(n.floating):!1;if(l===u||m&&d)return r;let g={scrollLeft:0,scrollTop:0},x=ea(1);const v=ea(0),y=ta(l);if((y||!y&&!d)&&((ji(l)!=="body"||Ko(u))&&(g=bu(l)),ta(l))){const C=Gr(l);x=ti(l),v.x=C.x+l.clientLeft,v.y=C.y+l.clientTop}const N=u&&!y&&!d?ow(u,g):ea(0);return{width:r.width*x.x,height:r.height*x.y,x:r.x*x.x-g.scrollLeft*x.x+v.x+N.x,y:r.y*x.y-g.scrollTop*x.y+v.y+N.y}}function p3(e){return Array.from(e.getClientRects())}function x3(e){const n=ra(e),r=bu(e),l=e.ownerDocument.body,o=nn(n.scrollWidth,n.clientWidth,l.scrollWidth,l.clientWidth),d=nn(n.scrollHeight,n.clientHeight,l.scrollHeight,l.clientHeight);let u=-r.scrollLeft+Nu(e);const m=-r.scrollTop;return Ln(l).direction==="rtl"&&(u+=nn(n.clientWidth,l.clientWidth)-o),{width:o,height:d,x:u,y:m}}const zj=25;function g3(e,n){const r=an(e),l=ra(e),o=r.visualViewport;let d=l.clientWidth,u=l.clientHeight,m=0,g=0;if(o){d=o.width,u=o.height;const v=nx();(!v||v&&n==="fixed")&&(m=o.offsetLeft,g=o.offsetTop)}const x=Nu(l);if(x<=0){const v=l.ownerDocument,y=v.body,N=getComputedStyle(y),C=v.compatMode==="CSS1Compat"&&parseFloat(N.marginLeft)+parseFloat(N.marginRight)||0,_=Math.abs(l.clientWidth-y.clientWidth-C);_<=zj&&(d-=_)}else x<=zj&&(d+=x);return{width:d,height:u,x:m,y:g}}const v3=new Set(["absolute","fixed"]);function y3(e,n){const r=Gr(e,!0,n==="fixed"),l=r.top+e.clientTop,o=r.left+e.clientLeft,d=ta(e)?ti(e):ea(1),u=e.clientWidth*d.x,m=e.clientHeight*d.y,g=o*d.x,x=l*d.y;return{width:u,height:m,x:g,y:x}}function Pj(e,n,r){let l;if(n==="viewport")l=g3(e,r);else if(n==="document")l=x3(ra(e));else if(Pn(n))l=y3(n,r);else{const o=iw(e);l={x:n.x-o.x,y:n.y-o.y,width:n.width,height:n.height}}return Hd(l)}function cw(e,n){const r=pr(e);return r===n||!Pn(r)||oi(r)?!1:Ln(r).position==="fixed"||cw(r,n)}function j3(e,n){const r=n.get(e);if(r)return r;let l=Lo(e,[],!1).filter(m=>Pn(m)&&ji(m)!=="body"),o=null;const d=Ln(e).position==="fixed";let u=d?pr(e):e;for(;Pn(u)&&!oi(u);){const m=Ln(u),g=sx(u);!g&&m.position==="fixed"&&(o=null),(d?!g&&!o:!g&&m.position==="static"&&!!o&&v3.has(o.position)||Ko(u)&&!g&&cw(e,u))?l=l.filter(v=>v!==u):o=m,u=pr(u)}return n.set(e,l),l}function b3(e){let{element:n,boundary:r,rootBoundary:l,strategy:o}=e;const u=[...r==="clippingAncestors"?ju(n)?[]:j3(n,this._c):[].concat(r),l],m=u[0],g=u.reduce((x,v)=>{const y=Pj(n,v,o);return x.top=nn(y.top,x.top),x.right=hr(y.right,x.right),x.bottom=hr(y.bottom,x.bottom),x.left=nn(y.left,x.left),x},Pj(n,m,o));return{width:g.right-g.left,height:g.bottom-g.top,x:g.left,y:g.top}}function N3(e){const{width:n,height:r}=lw(e);return{width:n,height:r}}function w3(e,n,r){const l=ta(n),o=ra(n),d=r==="fixed",u=Gr(e,!0,d,n);let m={scrollLeft:0,scrollTop:0};const g=ea(0);function x(){g.x=Nu(o)}if(l||!l&&!d)if((ji(n)!=="body"||Ko(o))&&(m=bu(n)),l){const C=Gr(n,!0,d,n);g.x=C.x+n.clientLeft,g.y=C.y+n.clientTop}else o&&x();d&&!l&&o&&x();const v=o&&!l&&!d?ow(o,m):ea(0),y=u.left+m.scrollLeft-g.x-v.x,N=u.top+m.scrollTop-g.y-v.y;return{x:y,y:N,width:u.width,height:u.height}}function Sh(e){return Ln(e).position==="static"}function Lj(e,n){if(!ta(e)||Ln(e).position==="fixed")return null;if(n)return n(e);let r=e.offsetParent;return ra(e)===r&&(r=r.ownerDocument.body),r}function dw(e,n){const r=an(e);if(ju(e))return r;if(!ta(e)){let o=pr(e);for(;o&&!oi(o);){if(Pn(o)&&!Sh(o))return o;o=pr(o)}return r}let l=Lj(e,n);for(;l&&r3(l)&&Sh(l);)l=Lj(l,n);return l&&oi(l)&&Sh(l)&&!sx(l)?r:l||d3(e)||r}const _3=async function(e){const n=this.getOffsetParent||dw,r=this.getDimensions,l=await r(e.floating);return{reference:w3(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}};function S3(e){return Ln(e).direction==="rtl"}const R3={convertOffsetParentRelativeRectToViewportRelativeRect:h3,getDocumentElement:ra,getClippingRect:b3,getOffsetParent:dw,getElementRects:_3,getClientRects:p3,getDimensions:N3,getScale:ti,isElement:Pn,isRTL:S3};function uw(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function C3(e,n){let r=null,l;const o=ra(e);function d(){var m;clearTimeout(l),(m=r)==null||m.disconnect(),r=null}function u(m,g){m===void 0&&(m=!1),g===void 0&&(g=1),d();const x=e.getBoundingClientRect(),{left:v,top:y,width:N,height:C}=x;if(m||n(),!N||!C)return;const _=vd(y),j=vd(o.clientWidth-(v+N)),b=vd(o.clientHeight-(y+C)),A=vd(v),S={rootMargin:-_+"px "+-j+"px "+-b+"px "+-A+"px",threshold:nn(0,hr(1,g))||1};let q=!0;function R(k){const $=k[0].intersectionRatio;if($!==g){if(!q)return u();$?u(!1,$):l=setTimeout(()=>{u(!1,1e-7)},1e3)}$===1&&!uw(x,e.getBoundingClientRect())&&u(),q=!1}try{r=new IntersectionObserver(R,{...S,root:o.ownerDocument})}catch{r=new IntersectionObserver(R,S)}r.observe(e)}return u(!0),d}function A3(e,n,r,l){l===void 0&&(l={});const{ancestorScroll:o=!0,ancestorResize:d=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:m=typeof IntersectionObserver=="function",animationFrame:g=!1}=l,x=ax(e),v=o||d?[...x?Lo(x):[],...Lo(n)]:[];v.forEach(A=>{o&&A.addEventListener("scroll",r,{passive:!0}),d&&A.addEventListener("resize",r)});const y=x&&m?C3(x,r):null;let N=-1,C=null;u&&(C=new ResizeObserver(A=>{let[D]=A;D&&D.target===x&&C&&(C.unobserve(n),cancelAnimationFrame(N),N=requestAnimationFrame(()=>{var S;(S=C)==null||S.observe(n)})),r()}),x&&!g&&C.observe(x),C.observe(n));let _,j=g?Gr(e):null;g&&b();function b(){const A=Gr(e);j&&!uw(j,A)&&r(),j=A,_=requestAnimationFrame(b)}return r(),()=>{var A;v.forEach(D=>{o&&D.removeEventListener("scroll",r),d&&D.removeEventListener("resize",r)}),y?.(),(A=C)==null||A.disconnect(),C=null,g&&cancelAnimationFrame(_)}}const E3=Jk,T3=e3,D3=Kk,k3=s3,M3=Qk,qj=Xk,O3=t3,z3=(e,n,r)=>{const l=new Map,o={platform:R3,...r},d={...o.platform,_c:l};return Yk(e,n,{...o,platform:d})};var P3=typeof document<"u",L3=function(){},zd=P3?p.useLayoutEffect:L3;function Zd(e,n){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(typeof e=="function"&&e.toString()===n.toString())return!0;let r,l,o;if(e&&n&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==n.length)return!1;for(l=r;l--!==0;)if(!Zd(e[l],n[l]))return!1;return!0}if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(l=r;l--!==0;)if(!{}.hasOwnProperty.call(n,o[l]))return!1;for(l=r;l--!==0;){const d=o[l];if(!(d==="_owner"&&e.$$typeof)&&!Zd(e[d],n[d]))return!1}return!0}return e!==e&&n!==n}function fw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Uj(e,n){const r=fw(e);return Math.round(n*r)/r}function Rh(e){const n=p.useRef(e);return zd(()=>{n.current=e}),n}function q3(e){e===void 0&&(e={});const{placement:n="bottom",strategy:r="absolute",middleware:l=[],platform:o,elements:{reference:d,floating:u}={},transform:m=!0,whileElementsMounted:g,open:x}=e,[v,y]=p.useState({x:0,y:0,strategy:r,placement:n,middlewareData:{},isPositioned:!1}),[N,C]=p.useState(l);Zd(N,l)||C(l);const[_,j]=p.useState(null),[b,A]=p.useState(null),D=p.useCallback(H=>{H!==k.current&&(k.current=H,j(H))},[]),S=p.useCallback(H=>{H!==$.current&&($.current=H,A(H))},[]),q=d||_,R=u||b,k=p.useRef(null),$=p.useRef(null),M=p.useRef(v),Q=g!=null,Z=Rh(g),z=Rh(o),O=Rh(x),Y=p.useCallback(()=>{if(!k.current||!$.current)return;const H={placement:n,strategy:r,middleware:N};z.current&&(H.platform=z.current),z3(k.current,$.current,H).then(ie=>{const U={...ie,isPositioned:O.current!==!1};B.current&&!Zd(M.current,U)&&(M.current=U,Bo.flushSync(()=>{y(U)}))})},[N,n,r,z,O]);zd(()=>{x===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,y(H=>({...H,isPositioned:!1})))},[x]);const B=p.useRef(!1);zd(()=>(B.current=!0,()=>{B.current=!1}),[]),zd(()=>{if(q&&(k.current=q),R&&($.current=R),q&&R){if(Z.current)return Z.current(q,R,Y);Y()}},[q,R,Y,Z,Q]);const P=p.useMemo(()=>({reference:k,floating:$,setReference:D,setFloating:S}),[D,S]),L=p.useMemo(()=>({reference:q,floating:R}),[q,R]),X=p.useMemo(()=>{const H={position:r,left:0,top:0};if(!L.floating)return H;const ie=Uj(L.floating,v.x),U=Uj(L.floating,v.y);return m?{...H,transform:"translate("+ie+"px, "+U+"px)",...fw(L.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ie,top:U}},[r,m,L.floating,v.x,v.y]);return p.useMemo(()=>({...v,update:Y,refs:P,elements:L,floatingStyles:X}),[v,Y,P,L,X])}const U3=e=>{function n(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:l,padding:o}=typeof e=="function"?e(r):e;return l&&n(l)?l.current!=null?qj({element:l.current,padding:o}).fn(r):{}:l?qj({element:l,padding:o}).fn(r):{}}}},F3=(e,n)=>({...E3(e),options:[e,n]}),$3=(e,n)=>({...T3(e),options:[e,n]}),V3=(e,n)=>({...O3(e),options:[e,n]}),I3=(e,n)=>({...D3(e),options:[e,n]}),B3=(e,n)=>({...k3(e),options:[e,n]}),H3=(e,n)=>({...M3(e),options:[e,n]}),Z3=(e,n)=>({...U3(e),options:[e,n]});var G3="Arrow",mw=p.forwardRef((e,n)=>{const{children:r,width:l=10,height:o=5,...d}=e;return t.jsx(Qe.svg,{...d,ref:n,width:l,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:t.jsx("polygon",{points:"0,0 30,0 15,10"})})});mw.displayName=G3;var Y3=mw;function hw(e){const[n,r]=p.useState(void 0);return ps(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const l=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const d=o[0];let u,m;if("borderBoxSize"in d){const g=d.borderBoxSize,x=Array.isArray(g)?g[0]:g;u=x.inlineSize,m=x.blockSize}else u=e.offsetWidth,m=e.offsetHeight;r({width:u,height:m})});return l.observe(e,{box:"border-box"}),()=>l.unobserve(e)}else r(void 0)},[e]),n}var rx="Popper",[pw,wu]=Sn(rx),[X3,xw]=pw(rx),gw=e=>{const{__scopePopper:n,children:r}=e,[l,o]=p.useState(null);return t.jsx(X3,{scope:n,anchor:l,onAnchorChange:o,children:r})};gw.displayName=rx;var vw="PopperAnchor",yw=p.forwardRef((e,n)=>{const{__scopePopper:r,virtualRef:l,...o}=e,d=xw(vw,r),u=p.useRef(null),m=yt(n,u),g=p.useRef(null);return p.useEffect(()=>{const x=g.current;g.current=l?.current||u.current,x!==g.current&&d.onAnchorChange(g.current)}),l?null:t.jsx(Qe.div,{...o,ref:m})});yw.displayName=vw;var lx="PopperContent",[K3,Q3]=pw(lx),jw=p.forwardRef((e,n)=>{const{__scopePopper:r,side:l="bottom",sideOffset:o=0,align:d="center",alignOffset:u=0,arrowPadding:m=0,avoidCollisions:g=!0,collisionBoundary:x=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:N=!1,updatePositionStrategy:C="optimized",onPlaced:_,...j}=e,b=xw(lx,r),[A,D]=p.useState(null),S=yt(n,me=>D(me)),[q,R]=p.useState(null),k=hw(q),$=k?.width??0,M=k?.height??0,Q=l+(d!=="center"?"-"+d:""),Z=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},z=Array.isArray(x)?x:[x],O=z.length>0,Y={padding:Z,boundary:z.filter(J3),altBoundary:O},{refs:B,floatingStyles:P,placement:L,isPositioned:X,middlewareData:H}=q3({strategy:"fixed",placement:Q,whileElementsMounted:(...me)=>A3(...me,{animationFrame:C==="always"}),elements:{reference:b.anchor},middleware:[F3({mainAxis:o+M,alignmentAxis:u}),g&&$3({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?V3():void 0,...Y}),g&&I3({...Y}),B3({...Y,apply:({elements:me,rects:Ne,availableWidth:ve,availableHeight:he})=>{const{width:ce,height:Te}=Ne.reference,bt=me.floating.style;bt.setProperty("--radix-popper-available-width",`${ve}px`),bt.setProperty("--radix-popper-available-height",`${he}px`),bt.setProperty("--radix-popper-anchor-width",`${ce}px`),bt.setProperty("--radix-popper-anchor-height",`${Te}px`)}}),q&&Z3({element:q,padding:m}),eM({arrowWidth:$,arrowHeight:M}),N&&H3({strategy:"referenceHidden",...Y})]}),[ie,U]=ww(L),le=zn(_);ps(()=>{X&&le?.()},[X,le]);const K=H.arrow?.x,F=H.arrow?.y,T=H.arrow?.centerOffset!==0,[re,ne]=p.useState();return ps(()=>{A&&ne(window.getComputedStyle(A).zIndex)},[A]),t.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...P,transform:X?P.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:re,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:t.jsx(K3,{scope:r,placedSide:ie,onArrowChange:R,arrowX:K,arrowY:F,shouldHideArrow:T,children:t.jsx(Qe.div,{"data-side":ie,"data-align":U,...j,ref:S,style:{...j.style,animation:X?void 0:"none"}})})})});jw.displayName=lx;var bw="PopperArrow",W3={top:"bottom",right:"left",bottom:"top",left:"right"},Nw=p.forwardRef(function(n,r){const{__scopePopper:l,...o}=n,d=Q3(bw,l),u=W3[d.placedSide];return t.jsx("span",{ref:d.onArrowChange,style:{position:"absolute",left:d.arrowX,top:d.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[d.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[d.placedSide],visibility:d.shouldHideArrow?"hidden":void 0},children:t.jsx(Y3,{...o,ref:r,style:{...o.style,display:"block"}})})});Nw.displayName=bw;function J3(e){return e!==null}var eM=e=>({name:"transformOrigin",options:e,fn(n){const{placement:r,rects:l,middlewareData:o}=n,u=o.arrow?.centerOffset!==0,m=u?0:e.arrowWidth,g=u?0:e.arrowHeight,[x,v]=ww(r),y={start:"0%",center:"50%",end:"100%"}[v],N=(o.arrow?.x??0)+m/2,C=(o.arrow?.y??0)+g/2;let _="",j="";return x==="bottom"?(_=u?y:`${N}px`,j=`${-g}px`):x==="top"?(_=u?y:`${N}px`,j=`${l.floating.height+g}px`):x==="right"?(_=`${-g}px`,j=u?y:`${C}px`):x==="left"&&(_=`${l.floating.width+g}px`,j=u?y:`${C}px`),{data:{x:_,y:j}}}});function ww(e){const[n,r="center"]=e.split("-");return[n,r]}var _w=gw,Sw=yw,Rw=jw,Cw=Nw,tM="Portal",_u=p.forwardRef((e,n)=>{const{container:r,...l}=e,[o,d]=p.useState(!1);ps(()=>d(!0),[]);const u=r||o&&globalThis?.document?.body;return u?aA.createPortal(t.jsx(Qe.div,{...l,ref:n}),u):null});_u.displayName=tM;function sM(e,n){return p.useReducer((r,l)=>n[r][l]??r,e)}var la=e=>{const{present:n,children:r}=e,l=nM(n),o=typeof r=="function"?r({present:l.isPresent}):p.Children.only(r),d=yt(l.ref,aM(o));return typeof r=="function"||l.isPresent?p.cloneElement(o,{ref:d}):null};la.displayName="Presence";function nM(e){const[n,r]=p.useState(),l=p.useRef(null),o=p.useRef(e),d=p.useRef("none"),u=e?"mounted":"unmounted",[m,g]=sM(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const x=yd(l.current);d.current=m==="mounted"?x:"none"},[m]),ps(()=>{const x=l.current,v=o.current;if(v!==e){const N=d.current,C=yd(x);e?g("MOUNT"):C==="none"||x?.display==="none"?g("UNMOUNT"):g(v&&N!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,g]),ps(()=>{if(n){let x;const v=n.ownerDocument.defaultView??window,y=C=>{const j=yd(l.current).includes(CSS.escape(C.animationName));if(C.target===n&&j&&(g("ANIMATION_END"),!o.current)){const b=n.style.animationFillMode;n.style.animationFillMode="forwards",x=v.setTimeout(()=>{n.style.animationFillMode==="forwards"&&(n.style.animationFillMode=b)})}},N=C=>{C.target===n&&(d.current=yd(l.current))};return n.addEventListener("animationstart",N),n.addEventListener("animationcancel",y),n.addEventListener("animationend",y),()=>{v.clearTimeout(x),n.removeEventListener("animationstart",N),n.removeEventListener("animationcancel",y),n.removeEventListener("animationend",y)}}else g("ANIMATION_END")},[n,g]),{isPresent:["mounted","unmountSuspended"].includes(m),ref:p.useCallback(x=>{l.current=x?getComputedStyle(x):null,r(x)},[])}}function yd(e){return e?.animationName||"none"}function aM(e){let n=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning;return r?e.ref:(n=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=n&&"isReactWarning"in n&&n.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ch="rovingFocusGroup.onEntryFocus",rM={bubbles:!1,cancelable:!0},Qo="RovingFocusGroup",[cp,Aw,lM]=Qp(Qo),[iM,Su]=Sn(Qo,[lM]),[oM,cM]=iM(Qo),Ew=p.forwardRef((e,n)=>t.jsx(cp.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(cp.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(dM,{...e,ref:n})})}));Ew.displayName=Qo;var dM=p.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,orientation:l,loop:o=!1,dir:d,currentTabStopId:u,defaultCurrentTabStopId:m,onCurrentTabStopIdChange:g,onEntryFocus:x,preventScrollOnEntryFocus:v=!1,...y}=e,N=p.useRef(null),C=yt(n,N),_=xu(d),[j,b]=Zr({prop:u,defaultProp:m??null,onChange:g,caller:Qo}),[A,D]=p.useState(!1),S=zn(x),q=Aw(r),R=p.useRef(!1),[k,$]=p.useState(0);return p.useEffect(()=>{const M=N.current;if(M)return M.addEventListener(Ch,S),()=>M.removeEventListener(Ch,S)},[S]),t.jsx(oM,{scope:r,orientation:l,dir:_,loop:o,currentTabStopId:j,onItemFocus:p.useCallback(M=>b(M),[b]),onItemShiftTab:p.useCallback(()=>D(!0),[]),onFocusableItemAdd:p.useCallback(()=>$(M=>M+1),[]),onFocusableItemRemove:p.useCallback(()=>$(M=>M-1),[]),children:t.jsx(Qe.div,{tabIndex:A||k===0?-1:0,"data-orientation":l,...y,ref:C,style:{outline:"none",...e.style},onMouseDown:Fe(e.onMouseDown,()=>{R.current=!0}),onFocus:Fe(e.onFocus,M=>{const Q=!R.current;if(M.target===M.currentTarget&&Q&&!A){const Z=new CustomEvent(Ch,rM);if(M.currentTarget.dispatchEvent(Z),!Z.defaultPrevented){const z=q().filter(L=>L.focusable),O=z.find(L=>L.active),Y=z.find(L=>L.id===j),P=[O,Y,...z].filter(Boolean).map(L=>L.ref.current);kw(P,v)}}R.current=!1}),onBlur:Fe(e.onBlur,()=>D(!1))})})}),Tw="RovingFocusGroupItem",Dw=p.forwardRef((e,n)=>{const{__scopeRovingFocusGroup:r,focusable:l=!0,active:o=!1,tabStopId:d,children:u,...m}=e,g=Jn(),x=d||g,v=cM(Tw,r),y=v.currentTabStopId===x,N=Aw(r),{onFocusableItemAdd:C,onFocusableItemRemove:_,currentTabStopId:j}=v;return p.useEffect(()=>{if(l)return C(),()=>_()},[l,C,_]),t.jsx(cp.ItemSlot,{scope:r,id:x,focusable:l,active:o,children:t.jsx(Qe.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...m,ref:n,onMouseDown:Fe(e.onMouseDown,b=>{l?v.onItemFocus(x):b.preventDefault()}),onFocus:Fe(e.onFocus,()=>v.onItemFocus(x)),onKeyDown:Fe(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){v.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const A=mM(b,v.orientation,v.dir);if(A!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let S=N().filter(q=>q.focusable).map(q=>q.ref.current);if(A==="last")S.reverse();else if(A==="prev"||A==="next"){A==="prev"&&S.reverse();const q=S.indexOf(b.currentTarget);S=v.loop?hM(S,q+1):S.slice(q+1)}setTimeout(()=>kw(S))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:j!=null}):u})})});Dw.displayName=Tw;var uM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fM(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function mM(e,n,r){const l=fM(e.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(l))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(l)))return uM[l]}function kw(e,n=!1){const r=document.activeElement;for(const l of e)if(l===r||(l.focus({preventScroll:n}),document.activeElement!==r))return}function hM(e,n){return e.map((r,l)=>e[(n+l)%e.length])}var Mw=Ew,Ow=Dw,pM=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},Zl=new WeakMap,jd=new WeakMap,bd={},Ah=0,zw=function(e){return e&&(e.host||zw(e.parentNode))},xM=function(e,n){return n.map(function(r){if(e.contains(r))return r;var l=zw(r);return l&&e.contains(l)?l:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},gM=function(e,n,r,l){var o=xM(n,Array.isArray(e)?e:[e]);bd[r]||(bd[r]=new WeakMap);var d=bd[r],u=[],m=new Set,g=new Set(o),x=function(y){!y||m.has(y)||(m.add(y),x(y.parentNode))};o.forEach(x);var v=function(y){!y||g.has(y)||Array.prototype.forEach.call(y.children,function(N){if(m.has(N))v(N);else try{var C=N.getAttribute(l),_=C!==null&&C!=="false",j=(Zl.get(N)||0)+1,b=(d.get(N)||0)+1;Zl.set(N,j),d.set(N,b),u.push(N),j===1&&_&&jd.set(N,!0),b===1&&N.setAttribute(r,"true"),_||N.setAttribute(l,"true")}catch(A){console.error("aria-hidden: cannot operate on ",N,A)}})};return v(n),m.clear(),Ah++,function(){u.forEach(function(y){var N=Zl.get(y)-1,C=d.get(y)-1;Zl.set(y,N),d.set(y,C),N||(jd.has(y)||y.removeAttribute(l),jd.delete(y)),C||y.removeAttribute(r)}),Ah--,Ah||(Zl=new WeakMap,Zl=new WeakMap,jd=new WeakMap,bd={})}},ix=function(e,n,r){r===void 0&&(r="data-aria-hidden");var l=Array.from(Array.isArray(e)?e:[e]),o=pM(e);return o?(l.push.apply(l,Array.from(o.querySelectorAll("[aria-live], script"))),gM(l,o,r,"aria-hidden")):function(){return null}},Kn=function(){return Kn=Object.assign||function(n){for(var r,l=1,o=arguments.length;l<o;l++){r=arguments[l];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},Kn.apply(this,arguments)};function Pw(e,n){var r={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&n.indexOf(l)<0&&(r[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(e);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(e,l[o])&&(r[l[o]]=e[l[o]]);return r}function vM(e,n,r){if(r||arguments.length===2)for(var l=0,o=n.length,d;l<o;l++)(d||!(l in n))&&(d||(d=Array.prototype.slice.call(n,0,l)),d[l]=n[l]);return e.concat(d||Array.prototype.slice.call(n))}var Pd="right-scroll-bar-position",Ld="width-before-scroll-bar",yM="with-scroll-bars-hidden",jM="--removed-body-scroll-bar-size";function Eh(e,n){return typeof e=="function"?e(n):e&&(e.current=n),e}function bM(e,n){var r=p.useState(function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(l){var o=r.value;o!==l&&(r.value=l,r.callback(l,o))}}}})[0];return r.callback=n,r.facade}var NM=typeof window<"u"?p.useLayoutEffect:p.useEffect,Fj=new WeakMap;function wM(e,n){var r=bM(null,function(l){return e.forEach(function(o){return Eh(o,l)})});return NM(function(){var l=Fj.get(r);if(l){var o=new Set(l),d=new Set(e),u=r.current;o.forEach(function(m){d.has(m)||Eh(m,null)}),d.forEach(function(m){o.has(m)||Eh(m,u)})}Fj.set(r,e)},[e]),r}function _M(e){return e}function SM(e,n){n===void 0&&(n=_M);var r=[],l=!1,o={read:function(){if(l)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(d){var u=n(d,l);return r.push(u),function(){r=r.filter(function(m){return m!==u})}},assignSyncMedium:function(d){for(l=!0;r.length;){var u=r;r=[],u.forEach(d)}r={push:function(m){return d(m)},filter:function(){return r}}},assignMedium:function(d){l=!0;var u=[];if(r.length){var m=r;r=[],m.forEach(d),u=r}var g=function(){var v=u;u=[],v.forEach(d)},x=function(){return Promise.resolve().then(g)};x(),r={push:function(v){u.push(v),x()},filter:function(v){return u=u.filter(v),r}}}};return o}function RM(e){e===void 0&&(e={});var n=SM(null);return n.options=Kn({async:!0,ssr:!1},e),n}var Lw=function(e){var n=e.sideCar,r=Pw(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var l=n.read();if(!l)throw new Error("Sidecar medium not found");return p.createElement(l,Kn({},r))};Lw.isSideCarExport=!0;function CM(e,n){return e.useMedium(n),Lw}var qw=RM(),Th=function(){},Ru=p.forwardRef(function(e,n){var r=p.useRef(null),l=p.useState({onScrollCapture:Th,onWheelCapture:Th,onTouchMoveCapture:Th}),o=l[0],d=l[1],u=e.forwardProps,m=e.children,g=e.className,x=e.removeScrollBar,v=e.enabled,y=e.shards,N=e.sideCar,C=e.noRelative,_=e.noIsolation,j=e.inert,b=e.allowPinchZoom,A=e.as,D=A===void 0?"div":A,S=e.gapMode,q=Pw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=N,k=wM([r,n]),$=Kn(Kn({},q),o);return p.createElement(p.Fragment,null,v&&p.createElement(R,{sideCar:qw,removeScrollBar:x,shards:y,noRelative:C,noIsolation:_,inert:j,setCallbacks:d,allowPinchZoom:!!b,lockRef:r,gapMode:S}),u?p.cloneElement(p.Children.only(m),Kn(Kn({},$),{ref:k})):p.createElement(D,Kn({},$,{className:g,ref:k}),m))});Ru.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ru.classNames={fullWidth:Ld,zeroRight:Pd};var AM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function EM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var n=AM();return n&&e.setAttribute("nonce",n),e}function TM(e,n){e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n))}function DM(e){var n=document.head||document.getElementsByTagName("head")[0];n.appendChild(e)}var kM=function(){var e=0,n=null;return{add:function(r){e==0&&(n=EM())&&(TM(n,r),DM(n)),e++},remove:function(){e--,!e&&n&&(n.parentNode&&n.parentNode.removeChild(n),n=null)}}},MM=function(){var e=kM();return function(n,r){p.useEffect(function(){return e.add(n),function(){e.remove()}},[n&&r])}},Uw=function(){var e=MM(),n=function(r){var l=r.styles,o=r.dynamic;return e(l,o),null};return n},OM={left:0,top:0,right:0,gap:0},Dh=function(e){return parseInt(e||"",10)||0},zM=function(e){var n=window.getComputedStyle(document.body),r=n[e==="padding"?"paddingLeft":"marginLeft"],l=n[e==="padding"?"paddingTop":"marginTop"],o=n[e==="padding"?"paddingRight":"marginRight"];return[Dh(r),Dh(l),Dh(o)]},PM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return OM;var n=zM(e),r=document.documentElement.clientWidth,l=window.innerWidth;return{left:n[0],top:n[1],right:n[2],gap:Math.max(0,l-r+n[2]-n[0])}},LM=Uw(),si="data-scroll-locked",qM=function(e,n,r,l){var o=e.left,d=e.top,u=e.right,m=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(yM,` {
   overflow: hidden `).concat(l,`;
   padding-right: `).concat(m,"px ").concat(l,`;
  }
  body[`).concat(si,`] {
    overflow: hidden `).concat(l,`;
    overscroll-behavior: contain;
    `).concat([n&&"position: relative ".concat(l,";"),r==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(d,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(m,"px ").concat(l,`;
    `),r==="padding"&&"padding-right: ".concat(m,"px ").concat(l,";")].filter(Boolean).join(""),`
  }

  .`).concat(Pd,` {
    right: `).concat(m,"px ").concat(l,`;
  }

  .`).concat(Ld,` {
    margin-right: `).concat(m,"px ").concat(l,`;
  }

  .`).concat(Pd," .").concat(Pd,` {
    right: 0 `).concat(l,`;
  }

  .`).concat(Ld," .").concat(Ld,` {
    margin-right: 0 `).concat(l,`;
  }

  body[`).concat(si,`] {
    `).concat(jM,": ").concat(m,`px;
  }
`)},$j=function(){var e=parseInt(document.body.getAttribute(si)||"0",10);return isFinite(e)?e:0},UM=function(){p.useEffect(function(){return document.body.setAttribute(si,($j()+1).toString()),function(){var e=$j()-1;e<=0?document.body.removeAttribute(si):document.body.setAttribute(si,e.toString())}},[])},FM=function(e){var n=e.noRelative,r=e.noImportant,l=e.gapMode,o=l===void 0?"margin":l;UM();var d=p.useMemo(function(){return PM(o)},[o]);return p.createElement(LM,{styles:qM(d,!n,o,r?"":"!important")})},dp=!1;if(typeof window<"u")try{var Nd=Object.defineProperty({},"passive",{get:function(){return dp=!0,!0}});window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{dp=!1}var Gl=dp?{passive:!1}:!1,$M=function(e){return e.tagName==="TEXTAREA"},Fw=function(e,n){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[n]!=="hidden"&&!(r.overflowY===r.overflowX&&!$M(e)&&r[n]==="visible")},VM=function(e){return Fw(e,"overflowY")},IM=function(e){return Fw(e,"overflowX")},Vj=function(e,n){var r=n.ownerDocument,l=n;do{typeof ShadowRoot<"u"&&l instanceof ShadowRoot&&(l=l.host);var o=$w(e,l);if(o){var d=Vw(e,l),u=d[1],m=d[2];if(u>m)return!0}l=l.parentNode}while(l&&l!==r.body);return!1},BM=function(e){var n=e.scrollTop,r=e.scrollHeight,l=e.clientHeight;return[n,r,l]},HM=function(e){var n=e.scrollLeft,r=e.scrollWidth,l=e.clientWidth;return[n,r,l]},$w=function(e,n){return e==="v"?VM(n):IM(n)},Vw=function(e,n){return e==="v"?BM(n):HM(n)},ZM=function(e,n){return e==="h"&&n==="rtl"?-1:1},GM=function(e,n,r,l,o){var d=ZM(e,window.getComputedStyle(n).direction),u=d*l,m=r.target,g=n.contains(m),x=!1,v=u>0,y=0,N=0;do{if(!m)break;var C=Vw(e,m),_=C[0],j=C[1],b=C[2],A=j-b-d*_;(_||A)&&$w(e,m)&&(y+=A,N+=_);var D=m.parentNode;m=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!g&&m!==document.body||g&&(n.contains(m)||n===m));return(v&&Math.abs(y)<1||!v&&Math.abs(N)<1)&&(x=!0),x},wd=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ij=function(e){return[e.deltaX,e.deltaY]},Bj=function(e){return e&&"current"in e?e.current:e},YM=function(e,n){return e[0]===n[0]&&e[1]===n[1]},XM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},KM=0,Yl=[];function QM(e){var n=p.useRef([]),r=p.useRef([0,0]),l=p.useRef(),o=p.useState(KM++)[0],d=p.useState(Uw)[0],u=p.useRef(e);p.useEffect(function(){u.current=e},[e]),p.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var j=vM([e.lockRef.current],(e.shards||[]).map(Bj),!0).filter(Boolean);return j.forEach(function(b){return b.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),j.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var m=p.useCallback(function(j,b){if("touches"in j&&j.touches.length===2||j.type==="wheel"&&j.ctrlKey)return!u.current.allowPinchZoom;var A=wd(j),D=r.current,S="deltaX"in j?j.deltaX:D[0]-A[0],q="deltaY"in j?j.deltaY:D[1]-A[1],R,k=j.target,$=Math.abs(S)>Math.abs(q)?"h":"v";if("touches"in j&&$==="h"&&k.type==="range")return!1;var M=Vj($,k);if(!M)return!0;if(M?R=$:(R=$==="v"?"h":"v",M=Vj($,k)),!M)return!1;if(!l.current&&"changedTouches"in j&&(S||q)&&(l.current=R),!R)return!0;var Q=l.current||R;return GM(Q,b,j,Q==="h"?S:q)},[]),g=p.useCallback(function(j){var b=j;if(!(!Yl.length||Yl[Yl.length-1]!==d)){var A="deltaY"in b?Ij(b):wd(b),D=n.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&YM(R.delta,A)})[0];if(D&&D.should){b.cancelable&&b.preventDefault();return}if(!D){var S=(u.current.shards||[]).map(Bj).filter(Boolean).filter(function(R){return R.contains(b.target)}),q=S.length>0?m(b,S[0]):!u.current.noIsolation;q&&b.cancelable&&b.preventDefault()}}},[]),x=p.useCallback(function(j,b,A,D){var S={name:j,delta:b,target:A,should:D,shadowParent:WM(A)};n.current.push(S),setTimeout(function(){n.current=n.current.filter(function(q){return q!==S})},1)},[]),v=p.useCallback(function(j){r.current=wd(j),l.current=void 0},[]),y=p.useCallback(function(j){x(j.type,Ij(j),j.target,m(j,e.lockRef.current))},[]),N=p.useCallback(function(j){x(j.type,wd(j),j.target,m(j,e.lockRef.current))},[]);p.useEffect(function(){return Yl.push(d),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:N}),document.addEventListener("wheel",g,Gl),document.addEventListener("touchmove",g,Gl),document.addEventListener("touchstart",v,Gl),function(){Yl=Yl.filter(function(j){return j!==d}),document.removeEventListener("wheel",g,Gl),document.removeEventListener("touchmove",g,Gl),document.removeEventListener("touchstart",v,Gl)}},[]);var C=e.removeScrollBar,_=e.inert;return p.createElement(p.Fragment,null,_?p.createElement(d,{styles:XM(o)}):null,C?p.createElement(FM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function WM(e){for(var n=null;e!==null;)e instanceof ShadowRoot&&(n=e.host,e=e.host),e=e.parentNode;return n}const JM=CM(qw,QM);var Cu=p.forwardRef(function(e,n){return p.createElement(Ru,Kn({},e,{ref:n,sideCar:JM}))});Cu.classNames=Ru.classNames;var up=["Enter"," "],e6=["ArrowDown","PageUp","Home"],Iw=["ArrowUp","PageDown","End"],t6=[...e6,...Iw],s6={ltr:[...up,"ArrowRight"],rtl:[...up,"ArrowLeft"]},n6={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wo="Menu",[qo,a6,r6]=Qp(Wo),[el,Bw]=Sn(Wo,[r6,wu,Su]),Au=wu(),Hw=Su(),[l6,tl]=el(Wo),[i6,Jo]=el(Wo),Zw=e=>{const{__scopeMenu:n,open:r=!1,children:l,dir:o,onOpenChange:d,modal:u=!0}=e,m=Au(n),[g,x]=p.useState(null),v=p.useRef(!1),y=zn(d),N=xu(o);return p.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",_,{capture:!0,once:!0}),document.addEventListener("pointermove",_,{capture:!0,once:!0})},_=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",_,{capture:!0}),document.removeEventListener("pointermove",_,{capture:!0})}},[]),t.jsx(_w,{...m,children:t.jsx(l6,{scope:n,open:r,onOpenChange:y,content:g,onContentChange:x,children:t.jsx(i6,{scope:n,onClose:p.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:v,dir:N,modal:u,children:l})})})};Zw.displayName=Wo;var o6="MenuAnchor",ox=p.forwardRef((e,n)=>{const{__scopeMenu:r,...l}=e,o=Au(r);return t.jsx(Sw,{...o,...l,ref:n})});ox.displayName=o6;var cx="MenuPortal",[c6,Gw]=el(cx,{forceMount:void 0}),Yw=e=>{const{__scopeMenu:n,forceMount:r,children:l,container:o}=e,d=tl(cx,n);return t.jsx(c6,{scope:n,forceMount:r,children:t.jsx(la,{present:r||d.open,children:t.jsx(_u,{asChild:!0,container:o,children:l})})})};Yw.displayName=cx;var gn="MenuContent",[d6,dx]=el(gn),Xw=p.forwardRef((e,n)=>{const r=Gw(gn,e.__scopeMenu),{forceMount:l=r.forceMount,...o}=e,d=tl(gn,e.__scopeMenu),u=Jo(gn,e.__scopeMenu);return t.jsx(qo.Provider,{scope:e.__scopeMenu,children:t.jsx(la,{present:l||d.open,children:t.jsx(qo.Slot,{scope:e.__scopeMenu,children:u.modal?t.jsx(u6,{...o,ref:n}):t.jsx(f6,{...o,ref:n})})})})}),u6=p.forwardRef((e,n)=>{const r=tl(gn,e.__scopeMenu),l=p.useRef(null),o=yt(n,l);return p.useEffect(()=>{const d=l.current;if(d)return ix(d)},[]),t.jsx(ux,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Fe(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),f6=p.forwardRef((e,n)=>{const r=tl(gn,e.__scopeMenu);return t.jsx(ux,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),m6=Hr("MenuContent.ScrollLock"),ux=p.forwardRef((e,n)=>{const{__scopeMenu:r,loop:l=!1,trapFocus:o,onOpenAutoFocus:d,onCloseAutoFocus:u,disableOutsidePointerEvents:m,onEntryFocus:g,onEscapeKeyDown:x,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:N,onDismiss:C,disableOutsideScroll:_,...j}=e,b=tl(gn,r),A=Jo(gn,r),D=Au(r),S=Hw(r),q=a6(r),[R,k]=p.useState(null),$=p.useRef(null),M=yt(n,$,b.onContentChange),Q=p.useRef(0),Z=p.useRef(""),z=p.useRef(0),O=p.useRef(null),Y=p.useRef("right"),B=p.useRef(0),P=_?Cu:p.Fragment,L=_?{as:m6,allowPinchZoom:!0}:void 0,X=ie=>{const U=Z.current+ie,le=q().filter(me=>!me.disabled),K=document.activeElement,F=le.find(me=>me.ref.current===K)?.textValue,T=le.map(me=>me.textValue),re=S6(T,U,F),ne=le.find(me=>me.textValue===re)?.ref.current;(function me(Ne){Z.current=Ne,window.clearTimeout(Q.current),Ne!==""&&(Q.current=window.setTimeout(()=>me(""),1e3))})(U),ne&&setTimeout(()=>ne.focus())};p.useEffect(()=>()=>window.clearTimeout(Q.current),[]),Wp();const H=p.useCallback(ie=>Y.current===O.current?.side&&C6(ie,O.current?.area),[]);return t.jsx(d6,{scope:r,searchRef:Z,onItemEnter:p.useCallback(ie=>{H(ie)&&ie.preventDefault()},[H]),onItemLeave:p.useCallback(ie=>{H(ie)||($.current?.focus(),k(null))},[H]),onTriggerLeave:p.useCallback(ie=>{H(ie)&&ie.preventDefault()},[H]),pointerGraceTimerRef:z,onPointerGraceIntentChange:p.useCallback(ie=>{O.current=ie},[]),children:t.jsx(P,{...L,children:t.jsx(vu,{asChild:!0,trapped:o,onMountAutoFocus:Fe(d,ie=>{ie.preventDefault(),$.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:t.jsx(gu,{asChild:!0,disableOutsidePointerEvents:m,onEscapeKeyDown:x,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:N,onDismiss:C,children:t.jsx(Mw,{asChild:!0,...S,dir:A.dir,orientation:"vertical",loop:l,currentTabStopId:R,onCurrentTabStopIdChange:k,onEntryFocus:Fe(g,ie=>{A.isUsingKeyboardRef.current||ie.preventDefault()}),preventScrollOnEntryFocus:!0,children:t.jsx(Rw,{role:"menu","aria-orientation":"vertical","data-state":u_(b.open),"data-radix-menu-content":"",dir:A.dir,...D,...j,ref:M,style:{outline:"none",...j.style},onKeyDown:Fe(j.onKeyDown,ie=>{const le=ie.target.closest("[data-radix-menu-content]")===ie.currentTarget,K=ie.ctrlKey||ie.altKey||ie.metaKey,F=ie.key.length===1;le&&(ie.key==="Tab"&&ie.preventDefault(),!K&&F&&X(ie.key));const T=$.current;if(ie.target!==T||!t6.includes(ie.key))return;ie.preventDefault();const ne=q().filter(me=>!me.disabled).map(me=>me.ref.current);Iw.includes(ie.key)&&ne.reverse(),w6(ne)}),onBlur:Fe(e.onBlur,ie=>{ie.currentTarget.contains(ie.target)||(window.clearTimeout(Q.current),Z.current="")}),onPointerMove:Fe(e.onPointerMove,Uo(ie=>{const U=ie.target,le=B.current!==ie.clientX;if(ie.currentTarget.contains(U)&&le){const K=ie.clientX>B.current?"right":"left";Y.current=K,B.current=ie.clientX}}))})})})})})})});Xw.displayName=gn;var h6="MenuGroup",fx=p.forwardRef((e,n)=>{const{__scopeMenu:r,...l}=e;return t.jsx(Qe.div,{role:"group",...l,ref:n})});fx.displayName=h6;var p6="MenuLabel",Kw=p.forwardRef((e,n)=>{const{__scopeMenu:r,...l}=e;return t.jsx(Qe.div,{...l,ref:n})});Kw.displayName=p6;var Gd="MenuItem",Hj="menu.itemSelect",Eu=p.forwardRef((e,n)=>{const{disabled:r=!1,onSelect:l,...o}=e,d=p.useRef(null),u=Jo(Gd,e.__scopeMenu),m=dx(Gd,e.__scopeMenu),g=yt(n,d),x=p.useRef(!1),v=()=>{const y=d.current;if(!r&&y){const N=new CustomEvent(Hj,{bubbles:!0,cancelable:!0});y.addEventListener(Hj,C=>l?.(C),{once:!0}),GN(y,N),N.defaultPrevented?x.current=!1:u.onClose()}};return t.jsx(Qw,{...o,ref:g,disabled:r,onClick:Fe(e.onClick,v),onPointerDown:y=>{e.onPointerDown?.(y),x.current=!0},onPointerUp:Fe(e.onPointerUp,y=>{x.current||y.currentTarget?.click()}),onKeyDown:Fe(e.onKeyDown,y=>{const N=m.searchRef.current!=="";r||N&&y.key===" "||up.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Eu.displayName=Gd;var Qw=p.forwardRef((e,n)=>{const{__scopeMenu:r,disabled:l=!1,textValue:o,...d}=e,u=dx(Gd,r),m=Hw(r),g=p.useRef(null),x=yt(n,g),[v,y]=p.useState(!1),[N,C]=p.useState("");return p.useEffect(()=>{const _=g.current;_&&C((_.textContent??"").trim())},[d.children]),t.jsx(qo.ItemSlot,{scope:r,disabled:l,textValue:o??N,children:t.jsx(Ow,{asChild:!0,...m,focusable:!l,children:t.jsx(Qe.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":l||void 0,"data-disabled":l?"":void 0,...d,ref:x,onPointerMove:Fe(e.onPointerMove,Uo(_=>{l?u.onItemLeave(_):(u.onItemEnter(_),_.defaultPrevented||_.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Fe(e.onPointerLeave,Uo(_=>u.onItemLeave(_))),onFocus:Fe(e.onFocus,()=>y(!0)),onBlur:Fe(e.onBlur,()=>y(!1))})})})}),x6="MenuCheckboxItem",Ww=p.forwardRef((e,n)=>{const{checked:r=!1,onCheckedChange:l,...o}=e;return t.jsx(n_,{scope:e.__scopeMenu,checked:r,children:t.jsx(Eu,{role:"menuitemcheckbox","aria-checked":Yd(r)?"mixed":r,...o,ref:n,"data-state":hx(r),onSelect:Fe(o.onSelect,()=>l?.(Yd(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Ww.displayName=x6;var Jw="MenuRadioGroup",[g6,v6]=el(Jw,{value:void 0,onValueChange:()=>{}}),e_=p.forwardRef((e,n)=>{const{value:r,onValueChange:l,...o}=e,d=zn(l);return t.jsx(g6,{scope:e.__scopeMenu,value:r,onValueChange:d,children:t.jsx(fx,{...o,ref:n})})});e_.displayName=Jw;var t_="MenuRadioItem",s_=p.forwardRef((e,n)=>{const{value:r,...l}=e,o=v6(t_,e.__scopeMenu),d=r===o.value;return t.jsx(n_,{scope:e.__scopeMenu,checked:d,children:t.jsx(Eu,{role:"menuitemradio","aria-checked":d,...l,ref:n,"data-state":hx(d),onSelect:Fe(l.onSelect,()=>o.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});s_.displayName=t_;var mx="MenuItemIndicator",[n_,y6]=el(mx,{checked:!1}),a_=p.forwardRef((e,n)=>{const{__scopeMenu:r,forceMount:l,...o}=e,d=y6(mx,r);return t.jsx(la,{present:l||Yd(d.checked)||d.checked===!0,children:t.jsx(Qe.span,{...o,ref:n,"data-state":hx(d.checked)})})});a_.displayName=mx;var j6="MenuSeparator",r_=p.forwardRef((e,n)=>{const{__scopeMenu:r,...l}=e;return t.jsx(Qe.div,{role:"separator","aria-orientation":"horizontal",...l,ref:n})});r_.displayName=j6;var b6="MenuArrow",l_=p.forwardRef((e,n)=>{const{__scopeMenu:r,...l}=e,o=Au(r);return t.jsx(Cw,{...o,...l,ref:n})});l_.displayName=b6;var N6="MenuSub",[EU,i_]=el(N6),Eo="MenuSubTrigger",o_=p.forwardRef((e,n)=>{const r=tl(Eo,e.__scopeMenu),l=Jo(Eo,e.__scopeMenu),o=i_(Eo,e.__scopeMenu),d=dx(Eo,e.__scopeMenu),u=p.useRef(null),{pointerGraceTimerRef:m,onPointerGraceIntentChange:g}=d,x={__scopeMenu:e.__scopeMenu},v=p.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return p.useEffect(()=>v,[v]),p.useEffect(()=>{const y=m.current;return()=>{window.clearTimeout(y),g(null)}},[m,g]),t.jsx(ox,{asChild:!0,...x,children:t.jsx(Qw,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":o.contentId,"data-state":u_(r.open),...e,ref:pu(n,o.onTriggerChange),onClick:y=>{e.onClick?.(y),!(e.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Fe(e.onPointerMove,Uo(y=>{d.onItemEnter(y),!y.defaultPrevented&&!e.disabled&&!r.open&&!u.current&&(d.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{r.onOpenChange(!0),v()},100))})),onPointerLeave:Fe(e.onPointerLeave,Uo(y=>{v();const N=r.content?.getBoundingClientRect();if(N){const C=r.content?.dataset.side,_=C==="right",j=_?-5:5,b=N[_?"left":"right"],A=N[_?"right":"left"];d.onPointerGraceIntentChange({area:[{x:y.clientX+j,y:y.clientY},{x:b,y:N.top},{x:A,y:N.top},{x:A,y:N.bottom},{x:b,y:N.bottom}],side:C}),window.clearTimeout(m.current),m.current=window.setTimeout(()=>d.onPointerGraceIntentChange(null),300)}else{if(d.onTriggerLeave(y),y.defaultPrevented)return;d.onPointerGraceIntentChange(null)}})),onKeyDown:Fe(e.onKeyDown,y=>{const N=d.searchRef.current!=="";e.disabled||N&&y.key===" "||s6[l.dir].includes(y.key)&&(r.onOpenChange(!0),r.content?.focus(),y.preventDefault())})})})});o_.displayName=Eo;var c_="MenuSubContent",d_=p.forwardRef((e,n)=>{const r=Gw(gn,e.__scopeMenu),{forceMount:l=r.forceMount,...o}=e,d=tl(gn,e.__scopeMenu),u=Jo(gn,e.__scopeMenu),m=i_(c_,e.__scopeMenu),g=p.useRef(null),x=yt(n,g);return t.jsx(qo.Provider,{scope:e.__scopeMenu,children:t.jsx(la,{present:l||d.open,children:t.jsx(qo.Slot,{scope:e.__scopeMenu,children:t.jsx(ux,{id:m.contentId,"aria-labelledby":m.triggerId,...o,ref:x,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{u.isUsingKeyboardRef.current&&g.current?.focus(),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Fe(e.onFocusOutside,v=>{v.target!==m.trigger&&d.onOpenChange(!1)}),onEscapeKeyDown:Fe(e.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Fe(e.onKeyDown,v=>{const y=v.currentTarget.contains(v.target),N=n6[u.dir].includes(v.key);y&&N&&(d.onOpenChange(!1),m.trigger?.focus(),v.preventDefault())})})})})})});d_.displayName=c_;function u_(e){return e?"open":"closed"}function Yd(e){return e==="indeterminate"}function hx(e){return Yd(e)?"indeterminate":e?"checked":"unchecked"}function w6(e){const n=document.activeElement;for(const r of e)if(r===n||(r.focus(),document.activeElement!==n))return}function _6(e,n){return e.map((r,l)=>e[(n+l)%e.length])}function S6(e,n,r){const o=n.length>1&&Array.from(n).every(x=>x===n[0])?n[0]:n,d=r?e.indexOf(r):-1;let u=_6(e,Math.max(d,0));o.length===1&&(u=u.filter(x=>x!==r));const g=u.find(x=>x.toLowerCase().startsWith(o.toLowerCase()));return g!==r?g:void 0}function R6(e,n){const{x:r,y:l}=e;let o=!1;for(let d=0,u=n.length-1;d<n.length;u=d++){const m=n[d],g=n[u],x=m.x,v=m.y,y=g.x,N=g.y;v>l!=N>l&&r<(y-x)*(l-v)/(N-v)+x&&(o=!o)}return o}function C6(e,n){if(!n)return!1;const r={x:e.clientX,y:e.clientY};return R6(r,n)}function Uo(e){return n=>n.pointerType==="mouse"?e(n):void 0}var A6=Zw,E6=ox,T6=Yw,D6=Xw,k6=fx,M6=Kw,O6=Eu,z6=Ww,P6=e_,L6=s_,q6=a_,U6=r_,F6=l_,$6=o_,V6=d_,Tu="DropdownMenu",[I6,TU]=Sn(Tu,[Bw]),zs=Bw(),[B6,f_]=I6(Tu),m_=e=>{const{__scopeDropdownMenu:n,children:r,dir:l,open:o,defaultOpen:d,onOpenChange:u,modal:m=!0}=e,g=zs(n),x=p.useRef(null),[v,y]=Zr({prop:o,defaultProp:d??!1,onChange:u,caller:Tu});return t.jsx(B6,{scope:n,triggerId:Jn(),triggerRef:x,contentId:Jn(),open:v,onOpenChange:y,onOpenToggle:p.useCallback(()=>y(N=>!N),[y]),modal:m,children:t.jsx(A6,{...g,open:v,onOpenChange:y,dir:l,modal:m,children:r})})};m_.displayName=Tu;var h_="DropdownMenuTrigger",p_=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,disabled:l=!1,...o}=e,d=f_(h_,r),u=zs(r);return t.jsx(E6,{asChild:!0,...u,children:t.jsx(Qe.button,{type:"button",id:d.triggerId,"aria-haspopup":"menu","aria-expanded":d.open,"aria-controls":d.open?d.contentId:void 0,"data-state":d.open?"open":"closed","data-disabled":l?"":void 0,disabled:l,...o,ref:pu(n,d.triggerRef),onPointerDown:Fe(e.onPointerDown,m=>{!l&&m.button===0&&m.ctrlKey===!1&&(d.onOpenToggle(),d.open||m.preventDefault())}),onKeyDown:Fe(e.onKeyDown,m=>{l||(["Enter"," "].includes(m.key)&&d.onOpenToggle(),m.key==="ArrowDown"&&d.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(m.key)&&m.preventDefault())})})})});p_.displayName=h_;var H6="DropdownMenuPortal",x_=e=>{const{__scopeDropdownMenu:n,...r}=e,l=zs(n);return t.jsx(T6,{...l,...r})};x_.displayName=H6;var g_="DropdownMenuContent",v_=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=f_(g_,r),d=zs(r),u=p.useRef(!1);return t.jsx(D6,{id:o.contentId,"aria-labelledby":o.triggerId,...d,...l,ref:n,onCloseAutoFocus:Fe(e.onCloseAutoFocus,m=>{u.current||o.triggerRef.current?.focus(),u.current=!1,m.preventDefault()}),onInteractOutside:Fe(e.onInteractOutside,m=>{const g=m.detail.originalEvent,x=g.button===0&&g.ctrlKey===!0,v=g.button===2||x;(!o.modal||v)&&(u.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});v_.displayName=g_;var Z6="DropdownMenuGroup",G6=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(k6,{...o,...l,ref:n})});G6.displayName=Z6;var Y6="DropdownMenuLabel",y_=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(M6,{...o,...l,ref:n})});y_.displayName=Y6;var X6="DropdownMenuItem",j_=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(O6,{...o,...l,ref:n})});j_.displayName=X6;var K6="DropdownMenuCheckboxItem",Q6=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(z6,{...o,...l,ref:n})});Q6.displayName=K6;var W6="DropdownMenuRadioGroup",J6=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(P6,{...o,...l,ref:n})});J6.displayName=W6;var eO="DropdownMenuRadioItem",tO=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(L6,{...o,...l,ref:n})});tO.displayName=eO;var sO="DropdownMenuItemIndicator",nO=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(q6,{...o,...l,ref:n})});nO.displayName=sO;var aO="DropdownMenuSeparator",b_=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(U6,{...o,...l,ref:n})});b_.displayName=aO;var rO="DropdownMenuArrow",lO=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(F6,{...o,...l,ref:n})});lO.displayName=rO;var iO="DropdownMenuSubTrigger",oO=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx($6,{...o,...l,ref:n})});oO.displayName=iO;var cO="DropdownMenuSubContent",dO=p.forwardRef((e,n)=>{const{__scopeDropdownMenu:r,...l}=e,o=zs(r);return t.jsx(V6,{...o,...l,ref:n,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dO.displayName=cO;var uO=m_,fO=p_,mO=x_,hO=v_,pO=y_,xO=j_,gO=b_;function Du({...e}){return t.jsx(uO,{"data-slot":"dropdown-menu",...e})}function ku({...e}){return t.jsx(fO,{"data-slot":"dropdown-menu-trigger",...e})}function Mu({className:e,sideOffset:n=4,...r}){return t.jsx(mO,{children:t.jsx(hO,{"data-slot":"dropdown-menu-content",sideOffset:n,className:Ce("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function fs({className:e,inset:n,variant:r="default",...l}){return t.jsx(xO,{"data-slot":"dropdown-menu-item","data-inset":n,"data-variant":r,className:Ce("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...l})}function vO({className:e,inset:n,...r}){return t.jsx(pO,{"data-slot":"dropdown-menu-label","data-inset":n,className:Ce("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...r})}function Xd({className:e,...n}){return t.jsx(gO,{"data-slot":"dropdown-menu-separator",className:Ce("bg-border -mx-1 my-1 h-px",e),...n})}function sl(){const[e,n]=p.useState([]),r=p.useCallback(o=>{const d=Math.random().toString(36).substr(2,9),u={...o,id:d};n(m=>[...m,u]),setTimeout(()=>{l(d)},o.duration||5e3)},[]),l=p.useCallback(o=>{n(d=>d.filter(u=>u.id!==o))},[]);return{toasts:e,toast:r,dismiss:l}}var Ou="Dialog",[N_,w_]=Sn(Ou),[yO,Vn]=N_(Ou),__=e=>{const{__scopeDialog:n,children:r,open:l,defaultOpen:o,onOpenChange:d,modal:u=!0}=e,m=p.useRef(null),g=p.useRef(null),[x,v]=Zr({prop:l,defaultProp:o??!1,onChange:d,caller:Ou});return t.jsx(yO,{scope:n,triggerRef:m,contentRef:g,contentId:Jn(),titleId:Jn(),descriptionId:Jn(),open:x,onOpenChange:v,onOpenToggle:p.useCallback(()=>v(y=>!y),[v]),modal:u,children:r})};__.displayName=Ou;var S_="DialogTrigger",R_=p.forwardRef((e,n)=>{const{__scopeDialog:r,...l}=e,o=Vn(S_,r),d=yt(n,o.triggerRef);return t.jsx(Qe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":gx(o.open),...l,ref:d,onClick:Fe(e.onClick,o.onOpenToggle)})});R_.displayName=S_;var px="DialogPortal",[jO,C_]=N_(px,{forceMount:void 0}),A_=e=>{const{__scopeDialog:n,forceMount:r,children:l,container:o}=e,d=Vn(px,n);return t.jsx(jO,{scope:n,forceMount:r,children:p.Children.map(l,u=>t.jsx(la,{present:r||d.open,children:t.jsx(_u,{asChild:!0,container:o,children:u})}))})};A_.displayName=px;var Kd="DialogOverlay",E_=p.forwardRef((e,n)=>{const r=C_(Kd,e.__scopeDialog),{forceMount:l=r.forceMount,...o}=e,d=Vn(Kd,e.__scopeDialog);return d.modal?t.jsx(la,{present:l||d.open,children:t.jsx(NO,{...o,ref:n})}):null});E_.displayName=Kd;var bO=Hr("DialogOverlay.RemoveScroll"),NO=p.forwardRef((e,n)=>{const{__scopeDialog:r,...l}=e,o=Vn(Kd,r);return t.jsx(Cu,{as:bO,allowPinchZoom:!0,shards:[o.contentRef],children:t.jsx(Qe.div,{"data-state":gx(o.open),...l,ref:n,style:{pointerEvents:"auto",...l.style}})})}),Yr="DialogContent",T_=p.forwardRef((e,n)=>{const r=C_(Yr,e.__scopeDialog),{forceMount:l=r.forceMount,...o}=e,d=Vn(Yr,e.__scopeDialog);return t.jsx(la,{present:l||d.open,children:d.modal?t.jsx(wO,{...o,ref:n}):t.jsx(_O,{...o,ref:n})})});T_.displayName=Yr;var wO=p.forwardRef((e,n)=>{const r=Vn(Yr,e.__scopeDialog),l=p.useRef(null),o=yt(n,r.contentRef,l);return p.useEffect(()=>{const d=l.current;if(d)return ix(d)},[]),t.jsx(D_,{...e,ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Fe(e.onCloseAutoFocus,d=>{d.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Fe(e.onPointerDownOutside,d=>{const u=d.detail.originalEvent,m=u.button===0&&u.ctrlKey===!0;(u.button===2||m)&&d.preventDefault()}),onFocusOutside:Fe(e.onFocusOutside,d=>d.preventDefault())})}),_O=p.forwardRef((e,n)=>{const r=Vn(Yr,e.__scopeDialog),l=p.useRef(!1),o=p.useRef(!1);return t.jsx(D_,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:d=>{e.onCloseAutoFocus?.(d),d.defaultPrevented||(l.current||r.triggerRef.current?.focus(),d.preventDefault()),l.current=!1,o.current=!1},onInteractOutside:d=>{e.onInteractOutside?.(d),d.defaultPrevented||(l.current=!0,d.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=d.target;r.triggerRef.current?.contains(u)&&d.preventDefault(),d.detail.originalEvent.type==="focusin"&&o.current&&d.preventDefault()}})}),D_=p.forwardRef((e,n)=>{const{__scopeDialog:r,trapFocus:l,onOpenAutoFocus:o,onCloseAutoFocus:d,...u}=e,m=Vn(Yr,r),g=p.useRef(null),x=yt(n,g);return Wp(),t.jsxs(t.Fragment,{children:[t.jsx(vu,{asChild:!0,loop:!0,trapped:l,onMountAutoFocus:o,onUnmountAutoFocus:d,children:t.jsx(gu,{role:"dialog",id:m.contentId,"aria-describedby":m.descriptionId,"aria-labelledby":m.titleId,"data-state":gx(m.open),...u,ref:x,onDismiss:()=>m.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(RO,{titleId:m.titleId}),t.jsx(AO,{contentRef:g,descriptionId:m.descriptionId})]})]})}),xx="DialogTitle",k_=p.forwardRef((e,n)=>{const{__scopeDialog:r,...l}=e,o=Vn(xx,r);return t.jsx(Qe.h2,{id:o.titleId,...l,ref:n})});k_.displayName=xx;var M_="DialogDescription",O_=p.forwardRef((e,n)=>{const{__scopeDialog:r,...l}=e,o=Vn(M_,r);return t.jsx(Qe.p,{id:o.descriptionId,...l,ref:n})});O_.displayName=M_;var z_="DialogClose",P_=p.forwardRef((e,n)=>{const{__scopeDialog:r,...l}=e,o=Vn(z_,r);return t.jsx(Qe.button,{type:"button",...l,ref:n,onClick:Fe(e.onClick,()=>o.onOpenChange(!1))})});P_.displayName=z_;function gx(e){return e?"open":"closed"}var L_="DialogTitleWarning",[SO,q_]=sk(L_,{contentName:Yr,titleName:xx,docsSlug:"dialog"}),RO=({titleId:e})=>{const n=q_(L_),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return p.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},CO="DialogDescriptionWarning",AO=({contentRef:e,descriptionId:n})=>{const l=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${q_(CO).contentName}}.`;return p.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(l))},[l,e,n]),null},U_=__,EO=R_,F_=A_,vx=E_,yx=T_,jx=k_,bx=O_,Nx=P_;const qn=U_,TO=F_,$_=p.forwardRef(({className:e,...n},r)=>t.jsx(vx,{ref:r,className:Ce("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n}));$_.displayName=vx.displayName;const vn=p.forwardRef(({className:e,children:n,...r},l)=>t.jsxs(TO,{children:[t.jsx($_,{}),t.jsxs(yx,{ref:l,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[n,t.jsxs(Nx,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(Jr,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vn.displayName=yx.displayName;const yn=({className:e,...n})=>t.jsx("div",{className:Ce("flex flex-col space-y-1.5 text-center sm:text-left",e),...n});yn.displayName="DialogHeader";const jn=({className:e,...n})=>t.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});jn.displayName="DialogFooter";const bn=p.forwardRef(({className:e,...n},r)=>t.jsx(jx,{ref:r,className:Ce("text-lg font-semibold leading-none tracking-tight",e),...n}));bn.displayName=jx.displayName;const Nn=p.forwardRef(({className:e,...n},r)=>t.jsx(bx,{ref:r,className:Ce("text-sm text-muted-foreground",e),...n}));Nn.displayName=bx.displayName;function Ft({className:e,type:n,...r}){return t.jsx("input",{type:n,"data-slot":"input",className:Ce("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var DO="Label",V_=p.forwardRef((e,n)=>t.jsx(Qe.label,{...e,ref:n,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));V_.displayName=DO;var kO=V_;function It({className:e,...n}){return t.jsx(kO,{"data-slot":"label",className:Ce("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...n})}const MO=Yp("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function $s({className:e,variant:n,...r}){return t.jsx("div",{"data-slot":"alert",role:"alert",className:Ce(MO({variant:n}),e),...r})}function Vs({className:e,...n}){return t.jsx("div",{"data-slot":"alert-description",className:Ce("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...n})}function ye(e,n,r){function l(m,g){var x;Object.defineProperty(m,"_zod",{value:m._zod??{},enumerable:!1}),(x=m._zod).traits??(x.traits=new Set),m._zod.traits.add(e),n(m,g);for(const v in u.prototype)v in m||Object.defineProperty(m,v,{value:u.prototype[v].bind(m)});m._zod.constr=u,m._zod.def=g}const o=r?.Parent??Object;class d extends o{}Object.defineProperty(d,"name",{value:e});function u(m){var g;const x=r?.Parent?new d:this;l(x,m),(g=x._zod).deferred??(g.deferred=[]);for(const v of x._zod.deferred)v();return x}return Object.defineProperty(u,"init",{value:l}),Object.defineProperty(u,Symbol.hasInstance,{value:m=>r?.Parent&&m instanceof r.Parent?!0:m?._zod?.traits?.has(e)}),Object.defineProperty(u,"name",{value:e}),u}class Fo extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const I_={};function Xr(e){return I_}function OO(e){const n=Object.values(e).filter(l=>typeof l=="number");return Object.entries(e).filter(([l,o])=>n.indexOf(+l)===-1).map(([l,o])=>o)}function fp(e,n){return typeof n=="bigint"?n.toString():n}function B_(e){return{get value(){{const n=e();return Object.defineProperty(this,"value",{value:n}),n}}}}function wx(e){return e==null}function _x(e){const n=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(n,r)}function zO(e,n){const r=(e.toString().split(".")[1]||"").length,l=n.toString();let o=(l.split(".")[1]||"").length;if(o===0&&/\d?e-\d?/.test(l)){const g=l.match(/\d?e-(\d?)/);g?.[1]&&(o=Number.parseInt(g[1]))}const d=r>o?r:o,u=Number.parseInt(e.toFixed(d).replace(".","")),m=Number.parseInt(n.toFixed(d).replace(".",""));return u%m/10**d}const Zj=Symbol("evaluating");function Pt(e,n,r){let l;Object.defineProperty(e,n,{get(){if(l!==Zj)return l===void 0&&(l=Zj,l=r()),l},set(o){Object.defineProperty(e,n,{value:o})},configurable:!0})}function PO(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function nl(e,n,r){Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!0,configurable:!0})}function bi(...e){const n={};for(const r of e){const l=Object.getOwnPropertyDescriptors(r);Object.assign(n,l)}return Object.defineProperties({},n)}function Gj(e){return JSON.stringify(e)}const H_="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function mp(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const LO=B_(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Qd(e){if(mp(e)===!1)return!1;const n=e.constructor;if(n===void 0)return!0;const r=n.prototype;return!(mp(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Z_(e){return Qd(e)?{...e}:e}const qO=new Set(["string","number","symbol"]);function ci(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function al(e,n,r){const l=new e._zod.constr(n??e._zod.def);return(!n||r?.parent)&&(l._zod.parent=e),l}function He(e){const n=e;if(!n)return{};if(typeof n=="string")return{error:()=>n};if(n?.message!==void 0){if(n?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");n.error=n.message}return delete n.message,typeof n.error=="string"?{...n,error:()=>n.error}:n}function UO(e){return Object.keys(e).filter(n=>e[n]._zod.optin==="optional"&&e[n]._zod.optout==="optional")}const FO={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $O(e,n){const r=e._zod.def,l=bi(e._zod.def,{get shape(){const o={};for(const d in n){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(o[d]=r.shape[d])}return nl(this,"shape",o),o},checks:[]});return al(e,l)}function VO(e,n){const r=e._zod.def,l=bi(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const d in n){if(!(d in r.shape))throw new Error(`Unrecognized key: "${d}"`);n[d]&&delete o[d]}return nl(this,"shape",o),o},checks:[]});return al(e,l)}function IO(e,n){if(!Qd(n))throw new Error("Invalid input to extend: expected a plain object");const r=bi(e._zod.def,{get shape(){const l={...e._zod.def.shape,...n};return nl(this,"shape",l),l},checks:[]});return al(e,r)}function BO(e,n){const r=bi(e._zod.def,{get shape(){const l={...e._zod.def.shape,...n._zod.def.shape};return nl(this,"shape",l),l},get catchall(){return n._zod.def.catchall},checks:[]});return al(e,r)}function HO(e,n,r){const l=bi(n._zod.def,{get shape(){const o=n._zod.def.shape,d={...o};if(r)for(const u in r){if(!(u in o))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(d[u]=e?new e({type:"optional",innerType:o[u]}):o[u])}else for(const u in o)d[u]=e?new e({type:"optional",innerType:o[u]}):o[u];return nl(this,"shape",d),d},checks:[]});return al(n,l)}function ZO(e,n,r){const l=bi(n._zod.def,{get shape(){const o=n._zod.def.shape,d={...o};if(r)for(const u in r){if(!(u in d))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(d[u]=new e({type:"nonoptional",innerType:o[u]}))}else for(const u in o)d[u]=new e({type:"nonoptional",innerType:o[u]});return nl(this,"shape",d),d},checks:[]});return al(n,l)}function ko(e,n=0){for(let r=n;r<e.issues.length;r++)if(e.issues[r]?.continue!==!0)return!0;return!1}function G_(e,n){return n.map(r=>{var l;return(l=r).path??(l.path=[]),r.path.unshift(e),r})}function _d(e){return typeof e=="string"?e:e?.message}function Kr(e,n,r){const l={...e,path:e.path??[]};if(!e.message){const o=_d(e.inst?._zod.def?.error?.(e))??_d(n?.error?.(e))??_d(r.customError?.(e))??_d(r.localeError?.(e))??"Invalid input";l.message=o}return delete l.inst,delete l.continue,n?.reportInput||delete l.input,l}function Sx(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function $o(...e){const[n,r,l]=e;return typeof n=="string"?{message:n,code:"custom",input:r,inst:l}:{...n}}const Y_=(e,n)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:n,enumerable:!1}),e.message=JSON.stringify(n,fp,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Rx=ye("$ZodError",Y_),zu=ye("$ZodError",Y_,{Parent:Error});function GO(e,n=r=>r.message){const r={},l=[];for(const o of e.issues)o.path.length>0?(r[o.path[0]]=r[o.path[0]]||[],r[o.path[0]].push(n(o))):l.push(n(o));return{formErrors:l,fieldErrors:r}}function YO(e,n){const r=n||function(d){return d.message},l={_errors:[]},o=d=>{for(const u of d.issues)if(u.code==="invalid_union"&&u.errors.length)u.errors.map(m=>o({issues:m}));else if(u.code==="invalid_key")o({issues:u.issues});else if(u.code==="invalid_element")o({issues:u.issues});else if(u.path.length===0)l._errors.push(r(u));else{let m=l,g=0;for(;g<u.path.length;){const x=u.path[g];g===u.path.length-1?(m[x]=m[x]||{_errors:[]},m[x]._errors.push(r(u))):m[x]=m[x]||{_errors:[]},m=m[x],g++}}};return o(e),l}const X_=e=>(n,r,l,o)=>{const d=l?Object.assign(l,{async:!1}):{async:!1},u=n._zod.run({value:r,issues:[]},d);if(u instanceof Promise)throw new Fo;if(u.issues.length){const m=new(o?.Err??e)(u.issues.map(g=>Kr(g,d,Xr())));throw H_(m,o?.callee),m}return u.value},XO=X_(zu),K_=e=>async(n,r,l,o)=>{const d=l?Object.assign(l,{async:!0}):{async:!0};let u=n._zod.run({value:r,issues:[]},d);if(u instanceof Promise&&(u=await u),u.issues.length){const m=new(o?.Err??e)(u.issues.map(g=>Kr(g,d,Xr())));throw H_(m,o?.callee),m}return u.value},KO=K_(zu),Q_=e=>(n,r,l)=>{const o=l?{...l,async:!1}:{async:!1},d=n._zod.run({value:r,issues:[]},o);if(d instanceof Promise)throw new Fo;return d.issues.length?{success:!1,error:new(e??Rx)(d.issues.map(u=>Kr(u,o,Xr())))}:{success:!0,data:d.value}},QO=Q_(zu),W_=e=>async(n,r,l)=>{const o=l?Object.assign(l,{async:!0}):{async:!0};let d=n._zod.run({value:r,issues:[]},o);return d instanceof Promise&&(d=await d),d.issues.length?{success:!1,error:new e(d.issues.map(u=>Kr(u,o,Xr())))}:{success:!0,data:d.value}},WO=W_(zu),JO=/^[cC][^\s-]{8,}$/,e5=/^[0-9a-z]+$/,t5=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,s5=/^[0-9a-vA-V]{20}$/,n5=/^[A-Za-z0-9]{27}$/,a5=/^[a-zA-Z0-9_-]{21}$/,r5=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,l5=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Yj=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,i5=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,o5="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function c5(){return new RegExp(o5,"u")}const d5=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,u5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,f5=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,m5=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,h5=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,J_=/^[A-Za-z0-9_-]*$/,p5=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,x5=/^\+(?:[0-9]){6,14}[0-9]$/,e1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",g5=new RegExp(`^${e1}$`);function t1(e){const n="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${n}`:e.precision===0?`${n}:[0-5]\\d`:`${n}:[0-5]\\d\\.\\d{${e.precision}}`:`${n}(?::[0-5]\\d(?:\\.\\d+)?)?`}function v5(e){return new RegExp(`^${t1(e)}$`)}function y5(e){const n=t1({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const l=`${n}(?:${r.join("|")})`;return new RegExp(`^${e1}T(?:${l})$`)}const j5=e=>{const n=e?`[\\s\\S]{${e?.minimum??0},${e?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${n}$`)},b5=/^\d+$/,N5=/^-?\d+(?:\.\d+)?/i,w5=/true|false/i,_5=/^[^A-Z]*$/,S5=/^[^a-z]*$/,Ys=ye("$ZodCheck",(e,n)=>{var r;e._zod??(e._zod={}),e._zod.def=n,(r=e._zod).onattach??(r.onattach=[])}),s1={number:"number",bigint:"bigint",object:"date"},n1=ye("$ZodCheckLessThan",(e,n)=>{Ys.init(e,n);const r=s1[typeof n.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(n.inclusive?o.maximum:o.exclusiveMaximum)??Number.POSITIVE_INFINITY;n.value<d&&(n.inclusive?o.maximum=n.value:o.exclusiveMaximum=n.value)}),e._zod.check=l=>{(n.inclusive?l.value<=n.value:l.value<n.value)||l.issues.push({origin:r,code:"too_big",maximum:n.value,input:l.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),a1=ye("$ZodCheckGreaterThan",(e,n)=>{Ys.init(e,n);const r=s1[typeof n.value];e._zod.onattach.push(l=>{const o=l._zod.bag,d=(n.inclusive?o.minimum:o.exclusiveMinimum)??Number.NEGATIVE_INFINITY;n.value>d&&(n.inclusive?o.minimum=n.value:o.exclusiveMinimum=n.value)}),e._zod.check=l=>{(n.inclusive?l.value>=n.value:l.value>n.value)||l.issues.push({origin:r,code:"too_small",minimum:n.value,input:l.value,inclusive:n.inclusive,inst:e,continue:!n.abort})}}),R5=ye("$ZodCheckMultipleOf",(e,n)=>{Ys.init(e,n),e._zod.onattach.push(r=>{var l;(l=r._zod.bag).multipleOf??(l.multipleOf=n.value)}),e._zod.check=r=>{if(typeof r.value!=typeof n.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%n.value===BigInt(0):zO(r.value,n.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:n.value,input:r.value,inst:e,continue:!n.abort})}}),C5=ye("$ZodCheckNumberFormat",(e,n)=>{Ys.init(e,n),n.format=n.format||"float64";const r=n.format?.includes("int"),l=r?"int":"number",[o,d]=FO[n.format];e._zod.onattach.push(u=>{const m=u._zod.bag;m.format=n.format,m.minimum=o,m.maximum=d,r&&(m.pattern=b5)}),e._zod.check=u=>{const m=u.value;if(r){if(!Number.isInteger(m)){u.issues.push({expected:l,format:n.format,code:"invalid_type",continue:!1,input:m,inst:e});return}if(!Number.isSafeInteger(m)){m>0?u.issues.push({input:m,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!n.abort}):u.issues.push({input:m,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:l,continue:!n.abort});return}}m<o&&u.issues.push({origin:"number",input:m,code:"too_small",minimum:o,inclusive:!0,inst:e,continue:!n.abort}),m>d&&u.issues.push({origin:"number",input:m,code:"too_big",maximum:d,inst:e})}}),A5=ye("$ZodCheckMaxLength",(e,n)=>{var r;Ys.init(e,n),(r=e._zod.def).when??(r.when=l=>{const o=l.value;return!wx(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.maximum??Number.POSITIVE_INFINITY;n.maximum<o&&(l._zod.bag.maximum=n.maximum)}),e._zod.check=l=>{const o=l.value;if(o.length<=n.maximum)return;const u=Sx(o);l.issues.push({origin:u,code:"too_big",maximum:n.maximum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),E5=ye("$ZodCheckMinLength",(e,n)=>{var r;Ys.init(e,n),(r=e._zod.def).when??(r.when=l=>{const o=l.value;return!wx(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag.minimum??Number.NEGATIVE_INFINITY;n.minimum>o&&(l._zod.bag.minimum=n.minimum)}),e._zod.check=l=>{const o=l.value;if(o.length>=n.minimum)return;const u=Sx(o);l.issues.push({origin:u,code:"too_small",minimum:n.minimum,inclusive:!0,input:o,inst:e,continue:!n.abort})}}),T5=ye("$ZodCheckLengthEquals",(e,n)=>{var r;Ys.init(e,n),(r=e._zod.def).when??(r.when=l=>{const o=l.value;return!wx(o)&&o.length!==void 0}),e._zod.onattach.push(l=>{const o=l._zod.bag;o.minimum=n.length,o.maximum=n.length,o.length=n.length}),e._zod.check=l=>{const o=l.value,d=o.length;if(d===n.length)return;const u=Sx(o),m=d>n.length;l.issues.push({origin:u,...m?{code:"too_big",maximum:n.length}:{code:"too_small",minimum:n.length},inclusive:!0,exact:!0,input:l.value,inst:e,continue:!n.abort})}}),Pu=ye("$ZodCheckStringFormat",(e,n)=>{var r,l;Ys.init(e,n),e._zod.onattach.push(o=>{const d=o._zod.bag;d.format=n.format,n.pattern&&(d.patterns??(d.patterns=new Set),d.patterns.add(n.pattern))}),n.pattern?(r=e._zod).check??(r.check=o=>{n.pattern.lastIndex=0,!n.pattern.test(o.value)&&o.issues.push({origin:"string",code:"invalid_format",format:n.format,input:o.value,...n.pattern?{pattern:n.pattern.toString()}:{},inst:e,continue:!n.abort})}):(l=e._zod).check??(l.check=()=>{})}),D5=ye("$ZodCheckRegex",(e,n)=>{Pu.init(e,n),e._zod.check=r=>{n.pattern.lastIndex=0,!n.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:n.pattern.toString(),inst:e,continue:!n.abort})}}),k5=ye("$ZodCheckLowerCase",(e,n)=>{n.pattern??(n.pattern=_5),Pu.init(e,n)}),M5=ye("$ZodCheckUpperCase",(e,n)=>{n.pattern??(n.pattern=S5),Pu.init(e,n)}),O5=ye("$ZodCheckIncludes",(e,n)=>{Ys.init(e,n);const r=ci(n.includes),l=new RegExp(typeof n.position=="number"?`^.{${n.position}}${r}`:r);n.pattern=l,e._zod.onattach.push(o=>{const d=o._zod.bag;d.patterns??(d.patterns=new Set),d.patterns.add(l)}),e._zod.check=o=>{o.value.includes(n.includes,n.position)||o.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:n.includes,input:o.value,inst:e,continue:!n.abort})}}),z5=ye("$ZodCheckStartsWith",(e,n)=>{Ys.init(e,n);const r=new RegExp(`^${ci(n.prefix)}.*`);n.pattern??(n.pattern=r),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=l=>{l.value.startsWith(n.prefix)||l.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:n.prefix,input:l.value,inst:e,continue:!n.abort})}}),P5=ye("$ZodCheckEndsWith",(e,n)=>{Ys.init(e,n);const r=new RegExp(`.*${ci(n.suffix)}$`);n.pattern??(n.pattern=r),e._zod.onattach.push(l=>{const o=l._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(r)}),e._zod.check=l=>{l.value.endsWith(n.suffix)||l.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:n.suffix,input:l.value,inst:e,continue:!n.abort})}}),L5=ye("$ZodCheckOverwrite",(e,n)=>{Ys.init(e,n),e._zod.check=r=>{r.value=n.tx(r.value)}});class q5{constructor(n=[]){this.content=[],this.indent=0,this&&(this.args=n)}indented(n){this.indent+=1,n(this),this.indent-=1}write(n){if(typeof n=="function"){n(this,{execution:"sync"}),n(this,{execution:"async"});return}const l=n.split(`
`).filter(u=>u),o=Math.min(...l.map(u=>u.length-u.trimStart().length)),d=l.map(u=>u.slice(o)).map(u=>" ".repeat(this.indent*2)+u);for(const u of d)this.content.push(u)}compile(){const n=Function,r=this?.args,o=[...(this?.content??[""]).map(d=>`  ${d}`)];return new n(...r,o.join(`
`))}}const U5={major:4,minor:0,patch:17},Wt=ye("$ZodType",(e,n)=>{var r;e??(e={}),e._zod.def=n,e._zod.bag=e._zod.bag||{},e._zod.version=U5;const l=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&l.unshift(e);for(const o of l)for(const d of o._zod.onattach)d(e);if(l.length===0)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const o=(d,u,m)=>{let g=ko(d),x;for(const v of u){if(v._zod.def.when){if(!v._zod.def.when(d))continue}else if(g)continue;const y=d.issues.length,N=v._zod.check(d);if(N instanceof Promise&&m?.async===!1)throw new Fo;if(x||N instanceof Promise)x=(x??Promise.resolve()).then(async()=>{await N,d.issues.length!==y&&(g||(g=ko(d,y)))});else{if(d.issues.length===y)continue;g||(g=ko(d,y))}}return x?x.then(()=>d):d};e._zod.run=(d,u)=>{const m=e._zod.parse(d,u);if(m instanceof Promise){if(u.async===!1)throw new Fo;return m.then(g=>o(g,l,u))}return o(m,l,u)}}e["~standard"]={validate:o=>{try{const d=QO(e,o);return d.success?{value:d.data}:{issues:d.error?.issues}}catch{return WO(e,o).then(u=>u.success?{value:u.data}:{issues:u.error?.issues})}},vendor:"zod",version:1}}),Cx=ye("$ZodString",(e,n)=>{Wt.init(e,n),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??j5(e._zod.bag),e._zod.parse=(r,l)=>{if(n.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ht=ye("$ZodStringFormat",(e,n)=>{Pu.init(e,n),Cx.init(e,n)}),F5=ye("$ZodGUID",(e,n)=>{n.pattern??(n.pattern=l5),Ht.init(e,n)}),$5=ye("$ZodUUID",(e,n)=>{if(n.version){const l={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[n.version];if(l===void 0)throw new Error(`Invalid UUID version: "${n.version}"`);n.pattern??(n.pattern=Yj(l))}else n.pattern??(n.pattern=Yj());Ht.init(e,n)}),V5=ye("$ZodEmail",(e,n)=>{n.pattern??(n.pattern=i5),Ht.init(e,n)}),I5=ye("$ZodURL",(e,n)=>{Ht.init(e,n),e._zod.check=r=>{try{const l=r.value.trim(),o=new URL(l);n.hostname&&(n.hostname.lastIndex=0,n.hostname.test(o.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:p5.source,input:r.value,inst:e,continue:!n.abort})),n.protocol&&(n.protocol.lastIndex=0,n.protocol.test(o.protocol.endsWith(":")?o.protocol.slice(0,-1):o.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:n.protocol.source,input:r.value,inst:e,continue:!n.abort})),n.normalize?r.value=o.href:r.value=l;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!n.abort})}}}),B5=ye("$ZodEmoji",(e,n)=>{n.pattern??(n.pattern=c5()),Ht.init(e,n)}),H5=ye("$ZodNanoID",(e,n)=>{n.pattern??(n.pattern=a5),Ht.init(e,n)}),Z5=ye("$ZodCUID",(e,n)=>{n.pattern??(n.pattern=JO),Ht.init(e,n)}),G5=ye("$ZodCUID2",(e,n)=>{n.pattern??(n.pattern=e5),Ht.init(e,n)}),Y5=ye("$ZodULID",(e,n)=>{n.pattern??(n.pattern=t5),Ht.init(e,n)}),X5=ye("$ZodXID",(e,n)=>{n.pattern??(n.pattern=s5),Ht.init(e,n)}),K5=ye("$ZodKSUID",(e,n)=>{n.pattern??(n.pattern=n5),Ht.init(e,n)}),Q5=ye("$ZodISODateTime",(e,n)=>{n.pattern??(n.pattern=y5(n)),Ht.init(e,n)}),W5=ye("$ZodISODate",(e,n)=>{n.pattern??(n.pattern=g5),Ht.init(e,n)}),J5=ye("$ZodISOTime",(e,n)=>{n.pattern??(n.pattern=v5(n)),Ht.init(e,n)}),ez=ye("$ZodISODuration",(e,n)=>{n.pattern??(n.pattern=r5),Ht.init(e,n)}),tz=ye("$ZodIPv4",(e,n)=>{n.pattern??(n.pattern=d5),Ht.init(e,n),e._zod.onattach.push(r=>{const l=r._zod.bag;l.format="ipv4"})}),sz=ye("$ZodIPv6",(e,n)=>{n.pattern??(n.pattern=u5),Ht.init(e,n),e._zod.onattach.push(r=>{const l=r._zod.bag;l.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!n.abort})}}}),nz=ye("$ZodCIDRv4",(e,n)=>{n.pattern??(n.pattern=f5),Ht.init(e,n)}),az=ye("$ZodCIDRv6",(e,n)=>{n.pattern??(n.pattern=m5),Ht.init(e,n),e._zod.check=r=>{const[l,o]=r.value.split("/");try{if(!o)throw new Error;const d=Number(o);if(`${d}`!==o)throw new Error;if(d<0||d>128)throw new Error;new URL(`http://[${l}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!n.abort})}}});function r1(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const rz=ye("$ZodBase64",(e,n)=>{n.pattern??(n.pattern=h5),Ht.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{r1(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!n.abort})}});function lz(e){if(!J_.test(e))return!1;const n=e.replace(/[-_]/g,l=>l==="-"?"+":"/"),r=n.padEnd(Math.ceil(n.length/4)*4,"=");return r1(r)}const iz=ye("$ZodBase64URL",(e,n)=>{n.pattern??(n.pattern=J_),Ht.init(e,n),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{lz(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!n.abort})}}),oz=ye("$ZodE164",(e,n)=>{n.pattern??(n.pattern=x5),Ht.init(e,n)});function cz(e,n=null){try{const r=e.split(".");if(r.length!==3)return!1;const[l]=r;if(!l)return!1;const o=JSON.parse(atob(l));return!("typ"in o&&o?.typ!=="JWT"||!o.alg||n&&(!("alg"in o)||o.alg!==n))}catch{return!1}}const dz=ye("$ZodJWT",(e,n)=>{Ht.init(e,n),e._zod.check=r=>{cz(r.value,n.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!n.abort})}}),l1=ye("$ZodNumber",(e,n)=>{Wt.init(e,n),e._zod.pattern=e._zod.bag.pattern??N5,e._zod.parse=(r,l)=>{if(n.coerce)try{r.value=Number(r.value)}catch{}const o=r.value;if(typeof o=="number"&&!Number.isNaN(o)&&Number.isFinite(o))return r;const d=typeof o=="number"?Number.isNaN(o)?"NaN":Number.isFinite(o)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:o,inst:e,...d?{received:d}:{}}),r}}),uz=ye("$ZodNumber",(e,n)=>{C5.init(e,n),l1.init(e,n)}),fz=ye("$ZodBoolean",(e,n)=>{Wt.init(e,n),e._zod.pattern=w5,e._zod.parse=(r,l)=>{if(n.coerce)try{r.value=!!r.value}catch{}const o=r.value;return typeof o=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:o,inst:e}),r}}),mz=ye("$ZodUnknown",(e,n)=>{Wt.init(e,n),e._zod.parse=r=>r}),hz=ye("$ZodNever",(e,n)=>{Wt.init(e,n),e._zod.parse=(r,l)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function Xj(e,n,r){e.issues.length&&n.issues.push(...G_(r,e.issues)),n.value[r]=e.value}const pz=ye("$ZodArray",(e,n)=>{Wt.init(e,n),e._zod.parse=(r,l)=>{const o=r.value;if(!Array.isArray(o))return r.issues.push({expected:"array",code:"invalid_type",input:o,inst:e}),r;r.value=Array(o.length);const d=[];for(let u=0;u<o.length;u++){const m=o[u],g=n.element._zod.run({value:m,issues:[]},l);g instanceof Promise?d.push(g.then(x=>Xj(x,r,u))):Xj(g,r,u)}return d.length?Promise.all(d).then(()=>r):r}});function Sd(e,n,r,l){e.issues.length&&n.issues.push(...G_(r,e.issues)),e.value===void 0?r in l&&(n.value[r]=void 0):n.value[r]=e.value}const xz=ye("$ZodObject",(e,n)=>{Wt.init(e,n);const r=B_(()=>{const y=Object.keys(n.shape);for(const C of y)if(!n.shape[C]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${C}": expected a Zod schema`);const N=UO(n.shape);return{shape:n.shape,keys:y,keySet:new Set(y),numKeys:y.length,optionalKeys:new Set(N)}});Pt(e._zod,"propValues",()=>{const y=n.shape,N={};for(const C in y){const _=y[C]._zod;if(_.values){N[C]??(N[C]=new Set);for(const j of _.values)N[C].add(j)}}return N});const l=y=>{const N=new q5(["shape","payload","ctx"]),C=r.value,_=D=>{const S=Gj(D);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};N.write("const input = payload.value;");const j=Object.create(null);let b=0;for(const D of C.keys)j[D]=`key_${b++}`;N.write("const newResult = {}");for(const D of C.keys){const S=j[D],q=Gj(D);N.write(`const ${S} = ${_(D)};`),N.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${q}, ...iss.path] : [${q}]
          })));
        }

        if (${S}.value === undefined) {
          if (${q} in input) {
            newResult[${q}] = undefined;
          }
        } else {
          newResult[${q}] = ${S}.value;
        }
      `)}N.write("payload.value = newResult;"),N.write("return payload;");const A=N.compile();return(D,S)=>A(y,D,S)};let o;const d=mp,u=!I_.jitless,g=u&&LO.value,x=n.catchall;let v;e._zod.parse=(y,N)=>{v??(v=r.value);const C=y.value;if(!d(C))return y.issues.push({expected:"object",code:"invalid_type",input:C,inst:e}),y;const _=[];if(u&&g&&N?.async===!1&&N.jitless!==!0)o||(o=l(n.shape)),y=o(y,N);else{y.value={};const S=v.shape;for(const q of v.keys){const k=S[q]._zod.run({value:C[q],issues:[]},N);k instanceof Promise?_.push(k.then($=>Sd($,y,q,C))):Sd(k,y,q,C)}}if(!x)return _.length?Promise.all(_).then(()=>y):y;const j=[],b=v.keySet,A=x._zod,D=A.def.type;for(const S of Object.keys(C)){if(b.has(S))continue;if(D==="never"){j.push(S);continue}const q=A.run({value:C[S],issues:[]},N);q instanceof Promise?_.push(q.then(R=>Sd(R,y,S,C))):Sd(q,y,S,C)}return j.length&&y.issues.push({code:"unrecognized_keys",keys:j,input:C,inst:e}),_.length?Promise.all(_).then(()=>y):y}});function Kj(e,n,r,l){for(const d of e)if(d.issues.length===0)return n.value=d.value,n;const o=e.filter(d=>!ko(d));return o.length===1?(n.value=o[0].value,o[0]):(n.issues.push({code:"invalid_union",input:n.value,inst:r,errors:e.map(d=>d.issues.map(u=>Kr(u,l,Xr())))}),n)}const gz=ye("$ZodUnion",(e,n)=>{Wt.init(e,n),Pt(e._zod,"optin",()=>n.options.some(o=>o._zod.optin==="optional")?"optional":void 0),Pt(e._zod,"optout",()=>n.options.some(o=>o._zod.optout==="optional")?"optional":void 0),Pt(e._zod,"values",()=>{if(n.options.every(o=>o._zod.values))return new Set(n.options.flatMap(o=>Array.from(o._zod.values)))}),Pt(e._zod,"pattern",()=>{if(n.options.every(o=>o._zod.pattern)){const o=n.options.map(d=>d._zod.pattern);return new RegExp(`^(${o.map(d=>_x(d.source)).join("|")})$`)}});const r=n.options.length===1,l=n.options[0]._zod.run;e._zod.parse=(o,d)=>{if(r)return l(o,d);let u=!1;const m=[];for(const g of n.options){const x=g._zod.run({value:o.value,issues:[]},d);if(x instanceof Promise)m.push(x),u=!0;else{if(x.issues.length===0)return x;m.push(x)}}return u?Promise.all(m).then(g=>Kj(g,o,e,d)):Kj(m,o,e,d)}}),vz=ye("$ZodIntersection",(e,n)=>{Wt.init(e,n),e._zod.parse=(r,l)=>{const o=r.value,d=n.left._zod.run({value:o,issues:[]},l),u=n.right._zod.run({value:o,issues:[]},l);return d instanceof Promise||u instanceof Promise?Promise.all([d,u]).then(([g,x])=>Qj(r,g,x)):Qj(r,d,u)}});function hp(e,n){if(e===n)return{valid:!0,data:e};if(e instanceof Date&&n instanceof Date&&+e==+n)return{valid:!0,data:e};if(Qd(e)&&Qd(n)){const r=Object.keys(n),l=Object.keys(e).filter(d=>r.indexOf(d)!==-1),o={...e,...n};for(const d of l){const u=hp(e[d],n[d]);if(!u.valid)return{valid:!1,mergeErrorPath:[d,...u.mergeErrorPath]};o[d]=u.data}return{valid:!0,data:o}}if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let l=0;l<e.length;l++){const o=e[l],d=n[l],u=hp(o,d);if(!u.valid)return{valid:!1,mergeErrorPath:[l,...u.mergeErrorPath]};r.push(u.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function Qj(e,n,r){if(n.issues.length&&e.issues.push(...n.issues),r.issues.length&&e.issues.push(...r.issues),ko(e))return e;const l=hp(n.value,r.value);if(!l.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(l.mergeErrorPath)}`);return e.value=l.data,e}const yz=ye("$ZodEnum",(e,n)=>{Wt.init(e,n);const r=OO(n.entries),l=new Set(r);e._zod.values=l,e._zod.pattern=new RegExp(`^(${r.filter(o=>qO.has(typeof o)).map(o=>typeof o=="string"?ci(o):o.toString()).join("|")})$`),e._zod.parse=(o,d)=>{const u=o.value;return l.has(u)||o.issues.push({code:"invalid_value",values:r,input:u,inst:e}),o}}),jz=ye("$ZodLiteral",(e,n)=>{if(Wt.init(e,n),n.values.length===0)throw new Error("Cannot create literal schema with no valid values");e._zod.values=new Set(n.values),e._zod.pattern=new RegExp(`^(${n.values.map(r=>typeof r=="string"?ci(r):r?ci(r.toString()):String(r)).join("|")})$`),e._zod.parse=(r,l)=>{const o=r.value;return e._zod.values.has(o)||r.issues.push({code:"invalid_value",values:n.values,input:o,inst:e}),r}}),bz=ye("$ZodTransform",(e,n)=>{Wt.init(e,n),e._zod.parse=(r,l)=>{const o=n.transform(r.value,r);if(l.async)return(o instanceof Promise?o:Promise.resolve(o)).then(u=>(r.value=u,r));if(o instanceof Promise)throw new Fo;return r.value=o,r}});function Wj(e,n){return e.issues.length&&n===void 0?{issues:[],value:void 0}:e}const Nz=ye("$ZodOptional",(e,n)=>{Wt.init(e,n),e._zod.optin="optional",e._zod.optout="optional",Pt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,void 0]):void 0),Pt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${_x(r.source)})?$`):void 0}),e._zod.parse=(r,l)=>{if(n.innerType._zod.optin==="optional"){const o=n.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>Wj(d,r.value)):Wj(o,r.value)}return r.value===void 0?r:n.innerType._zod.run(r,l)}}),wz=ye("$ZodNullable",(e,n)=>{Wt.init(e,n),Pt(e._zod,"optin",()=>n.innerType._zod.optin),Pt(e._zod,"optout",()=>n.innerType._zod.optout),Pt(e._zod,"pattern",()=>{const r=n.innerType._zod.pattern;return r?new RegExp(`^(${_x(r.source)}|null)$`):void 0}),Pt(e._zod,"values",()=>n.innerType._zod.values?new Set([...n.innerType._zod.values,null]):void 0),e._zod.parse=(r,l)=>r.value===null?r:n.innerType._zod.run(r,l)}),_z=ye("$ZodDefault",(e,n)=>{Wt.init(e,n),e._zod.optin="optional",Pt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,l)=>{if(r.value===void 0)return r.value=n.defaultValue,r;const o=n.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>Jj(d,n)):Jj(o,n)}});function Jj(e,n){return e.value===void 0&&(e.value=n.defaultValue),e}const Sz=ye("$ZodPrefault",(e,n)=>{Wt.init(e,n),e._zod.optin="optional",Pt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,l)=>(r.value===void 0&&(r.value=n.defaultValue),n.innerType._zod.run(r,l))}),Rz=ye("$ZodNonOptional",(e,n)=>{Wt.init(e,n),Pt(e._zod,"values",()=>{const r=n.innerType._zod.values;return r?new Set([...r].filter(l=>l!==void 0)):void 0}),e._zod.parse=(r,l)=>{const o=n.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>eb(d,e)):eb(o,e)}});function eb(e,n){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:n}),e}const Cz=ye("$ZodCatch",(e,n)=>{Wt.init(e,n),Pt(e._zod,"optin",()=>n.innerType._zod.optin),Pt(e._zod,"optout",()=>n.innerType._zod.optout),Pt(e._zod,"values",()=>n.innerType._zod.values),e._zod.parse=(r,l)=>{const o=n.innerType._zod.run(r,l);return o instanceof Promise?o.then(d=>(r.value=d.value,d.issues.length&&(r.value=n.catchValue({...r,error:{issues:d.issues.map(u=>Kr(u,l,Xr()))},input:r.value}),r.issues=[]),r)):(r.value=o.value,o.issues.length&&(r.value=n.catchValue({...r,error:{issues:o.issues.map(d=>Kr(d,l,Xr()))},input:r.value}),r.issues=[]),r)}}),Az=ye("$ZodPipe",(e,n)=>{Wt.init(e,n),Pt(e._zod,"values",()=>n.in._zod.values),Pt(e._zod,"optin",()=>n.in._zod.optin),Pt(e._zod,"optout",()=>n.out._zod.optout),Pt(e._zod,"propValues",()=>n.in._zod.propValues),e._zod.parse=(r,l)=>{const o=n.in._zod.run(r,l);return o instanceof Promise?o.then(d=>tb(d,n,l)):tb(o,n,l)}});function tb(e,n,r){return e.issues.length?e:n.out._zod.run({value:e.value,issues:e.issues},r)}const Ez=ye("$ZodReadonly",(e,n)=>{Wt.init(e,n),Pt(e._zod,"propValues",()=>n.innerType._zod.propValues),Pt(e._zod,"values",()=>n.innerType._zod.values),Pt(e._zod,"optin",()=>n.innerType._zod.optin),Pt(e._zod,"optout",()=>n.innerType._zod.optout),e._zod.parse=(r,l)=>{const o=n.innerType._zod.run(r,l);return o instanceof Promise?o.then(sb):sb(o)}});function sb(e){return e.value=Object.freeze(e.value),e}const Tz=ye("$ZodCustom",(e,n)=>{Ys.init(e,n),Wt.init(e,n),e._zod.parse=(r,l)=>r,e._zod.check=r=>{const l=r.value,o=n.fn(l);if(o instanceof Promise)return o.then(d=>nb(d,r,l,e));nb(o,r,l,e)}});function nb(e,n,r,l){if(!e){const o={code:"custom",input:r,inst:l,path:[...l._zod.def.path??[]],continue:!l._zod.def.abort};l._zod.def.params&&(o.params=l._zod.def.params),n.issues.push($o(o))}}class Dz{constructor(){this._map=new Map,this._idmap=new Map}add(n,...r){const l=r[0];if(this._map.set(n,l),l&&typeof l=="object"&&"id"in l){if(this._idmap.has(l.id))throw new Error(`ID ${l.id} already exists in the registry`);this._idmap.set(l.id,n)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(n){const r=this._map.get(n);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(n),this}get(n){const r=n._zod.parent;if(r){const l={...this.get(r)??{}};delete l.id;const o={...l,...this._map.get(n)};return Object.keys(o).length?o:void 0}return this._map.get(n)}has(n){return this._map.has(n)}}function kz(){return new Dz}const Rd=kz();function Mz(e,n){return new e({type:"string",...He(n)})}function Oz(e,n){return new e({type:"string",format:"email",check:"string_format",abort:!1,...He(n)})}function ab(e,n){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...He(n)})}function zz(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...He(n)})}function Pz(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...He(n)})}function Lz(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...He(n)})}function qz(e,n){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...He(n)})}function Uz(e,n){return new e({type:"string",format:"url",check:"string_format",abort:!1,...He(n)})}function Fz(e,n){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...He(n)})}function $z(e,n){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...He(n)})}function Vz(e,n){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...He(n)})}function Iz(e,n){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...He(n)})}function Bz(e,n){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...He(n)})}function Hz(e,n){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...He(n)})}function Zz(e,n){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...He(n)})}function Gz(e,n){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...He(n)})}function Yz(e,n){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...He(n)})}function Xz(e,n){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...He(n)})}function Kz(e,n){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...He(n)})}function Qz(e,n){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...He(n)})}function Wz(e,n){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...He(n)})}function Jz(e,n){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...He(n)})}function eP(e,n){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...He(n)})}function tP(e,n){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...He(n)})}function sP(e,n){return new e({type:"string",format:"date",check:"string_format",...He(n)})}function nP(e,n){return new e({type:"string",format:"time",check:"string_format",precision:null,...He(n)})}function aP(e,n){return new e({type:"string",format:"duration",check:"string_format",...He(n)})}function rP(e,n){return new e({type:"number",checks:[],...He(n)})}function lP(e,n){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...He(n)})}function iP(e,n){return new e({type:"boolean",...He(n)})}function oP(e){return new e({type:"unknown"})}function cP(e,n){return new e({type:"never",...He(n)})}function rb(e,n){return new n1({check:"less_than",...He(n),value:e,inclusive:!1})}function kh(e,n){return new n1({check:"less_than",...He(n),value:e,inclusive:!0})}function lb(e,n){return new a1({check:"greater_than",...He(n),value:e,inclusive:!1})}function Mh(e,n){return new a1({check:"greater_than",...He(n),value:e,inclusive:!0})}function ib(e,n){return new R5({check:"multiple_of",...He(n),value:e})}function i1(e,n){return new A5({check:"max_length",...He(n),maximum:e})}function Wd(e,n){return new E5({check:"min_length",...He(n),minimum:e})}function o1(e,n){return new T5({check:"length_equals",...He(n),length:e})}function dP(e,n){return new D5({check:"string_format",format:"regex",...He(n),pattern:e})}function uP(e){return new k5({check:"string_format",format:"lowercase",...He(e)})}function fP(e){return new M5({check:"string_format",format:"uppercase",...He(e)})}function mP(e,n){return new O5({check:"string_format",format:"includes",...He(n),includes:e})}function hP(e,n){return new z5({check:"string_format",format:"starts_with",...He(n),prefix:e})}function pP(e,n){return new P5({check:"string_format",format:"ends_with",...He(n),suffix:e})}function ec(e){return new L5({check:"overwrite",tx:e})}function xP(e){return ec(n=>n.normalize(e))}function gP(){return ec(e=>e.trim())}function vP(){return ec(e=>e.toLowerCase())}function yP(){return ec(e=>e.toUpperCase())}function jP(e,n,r){return new e({type:"array",element:n,...He(r)})}function bP(e,n,r){return new e({type:"custom",check:"custom",fn:n,...He(r)})}function NP(e){const n=wP(r=>(r.addIssue=l=>{if(typeof l=="string")r.issues.push($o(l,r.value,n._zod.def));else{const o=l;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=r.value),o.inst??(o.inst=n),o.continue??(o.continue=!n._zod.def.abort),r.issues.push($o(o))}},e(r.value,r)));return n}function wP(e,n){const r=new Ys({check:"custom",...He(n)});return r._zod.check=e,r}const _P=ye("ZodISODateTime",(e,n)=>{Q5.init(e,n),Xt.init(e,n)});function SP(e){return tP(_P,e)}const RP=ye("ZodISODate",(e,n)=>{W5.init(e,n),Xt.init(e,n)});function CP(e){return sP(RP,e)}const AP=ye("ZodISOTime",(e,n)=>{J5.init(e,n),Xt.init(e,n)});function EP(e){return nP(AP,e)}const TP=ye("ZodISODuration",(e,n)=>{ez.init(e,n),Xt.init(e,n)});function DP(e){return aP(TP,e)}const kP=(e,n)=>{Rx.init(e,n),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>YO(e,r)},flatten:{value:r=>GO(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,fp,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,fp,2)}},isEmpty:{get(){return e.issues.length===0}}})},Lu=ye("ZodError",kP,{Parent:Error}),MP=X_(Lu),OP=K_(Lu),zP=Q_(Lu),PP=W_(Lu),ls=ye("ZodType",(e,n)=>(Wt.init(e,n),e.def=n,Object.defineProperty(e,"_def",{value:n}),e.check=(...r)=>e.clone({...n,checks:[...n.checks??[],...r.map(l=>typeof l=="function"?{_zod:{check:l,def:{check:"custom"},onattach:[]}}:l)]}),e.clone=(r,l)=>al(e,r,l),e.brand=()=>e,e.register=((r,l)=>(r.add(e,l),e)),e.parse=(r,l)=>MP(e,r,l,{callee:e.parse}),e.safeParse=(r,l)=>zP(e,r,l),e.parseAsync=async(r,l)=>OP(e,r,l,{callee:e.parseAsync}),e.safeParseAsync=async(r,l)=>PP(e,r,l),e.spa=e.safeParseAsync,e.refine=(r,l)=>e.check(EL(r,l)),e.superRefine=r=>e.check(TL(r)),e.overwrite=r=>e.check(ec(r)),e.optional=()=>ub(e),e.nullable=()=>fb(e),e.nullish=()=>ub(fb(e)),e.nonoptional=r=>NL(e,r),e.array=()=>Ax(e),e.or=r=>dL([e,r]),e.and=r=>fL(e,r),e.transform=r=>mb(e,xL(r)),e.default=r=>yL(e,r),e.prefault=r=>bL(e,r),e.catch=r=>_L(e,r),e.pipe=r=>mb(e,r),e.readonly=()=>CL(e),e.describe=r=>{const l=e.clone();return Rd.add(l,{description:r}),l},Object.defineProperty(e,"description",{get(){return Rd.get(e)?.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Rd.get(e);const l=e.clone();return Rd.add(l,r[0]),l},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),c1=ye("_ZodString",(e,n)=>{Cx.init(e,n),ls.init(e,n);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...l)=>e.check(dP(...l)),e.includes=(...l)=>e.check(mP(...l)),e.startsWith=(...l)=>e.check(hP(...l)),e.endsWith=(...l)=>e.check(pP(...l)),e.min=(...l)=>e.check(Wd(...l)),e.max=(...l)=>e.check(i1(...l)),e.length=(...l)=>e.check(o1(...l)),e.nonempty=(...l)=>e.check(Wd(1,...l)),e.lowercase=l=>e.check(uP(l)),e.uppercase=l=>e.check(fP(l)),e.trim=()=>e.check(gP()),e.normalize=(...l)=>e.check(xP(...l)),e.toLowerCase=()=>e.check(vP()),e.toUpperCase=()=>e.check(yP())}),LP=ye("ZodString",(e,n)=>{Cx.init(e,n),c1.init(e,n),e.email=r=>e.check(Oz(qP,r)),e.url=r=>e.check(Uz(UP,r)),e.jwt=r=>e.check(eP(eL,r)),e.emoji=r=>e.check(Fz(FP,r)),e.guid=r=>e.check(ab(ob,r)),e.uuid=r=>e.check(zz(Cd,r)),e.uuidv4=r=>e.check(Pz(Cd,r)),e.uuidv6=r=>e.check(Lz(Cd,r)),e.uuidv7=r=>e.check(qz(Cd,r)),e.nanoid=r=>e.check($z($P,r)),e.guid=r=>e.check(ab(ob,r)),e.cuid=r=>e.check(Vz(VP,r)),e.cuid2=r=>e.check(Iz(IP,r)),e.ulid=r=>e.check(Bz(BP,r)),e.base64=r=>e.check(Qz(QP,r)),e.base64url=r=>e.check(Wz(WP,r)),e.xid=r=>e.check(Hz(HP,r)),e.ksuid=r=>e.check(Zz(ZP,r)),e.ipv4=r=>e.check(Gz(GP,r)),e.ipv6=r=>e.check(Yz(YP,r)),e.cidrv4=r=>e.check(Xz(XP,r)),e.cidrv6=r=>e.check(Kz(KP,r)),e.e164=r=>e.check(Jz(JP,r)),e.datetime=r=>e.check(SP(r)),e.date=r=>e.check(CP(r)),e.time=r=>e.check(EP(r)),e.duration=r=>e.check(DP(r))});function kt(e){return Mz(LP,e)}const Xt=ye("ZodStringFormat",(e,n)=>{Ht.init(e,n),c1.init(e,n)}),qP=ye("ZodEmail",(e,n)=>{V5.init(e,n),Xt.init(e,n)}),ob=ye("ZodGUID",(e,n)=>{F5.init(e,n),Xt.init(e,n)}),Cd=ye("ZodUUID",(e,n)=>{$5.init(e,n),Xt.init(e,n)}),UP=ye("ZodURL",(e,n)=>{I5.init(e,n),Xt.init(e,n)}),FP=ye("ZodEmoji",(e,n)=>{B5.init(e,n),Xt.init(e,n)}),$P=ye("ZodNanoID",(e,n)=>{H5.init(e,n),Xt.init(e,n)}),VP=ye("ZodCUID",(e,n)=>{Z5.init(e,n),Xt.init(e,n)}),IP=ye("ZodCUID2",(e,n)=>{G5.init(e,n),Xt.init(e,n)}),BP=ye("ZodULID",(e,n)=>{Y5.init(e,n),Xt.init(e,n)}),HP=ye("ZodXID",(e,n)=>{X5.init(e,n),Xt.init(e,n)}),ZP=ye("ZodKSUID",(e,n)=>{K5.init(e,n),Xt.init(e,n)}),GP=ye("ZodIPv4",(e,n)=>{tz.init(e,n),Xt.init(e,n)}),YP=ye("ZodIPv6",(e,n)=>{sz.init(e,n),Xt.init(e,n)}),XP=ye("ZodCIDRv4",(e,n)=>{nz.init(e,n),Xt.init(e,n)}),KP=ye("ZodCIDRv6",(e,n)=>{az.init(e,n),Xt.init(e,n)}),QP=ye("ZodBase64",(e,n)=>{rz.init(e,n),Xt.init(e,n)}),WP=ye("ZodBase64URL",(e,n)=>{iz.init(e,n),Xt.init(e,n)}),JP=ye("ZodE164",(e,n)=>{oz.init(e,n),Xt.init(e,n)}),eL=ye("ZodJWT",(e,n)=>{dz.init(e,n),Xt.init(e,n)}),d1=ye("ZodNumber",(e,n)=>{l1.init(e,n),ls.init(e,n),e.gt=(l,o)=>e.check(lb(l,o)),e.gte=(l,o)=>e.check(Mh(l,o)),e.min=(l,o)=>e.check(Mh(l,o)),e.lt=(l,o)=>e.check(rb(l,o)),e.lte=(l,o)=>e.check(kh(l,o)),e.max=(l,o)=>e.check(kh(l,o)),e.int=l=>e.check(cb(l)),e.safe=l=>e.check(cb(l)),e.positive=l=>e.check(lb(0,l)),e.nonnegative=l=>e.check(Mh(0,l)),e.negative=l=>e.check(rb(0,l)),e.nonpositive=l=>e.check(kh(0,l)),e.multipleOf=(l,o)=>e.check(ib(l,o)),e.step=(l,o)=>e.check(ib(l,o)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function bs(e){return rP(d1,e)}const tL=ye("ZodNumberFormat",(e,n)=>{uz.init(e,n),d1.init(e,n)});function cb(e){return lP(tL,e)}const sL=ye("ZodBoolean",(e,n)=>{fz.init(e,n),ls.init(e,n)});function nL(e){return iP(sL,e)}const aL=ye("ZodUnknown",(e,n)=>{mz.init(e,n),ls.init(e,n)});function db(){return oP(aL)}const rL=ye("ZodNever",(e,n)=>{hz.init(e,n),ls.init(e,n)});function lL(e){return cP(rL,e)}const iL=ye("ZodArray",(e,n)=>{pz.init(e,n),ls.init(e,n),e.element=n.element,e.min=(r,l)=>e.check(Wd(r,l)),e.nonempty=r=>e.check(Wd(1,r)),e.max=(r,l)=>e.check(i1(r,l)),e.length=(r,l)=>e.check(o1(r,l)),e.unwrap=()=>e.element});function Ax(e,n){return jP(iL,e,n)}const oL=ye("ZodObject",(e,n)=>{xz.init(e,n),ls.init(e,n),Pt(e,"shape",()=>n.shape),e.keyof=()=>qu(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:db()}),e.loose=()=>e.clone({...e._zod.def,catchall:db()}),e.strict=()=>e.clone({...e._zod.def,catchall:lL()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>IO(e,r),e.merge=r=>BO(e,r),e.pick=r=>$O(e,r),e.omit=r=>VO(e,r),e.partial=(...r)=>HO(u1,e,r[0]),e.required=(...r)=>ZO(f1,e,r[0])});function wn(e,n){const r={type:"object",get shape(){return nl(this,"shape",e?PO(e):{}),this.shape},...He(n)};return new oL(r)}const cL=ye("ZodUnion",(e,n)=>{gz.init(e,n),ls.init(e,n),e.options=n.options});function dL(e,n){return new cL({type:"union",options:e,...He(n)})}const uL=ye("ZodIntersection",(e,n)=>{vz.init(e,n),ls.init(e,n)});function fL(e,n){return new uL({type:"intersection",left:e,right:n})}const pp=ye("ZodEnum",(e,n)=>{yz.init(e,n),ls.init(e,n),e.enum=n.entries,e.options=Object.values(n.entries);const r=new Set(Object.keys(n.entries));e.extract=(l,o)=>{const d={};for(const u of l)if(r.has(u))d[u]=n.entries[u];else throw new Error(`Key ${u} not found in enum`);return new pp({...n,checks:[],...He(o),entries:d})},e.exclude=(l,o)=>{const d={...n.entries};for(const u of l)if(r.has(u))delete d[u];else throw new Error(`Key ${u} not found in enum`);return new pp({...n,checks:[],...He(o),entries:d})}});function qu(e,n){const r=Array.isArray(e)?Object.fromEntries(e.map(l=>[l,l])):e;return new pp({type:"enum",entries:r,...He(n)})}const mL=ye("ZodLiteral",(e,n)=>{jz.init(e,n),ls.init(e,n),e.values=new Set(n.values),Object.defineProperty(e,"value",{get(){if(n.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return n.values[0]}})});function hL(e,n){return new mL({type:"literal",values:Array.isArray(e)?e:[e],...He(n)})}const pL=ye("ZodTransform",(e,n)=>{bz.init(e,n),ls.init(e,n),e._zod.parse=(r,l)=>{r.addIssue=d=>{if(typeof d=="string")r.issues.push($o(d,r.value,n));else{const u=d;u.fatal&&(u.continue=!1),u.code??(u.code="custom"),u.input??(u.input=r.value),u.inst??(u.inst=e),r.issues.push($o(u))}};const o=n.transform(r.value,r);return o instanceof Promise?o.then(d=>(r.value=d,r)):(r.value=o,r)}});function xL(e){return new pL({type:"transform",transform:e})}const u1=ye("ZodOptional",(e,n)=>{Nz.init(e,n),ls.init(e,n),e.unwrap=()=>e._zod.def.innerType});function ub(e){return new u1({type:"optional",innerType:e})}const gL=ye("ZodNullable",(e,n)=>{wz.init(e,n),ls.init(e,n),e.unwrap=()=>e._zod.def.innerType});function fb(e){return new gL({type:"nullable",innerType:e})}const vL=ye("ZodDefault",(e,n)=>{_z.init(e,n),ls.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function yL(e,n){return new vL({type:"default",innerType:e,get defaultValue(){return typeof n=="function"?n():Z_(n)}})}const jL=ye("ZodPrefault",(e,n)=>{Sz.init(e,n),ls.init(e,n),e.unwrap=()=>e._zod.def.innerType});function bL(e,n){return new jL({type:"prefault",innerType:e,get defaultValue(){return typeof n=="function"?n():Z_(n)}})}const f1=ye("ZodNonOptional",(e,n)=>{Rz.init(e,n),ls.init(e,n),e.unwrap=()=>e._zod.def.innerType});function NL(e,n){return new f1({type:"nonoptional",innerType:e,...He(n)})}const wL=ye("ZodCatch",(e,n)=>{Cz.init(e,n),ls.init(e,n),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function _L(e,n){return new wL({type:"catch",innerType:e,catchValue:typeof n=="function"?n:()=>n})}const SL=ye("ZodPipe",(e,n)=>{Az.init(e,n),ls.init(e,n),e.in=n.in,e.out=n.out});function mb(e,n){return new SL({type:"pipe",in:e,out:n})}const RL=ye("ZodReadonly",(e,n)=>{Ez.init(e,n),ls.init(e,n),e.unwrap=()=>e._zod.def.innerType});function CL(e){return new RL({type:"readonly",innerType:e})}const AL=ye("ZodCustom",(e,n)=>{Tz.init(e,n),ls.init(e,n)});function EL(e,n={}){return bP(AL,e,n)}function TL(e){return NP(e)}var tc=e=>e.type==="checkbox",Ur=e=>e instanceof Date,Os=e=>e==null;const m1=e=>typeof e=="object";var as=e=>!Os(e)&&!Array.isArray(e)&&m1(e)&&!Ur(e),h1=e=>as(e)&&e.target?tc(e.target)?e.target.checked:e.target.value:e,DL=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,p1=(e,n)=>e.has(DL(n)),kL=e=>{const n=e.constructor&&e.constructor.prototype;return as(n)&&n.hasOwnProperty("isPrototypeOf")},Ex=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function qt(e){let n;const r=Array.isArray(e),l=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)n=new Date(e);else if(!(Ex&&(e instanceof Blob||l))&&(r||as(e)))if(n=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!kL(e))n=e;else for(const o in e)e.hasOwnProperty(o)&&(n[o]=qt(e[o]));else return e;return n}var Uu=e=>/^\w*$/.test(e),Ut=e=>e===void 0,Fu=e=>Array.isArray(e)?e.filter(Boolean):[],Tx=e=>Fu(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Re=(e,n,r)=>{if(!n||!as(e))return r;const l=(Uu(n)?[n]:Tx(n)).reduce((o,d)=>Os(o)?o:o[d],e);return Ut(l)||l===e?Ut(e[n])?r:e[n]:l},sn=e=>typeof e=="boolean",gt=(e,n,r)=>{let l=-1;const o=Uu(n)?[n]:Tx(n),d=o.length,u=d-1;for(;++l<d;){const m=o[l];let g=r;if(l!==u){const x=e[m];g=as(x)||Array.isArray(x)?x:isNaN(+o[l+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;e[m]=g,e=e[m]}};const Jd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},pn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},_a={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Dx=Ue.createContext(null);Dx.displayName="HookFormContext";const sc=()=>Ue.useContext(Dx),ML=e=>{const{children:n,...r}=e;return Ue.createElement(Dx.Provider,{value:r},n)};var x1=(e,n,r,l=!0)=>{const o={defaultValues:n._defaultValues};for(const d in e)Object.defineProperty(o,d,{get:()=>{const u=d;return n._proxyFormState[u]!==pn.all&&(n._proxyFormState[u]=!l||pn.all),r&&(r[u]=!0),e[u]}});return o};const $u=typeof window<"u"?Ue.useLayoutEffect:Ue.useEffect;function g1(e){const n=sc(),{control:r=n.control,disabled:l,name:o,exact:d}=e||{},[u,m]=Ue.useState(r._formState),g=Ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return $u(()=>r._subscribe({name:o,formState:g.current,exact:d,callback:x=>{!l&&m({...r._formState,...x})}}),[o,l,d]),Ue.useEffect(()=>{g.current.isValid&&r._setValid(!0)},[r]),Ue.useMemo(()=>x1(u,r,g.current,!1),[u,r])}var Wn=e=>typeof e=="string",v1=(e,n,r,l,o)=>Wn(e)?(l&&n.watch.add(e),Re(r,e,o)):Array.isArray(e)?e.map(d=>(l&&n.watch.add(d),Re(r,d))):(l&&(n.watchAll=!0),r),xp=e=>Os(e)||!m1(e);function Sa(e,n,r=new WeakSet){if(xp(e)||xp(n))return e===n;if(Ur(e)&&Ur(n))return e.getTime()===n.getTime();const l=Object.keys(e),o=Object.keys(n);if(l.length!==o.length)return!1;if(r.has(e)||r.has(n))return!0;r.add(e),r.add(n);for(const d of l){const u=e[d];if(!o.includes(d))return!1;if(d!=="ref"){const m=n[d];if(Ur(u)&&Ur(m)||as(u)&&as(m)||Array.isArray(u)&&Array.isArray(m)?!Sa(u,m,r):u!==m)return!1}}return!0}function OL(e){const n=sc(),{control:r=n.control,name:l,defaultValue:o,disabled:d,exact:u,compute:m}=e||{},g=Ue.useRef(o),x=Ue.useRef(m),v=Ue.useRef(void 0);x.current=m;const y=Ue.useMemo(()=>r._getWatch(l,g.current),[r,l]),[N,C]=Ue.useState(x.current?x.current(y):y);return $u(()=>r._subscribe({name:l,formState:{values:!0},exact:u,callback:_=>{if(!d){const j=v1(l,r._names,_.values||r._formValues,!1,g.current);if(x.current){const b=x.current(j);Sa(b,v.current)||(C(b),v.current=b)}else C(j)}}}),[r,d,l,u]),Ue.useEffect(()=>r._removeUnmounted()),N}function zL(e){const n=sc(),{name:r,disabled:l,control:o=n.control,shouldUnregister:d,defaultValue:u}=e,m=p1(o._names.array,r),g=Ue.useMemo(()=>Re(o._formValues,r,Re(o._defaultValues,r,u)),[o,r,u]),x=OL({control:o,name:r,defaultValue:g,exact:!0}),v=g1({control:o,name:r,exact:!0}),y=Ue.useRef(e),N=Ue.useRef(o.register(r,{...e.rules,value:x,...sn(e.disabled)?{disabled:e.disabled}:{}}));y.current=e;const C=Ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Re(v.errors,r)},isDirty:{enumerable:!0,get:()=>!!Re(v.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!Re(v.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!Re(v.validatingFields,r)},error:{enumerable:!0,get:()=>Re(v.errors,r)}}),[v,r]),_=Ue.useCallback(D=>N.current.onChange({target:{value:h1(D),name:r},type:Jd.CHANGE}),[r]),j=Ue.useCallback(()=>N.current.onBlur({target:{value:Re(o._formValues,r),name:r},type:Jd.BLUR}),[r,o._formValues]),b=Ue.useCallback(D=>{const S=Re(o._fields,r);S&&D&&(S._f.ref={focus:()=>D.focus&&D.focus(),select:()=>D.select&&D.select(),setCustomValidity:q=>D.setCustomValidity(q),reportValidity:()=>D.reportValidity()})},[o._fields,r]),A=Ue.useMemo(()=>({name:r,value:x,...sn(l)||v.disabled?{disabled:v.disabled||l}:{},onChange:_,onBlur:j,ref:b}),[r,l,v.disabled,_,j,b,x]);return Ue.useEffect(()=>{const D=o._options.shouldUnregister||d;o.register(r,{...y.current.rules,...sn(y.current.disabled)?{disabled:y.current.disabled}:{}});const S=(q,R)=>{const k=Re(o._fields,q);k&&k._f&&(k._f.mount=R)};if(S(r,!0),D){const q=qt(Re(o._options.defaultValues,r));gt(o._defaultValues,r,q),Ut(Re(o._formValues,r))&&gt(o._formValues,r,q)}return!m&&o.register(r),()=>{(m?D&&!o._state.action:D)?o.unregister(r):S(r,!1)}},[r,o,m,d]),Ue.useEffect(()=>{o._setDisabledField({disabled:l,name:r})},[l,r,o]),Ue.useMemo(()=>({field:A,formState:v,fieldState:C}),[A,v,C])}const PL=e=>e.render(zL(e));var kx=(e,n,r,l,o)=>n?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[l]:o||!0}}:{},Bs=e=>Array.isArray(e)?e:[e],hb=()=>{let e=[];return{get observers(){return e},next:o=>{for(const d of e)d.next&&d.next(o)},subscribe:o=>(e.push(o),{unsubscribe:()=>{e=e.filter(d=>d!==o)}}),unsubscribe:()=>{e=[]}}},Ms=e=>as(e)&&!Object.keys(e).length,Mx=e=>e.type==="file",Dn=e=>typeof e=="function",eu=e=>{if(!Ex)return!1;const n=e?e.ownerDocument:0;return e instanceof(n&&n.defaultView?n.defaultView.HTMLElement:HTMLElement)},y1=e=>e.type==="select-multiple",Ox=e=>e.type==="radio",LL=e=>Ox(e)||tc(e),Oh=e=>eu(e)&&e.isConnected;function qL(e,n){const r=n.slice(0,-1).length;let l=0;for(;l<r;)e=Ut(e)?l++:e[n[l++]];return e}function UL(e){for(const n in e)if(e.hasOwnProperty(n)&&!Ut(e[n]))return!1;return!0}function ss(e,n){const r=Array.isArray(n)?n:Uu(n)?[n]:Tx(n),l=r.length===1?e:qL(e,r),o=r.length-1,d=r[o];return l&&delete l[d],o!==0&&(as(l)&&Ms(l)||Array.isArray(l)&&UL(l))&&ss(e,r.slice(0,-1)),e}var j1=e=>{for(const n in e)if(Dn(e[n]))return!0;return!1};function tu(e,n={}){const r=Array.isArray(e);if(as(e)||r)for(const l in e)Array.isArray(e[l])||as(e[l])&&!j1(e[l])?(n[l]=Array.isArray(e[l])?[]:{},tu(e[l],n[l])):Os(e[l])||(n[l]=!0);return n}function b1(e,n,r){const l=Array.isArray(e);if(as(e)||l)for(const o in e)Array.isArray(e[o])||as(e[o])&&!j1(e[o])?Ut(n)||xp(r[o])?r[o]=Array.isArray(e[o])?tu(e[o],[]):{...tu(e[o])}:b1(e[o],Os(n)?{}:n[o],r[o]):r[o]=!Sa(e[o],n[o]);return r}var So=(e,n)=>b1(e,n,tu(n));const pb={value:!1,isValid:!1},xb={value:!0,isValid:!0};var N1=e=>{if(Array.isArray(e)){if(e.length>1){const n=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:n,isValid:!!n.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ut(e[0].attributes.value)?Ut(e[0].value)||e[0].value===""?xb:{value:e[0].value,isValid:!0}:xb:pb}return pb},w1=(e,{valueAsNumber:n,valueAsDate:r,setValueAs:l})=>Ut(e)?e:n?e===""?NaN:e&&+e:r&&Wn(e)?new Date(e):l?l(e):e;const gb={isValid:!1,value:null};var _1=e=>Array.isArray(e)?e.reduce((n,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:n,gb):gb;function vb(e){const n=e.ref;return Mx(n)?n.files:Ox(n)?_1(e.refs).value:y1(n)?[...n.selectedOptions].map(({value:r})=>r):tc(n)?N1(e.refs).value:w1(Ut(n.value)?e.ref.value:n.value,e)}var FL=(e,n,r,l)=>{const o={};for(const d of e){const u=Re(n,d);u&&gt(o,d,u._f)}return{criteriaMode:r,names:[...e],fields:o,shouldUseNativeValidation:l}},su=e=>e instanceof RegExp,Ro=e=>Ut(e)?e:su(e)?e.source:as(e)?su(e.value)?e.value.source:e.value:e,Jl=e=>({isOnSubmit:!e||e===pn.onSubmit,isOnBlur:e===pn.onBlur,isOnChange:e===pn.onChange,isOnAll:e===pn.all,isOnTouch:e===pn.onTouched});const yb="AsyncFunction";var $L=e=>!!e&&!!e.validate&&!!(Dn(e.validate)&&e.validate.constructor.name===yb||as(e.validate)&&Object.values(e.validate).find(n=>n.constructor.name===yb)),VL=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gp=(e,n,r)=>!r&&(n.watchAll||n.watch.has(e)||[...n.watch].some(l=>e.startsWith(l)&&/^\.\w+/.test(e.slice(l.length))));const ni=(e,n,r,l)=>{for(const o of r||Object.keys(e)){const d=Re(e,o);if(d){const{_f:u,...m}=d;if(u){if(u.refs&&u.refs[0]&&n(u.refs[0],o)&&!l)return!0;if(u.ref&&n(u.ref,u.name)&&!l)return!0;if(ni(m,n))break}else if(as(m)&&ni(m,n))break}}};function jb(e,n,r){const l=Re(e,r);if(l||Uu(r))return{error:l,name:r};const o=r.split(".");for(;o.length;){const d=o.join("."),u=Re(n,d),m=Re(e,d);if(u&&!Array.isArray(u)&&r!==d)return{name:r};if(m&&m.type)return{name:d,error:m};if(m&&m.root&&m.root.type)return{name:`${d}.root`,error:m.root};o.pop()}return{name:r}}var IL=(e,n,r,l)=>{r(e);const{name:o,...d}=e;return Ms(d)||Object.keys(d).length>=Object.keys(n).length||Object.keys(d).find(u=>n[u]===(!l||pn.all))},BL=(e,n,r)=>!e||!n||e===n||Bs(e).some(l=>l&&(r?l===n:l.startsWith(n)||n.startsWith(l))),HL=(e,n,r,l,o)=>o.isOnAll?!1:!r&&o.isOnTouch?!(n||e):(r?l.isOnBlur:o.isOnBlur)?!e:(r?l.isOnChange:o.isOnChange)?e:!0,ZL=(e,n)=>!Fu(Re(e,n)).length&&ss(e,n),S1=(e,n,r)=>{const l=Bs(Re(e,r));return gt(l,"root",n[r]),gt(e,r,l),e},qd=e=>Wn(e);function bb(e,n,r="validate"){if(qd(e)||Array.isArray(e)&&e.every(qd)||sn(e)&&!e)return{type:r,message:qd(e)?e:"",ref:n}}var Xl=e=>as(e)&&!su(e)?e:{value:e,message:""},vp=async(e,n,r,l,o,d)=>{const{ref:u,refs:m,required:g,maxLength:x,minLength:v,min:y,max:N,pattern:C,validate:_,name:j,valueAsNumber:b,mount:A}=e._f,D=Re(r,j);if(!A||n.has(j))return{};const S=m?m[0]:u,q=O=>{o&&S.reportValidity&&(S.setCustomValidity(sn(O)?"":O||""),S.reportValidity())},R={},k=Ox(u),$=tc(u),M=k||$,Q=(b||Mx(u))&&Ut(u.value)&&Ut(D)||eu(u)&&u.value===""||D===""||Array.isArray(D)&&!D.length,Z=kx.bind(null,j,l,R),z=(O,Y,B,P=_a.maxLength,L=_a.minLength)=>{const X=O?Y:B;R[j]={type:O?P:L,message:X,ref:u,...Z(O?P:L,X)}};if(d?!Array.isArray(D)||!D.length:g&&(!M&&(Q||Os(D))||sn(D)&&!D||$&&!N1(m).isValid||k&&!_1(m).isValid)){const{value:O,message:Y}=qd(g)?{value:!!g,message:g}:Xl(g);if(O&&(R[j]={type:_a.required,message:Y,ref:S,...Z(_a.required,Y)},!l))return q(Y),R}if(!Q&&(!Os(y)||!Os(N))){let O,Y;const B=Xl(N),P=Xl(y);if(!Os(D)&&!isNaN(D)){const L=u.valueAsNumber||D&&+D;Os(B.value)||(O=L>B.value),Os(P.value)||(Y=L<P.value)}else{const L=u.valueAsDate||new Date(D),X=U=>new Date(new Date().toDateString()+" "+U),H=u.type=="time",ie=u.type=="week";Wn(B.value)&&D&&(O=H?X(D)>X(B.value):ie?D>B.value:L>new Date(B.value)),Wn(P.value)&&D&&(Y=H?X(D)<X(P.value):ie?D<P.value:L<new Date(P.value))}if((O||Y)&&(z(!!O,B.message,P.message,_a.max,_a.min),!l))return q(R[j].message),R}if((x||v)&&!Q&&(Wn(D)||d&&Array.isArray(D))){const O=Xl(x),Y=Xl(v),B=!Os(O.value)&&D.length>+O.value,P=!Os(Y.value)&&D.length<+Y.value;if((B||P)&&(z(B,O.message,Y.message),!l))return q(R[j].message),R}if(C&&!Q&&Wn(D)){const{value:O,message:Y}=Xl(C);if(su(O)&&!D.match(O)&&(R[j]={type:_a.pattern,message:Y,ref:u,...Z(_a.pattern,Y)},!l))return q(Y),R}if(_){if(Dn(_)){const O=await _(D,r),Y=bb(O,S);if(Y&&(R[j]={...Y,...Z(_a.validate,Y.message)},!l))return q(Y.message),R}else if(as(_)){let O={};for(const Y in _){if(!Ms(O)&&!l)break;const B=bb(await _[Y](D,r),S,Y);B&&(O={...B,...Z(Y,B.message)},q(B.message),l&&(R[j]=O))}if(!Ms(O)&&(R[j]={ref:S,...O},!l))return R}}return q(!0),R};const GL={mode:pn.onSubmit,reValidateMode:pn.onChange,shouldFocusError:!0};function YL(e={}){let n={...GL,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dn(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},l={},o=as(n.defaultValues)||as(n.values)?qt(n.defaultValues||n.values)||{}:{},d=n.shouldUnregister?{}:qt(o),u={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,x=0;const v={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...v};const N={array:hb(),state:hb()},C=n.criteriaMode===pn.all,_=V=>te=>{clearTimeout(x),x=setTimeout(V,te)},j=async V=>{if(!n.disabled&&(v.isValid||y.isValid||V)){const te=n.resolver?Ms((await $()).errors):await Q(l,!0);te!==r.isValid&&N.state.next({isValid:te})}},b=(V,te)=>{!n.disabled&&(v.isValidating||v.validatingFields||y.isValidating||y.validatingFields)&&((V||Array.from(m.mount)).forEach(xe=>{xe&&(te?gt(r.validatingFields,xe,te):ss(r.validatingFields,xe))}),N.state.next({validatingFields:r.validatingFields,isValidating:!Ms(r.validatingFields)}))},A=(V,te=[],xe,ke,Ae=!0,_e=!0)=>{if(ke&&xe&&!n.disabled){if(u.action=!0,_e&&Array.isArray(Re(l,V))){const $e=xe(Re(l,V),ke.argA,ke.argB);Ae&&gt(l,V,$e)}if(_e&&Array.isArray(Re(r.errors,V))){const $e=xe(Re(r.errors,V),ke.argA,ke.argB);Ae&&gt(r.errors,V,$e),ZL(r.errors,V)}if((v.touchedFields||y.touchedFields)&&_e&&Array.isArray(Re(r.touchedFields,V))){const $e=xe(Re(r.touchedFields,V),ke.argA,ke.argB);Ae&&gt(r.touchedFields,V,$e)}(v.dirtyFields||y.dirtyFields)&&(r.dirtyFields=So(o,d)),N.state.next({name:V,isDirty:z(V,te),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else gt(d,V,te)},D=(V,te)=>{gt(r.errors,V,te),N.state.next({errors:r.errors})},S=V=>{r.errors=V,N.state.next({errors:r.errors,isValid:!1})},q=(V,te,xe,ke)=>{const Ae=Re(l,V);if(Ae){const _e=Re(d,V,Ut(xe)?Re(o,V):xe);Ut(_e)||ke&&ke.defaultChecked||te?gt(d,V,te?_e:vb(Ae._f)):B(V,_e),u.mount&&j()}},R=(V,te,xe,ke,Ae)=>{let _e=!1,$e=!1;const We={name:V};if(!n.disabled){if(!xe||ke){(v.isDirty||y.isDirty)&&($e=r.isDirty,r.isDirty=We.isDirty=z(),_e=$e!==We.isDirty);const ct=Sa(Re(o,V),te);$e=!!Re(r.dirtyFields,V),ct?ss(r.dirtyFields,V):gt(r.dirtyFields,V,!0),We.dirtyFields=r.dirtyFields,_e=_e||(v.dirtyFields||y.dirtyFields)&&$e!==!ct}if(xe){const ct=Re(r.touchedFields,V);ct||(gt(r.touchedFields,V,xe),We.touchedFields=r.touchedFields,_e=_e||(v.touchedFields||y.touchedFields)&&ct!==xe)}_e&&Ae&&N.state.next(We)}return _e?We:{}},k=(V,te,xe,ke)=>{const Ae=Re(r.errors,V),_e=(v.isValid||y.isValid)&&sn(te)&&r.isValid!==te;if(n.delayError&&xe?(g=_(()=>D(V,xe)),g(n.delayError)):(clearTimeout(x),g=null,xe?gt(r.errors,V,xe):ss(r.errors,V)),(xe?!Sa(Ae,xe):Ae)||!Ms(ke)||_e){const $e={...ke,..._e&&sn(te)?{isValid:te}:{},errors:r.errors,name:V};r={...r,...$e},N.state.next($e)}},$=async V=>{b(V,!0);const te=await n.resolver(d,n.context,FL(V||m.mount,l,n.criteriaMode,n.shouldUseNativeValidation));return b(V),te},M=async V=>{const{errors:te}=await $(V);if(V)for(const xe of V){const ke=Re(te,xe);ke?gt(r.errors,xe,ke):ss(r.errors,xe)}else r.errors=te;return te},Q=async(V,te,xe={valid:!0})=>{for(const ke in V){const Ae=V[ke];if(Ae){const{_f:_e,...$e}=Ae;if(_e){const We=m.array.has(_e.name),ct=Ae._f&&$L(Ae._f);ct&&v.validatingFields&&b([ke],!0);const Ot=await vp(Ae,m.disabled,d,C,n.shouldUseNativeValidation&&!te,We);if(ct&&v.validatingFields&&b([ke]),Ot[_e.name]&&(xe.valid=!1,te))break;!te&&(Re(Ot,_e.name)?We?S1(r.errors,Ot,_e.name):gt(r.errors,_e.name,Ot[_e.name]):ss(r.errors,_e.name))}!Ms($e)&&await Q($e,te,xe)}}return xe.valid},Z=()=>{for(const V of m.unMount){const te=Re(l,V);te&&(te._f.refs?te._f.refs.every(xe=>!Oh(xe)):!Oh(te._f.ref))&&me(V)}m.unMount=new Set},z=(V,te)=>!n.disabled&&(V&&te&&gt(d,V,te),!Sa(U(),o)),O=(V,te,xe)=>v1(V,m,{...u.mount?d:Ut(te)?o:Wn(V)?{[V]:te}:te},xe,te),Y=V=>Fu(Re(u.mount?d:o,V,n.shouldUnregister?Re(o,V,[]):[])),B=(V,te,xe={})=>{const ke=Re(l,V);let Ae=te;if(ke){const _e=ke._f;_e&&(!_e.disabled&&gt(d,V,w1(te,_e)),Ae=eu(_e.ref)&&Os(te)?"":te,y1(_e.ref)?[..._e.ref.options].forEach($e=>$e.selected=Ae.includes($e.value)):_e.refs?tc(_e.ref)?_e.refs.forEach($e=>{(!$e.defaultChecked||!$e.disabled)&&(Array.isArray(Ae)?$e.checked=!!Ae.find(We=>We===$e.value):$e.checked=Ae===$e.value||!!Ae)}):_e.refs.forEach($e=>$e.checked=$e.value===Ae):Mx(_e.ref)?_e.ref.value="":(_e.ref.value=Ae,_e.ref.type||N.state.next({name:V,values:qt(d)})))}(xe.shouldDirty||xe.shouldTouch)&&R(V,Ae,xe.shouldTouch,xe.shouldDirty,!0),xe.shouldValidate&&ie(V)},P=(V,te,xe)=>{for(const ke in te){if(!te.hasOwnProperty(ke))return;const Ae=te[ke],_e=V+"."+ke,$e=Re(l,_e);(m.array.has(V)||as(Ae)||$e&&!$e._f)&&!Ur(Ae)?P(_e,Ae,xe):B(_e,Ae,xe)}},L=(V,te,xe={})=>{const ke=Re(l,V),Ae=m.array.has(V),_e=qt(te);gt(d,V,_e),Ae?(N.array.next({name:V,values:qt(d)}),(v.isDirty||v.dirtyFields||y.isDirty||y.dirtyFields)&&xe.shouldDirty&&N.state.next({name:V,dirtyFields:So(o,d),isDirty:z(V,_e)})):ke&&!ke._f&&!Os(_e)?P(V,_e,xe):B(V,_e,xe),gp(V,m)&&N.state.next({...r,name:V}),N.state.next({name:u.mount?V:void 0,values:qt(d)})},X=async V=>{u.mount=!0;const te=V.target;let xe=te.name,ke=!0;const Ae=Re(l,xe),_e=ct=>{ke=Number.isNaN(ct)||Ur(ct)&&isNaN(ct.getTime())||Sa(ct,Re(d,xe,ct))},$e=Jl(n.mode),We=Jl(n.reValidateMode);if(Ae){let ct,Ot;const rl=te.type?vb(Ae._f):h1(V),In=V.type===Jd.BLUR||V.type===Jd.FOCUS_OUT,Yu=!VL(Ae._f)&&!n.resolver&&!Re(r.errors,xe)&&!Ae._f.deps||HL(In,Re(r.touchedFields,xe),r.isSubmitted,We,$e),Ma=gp(xe,m,In);gt(d,xe,rl),In?(!te||!te.readOnly)&&(Ae._f.onBlur&&Ae._f.onBlur(V),g&&g(0)):Ae._f.onChange&&Ae._f.onChange(V);const Oa=R(xe,rl,In),ia=!Ms(Oa)||Ma;if(!In&&N.state.next({name:xe,type:V.type,values:qt(d)}),Yu)return(v.isValid||y.isValid)&&(n.mode==="onBlur"?In&&j():In||j()),ia&&N.state.next({name:xe,...Ma?{}:Oa});if(!In&&Ma&&N.state.next({...r}),n.resolver){const{errors:vr}=await $([xe]);if(_e(rl),ke){const yr=jb(r.errors,l,xe),ac=jb(vr,l,yr.name||xe);ct=ac.error,xe=ac.name,Ot=Ms(vr)}}else b([xe],!0),ct=(await vp(Ae,m.disabled,d,C,n.shouldUseNativeValidation))[xe],b([xe]),_e(rl),ke&&(ct?Ot=!1:(v.isValid||y.isValid)&&(Ot=await Q(l,!0)));ke&&(Ae._f.deps&&ie(Ae._f.deps),k(xe,Ot,ct,Oa))}},H=(V,te)=>{if(Re(r.errors,te)&&V.focus)return V.focus(),1},ie=async(V,te={})=>{let xe,ke;const Ae=Bs(V);if(n.resolver){const _e=await M(Ut(V)?V:Ae);xe=Ms(_e),ke=V?!Ae.some($e=>Re(_e,$e)):xe}else V?(ke=(await Promise.all(Ae.map(async _e=>{const $e=Re(l,_e);return await Q($e&&$e._f?{[_e]:$e}:$e)}))).every(Boolean),!(!ke&&!r.isValid)&&j()):ke=xe=await Q(l);return N.state.next({...!Wn(V)||(v.isValid||y.isValid)&&xe!==r.isValid?{}:{name:V},...n.resolver||!V?{isValid:xe}:{},errors:r.errors}),te.shouldFocus&&!ke&&ni(l,H,V?Ae:m.mount),ke},U=V=>{const te={...u.mount?d:o};return Ut(V)?te:Wn(V)?Re(te,V):V.map(xe=>Re(te,xe))},le=(V,te)=>({invalid:!!Re((te||r).errors,V),isDirty:!!Re((te||r).dirtyFields,V),error:Re((te||r).errors,V),isValidating:!!Re(r.validatingFields,V),isTouched:!!Re((te||r).touchedFields,V)}),K=V=>{V&&Bs(V).forEach(te=>ss(r.errors,te)),N.state.next({errors:V?r.errors:{}})},F=(V,te,xe)=>{const ke=(Re(l,V,{_f:{}})._f||{}).ref,Ae=Re(r.errors,V)||{},{ref:_e,message:$e,type:We,...ct}=Ae;gt(r.errors,V,{...ct,...te,ref:ke}),N.state.next({name:V,errors:r.errors,isValid:!1}),xe&&xe.shouldFocus&&ke&&ke.focus&&ke.focus()},T=(V,te)=>Dn(V)?N.state.subscribe({next:xe=>"values"in xe&&V(O(void 0,te),xe)}):O(V,te,!0),re=V=>N.state.subscribe({next:te=>{BL(V.name,te.name,V.exact)&&IL(te,V.formState||v,De,V.reRenderRoot)&&V.callback({values:{...d},...r,...te,defaultValues:o})}}).unsubscribe,ne=V=>(u.mount=!0,y={...y,...V.formState},re({...V,formState:y})),me=(V,te={})=>{for(const xe of V?Bs(V):m.mount)m.mount.delete(xe),m.array.delete(xe),te.keepValue||(ss(l,xe),ss(d,xe)),!te.keepError&&ss(r.errors,xe),!te.keepDirty&&ss(r.dirtyFields,xe),!te.keepTouched&&ss(r.touchedFields,xe),!te.keepIsValidating&&ss(r.validatingFields,xe),!n.shouldUnregister&&!te.keepDefaultValue&&ss(o,xe);N.state.next({values:qt(d)}),N.state.next({...r,...te.keepDirty?{isDirty:z()}:{}}),!te.keepIsValid&&j()},Ne=({disabled:V,name:te})=>{(sn(V)&&u.mount||V||m.disabled.has(te))&&(V?m.disabled.add(te):m.disabled.delete(te))},ve=(V,te={})=>{let xe=Re(l,V);const ke=sn(te.disabled)||sn(n.disabled);return gt(l,V,{...xe||{},_f:{...xe&&xe._f?xe._f:{ref:{name:V}},name:V,mount:!0,...te}}),m.mount.add(V),xe?Ne({disabled:sn(te.disabled)?te.disabled:n.disabled,name:V}):q(V,!0,te.value),{...ke?{disabled:te.disabled||n.disabled}:{},...n.progressive?{required:!!te.required,min:Ro(te.min),max:Ro(te.max),minLength:Ro(te.minLength),maxLength:Ro(te.maxLength),pattern:Ro(te.pattern)}:{},name:V,onChange:X,onBlur:X,ref:Ae=>{if(Ae){ve(V,te),xe=Re(l,V);const _e=Ut(Ae.value)&&Ae.querySelectorAll&&Ae.querySelectorAll("input,select,textarea")[0]||Ae,$e=LL(_e),We=xe._f.refs||[];if($e?We.find(ct=>ct===_e):_e===xe._f.ref)return;gt(l,V,{_f:{...xe._f,...$e?{refs:[...We.filter(Oh),_e,...Array.isArray(Re(o,V))?[{}]:[]],ref:{type:_e.type,name:V}}:{ref:_e}}}),q(V,!1,void 0,_e)}else xe=Re(l,V,{}),xe._f&&(xe._f.mount=!1),(n.shouldUnregister||te.shouldUnregister)&&!(p1(m.array,V)&&u.action)&&m.unMount.add(V)}}},he=()=>n.shouldFocusError&&ni(l,H,m.mount),ce=V=>{sn(V)&&(N.state.next({disabled:V}),ni(l,(te,xe)=>{const ke=Re(l,xe);ke&&(te.disabled=ke._f.disabled||V,Array.isArray(ke._f.refs)&&ke._f.refs.forEach(Ae=>{Ae.disabled=ke._f.disabled||V}))},0,!1))},Te=(V,te)=>async xe=>{let ke;xe&&(xe.preventDefault&&xe.preventDefault(),xe.persist&&xe.persist());let Ae=qt(d);if(N.state.next({isSubmitting:!0}),n.resolver){const{errors:_e,values:$e}=await $();r.errors=_e,Ae=qt($e)}else await Q(l);if(m.disabled.size)for(const _e of m.disabled)ss(Ae,_e);if(ss(r.errors,"root"),Ms(r.errors)){N.state.next({errors:{}});try{await V(Ae,xe)}catch(_e){ke=_e}}else te&&await te({...r.errors},xe),he(),setTimeout(he);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ms(r.errors)&&!ke,submitCount:r.submitCount+1,errors:r.errors}),ke)throw ke},bt=(V,te={})=>{Re(l,V)&&(Ut(te.defaultValue)?L(V,qt(Re(o,V))):(L(V,te.defaultValue),gt(o,V,qt(te.defaultValue))),te.keepTouched||ss(r.touchedFields,V),te.keepDirty||(ss(r.dirtyFields,V),r.isDirty=te.defaultValue?z(V,qt(Re(o,V))):z()),te.keepError||(ss(r.errors,V),v.isValid&&j()),N.state.next({...r}))},xs=(V,te={})=>{const xe=V?qt(V):o,ke=qt(xe),Ae=Ms(V),_e=Ae?o:ke;if(te.keepDefaultValues||(o=xe),!te.keepValues){if(te.keepDirtyValues){const $e=new Set([...m.mount,...Object.keys(So(o,d))]);for(const We of Array.from($e))Re(r.dirtyFields,We)?gt(_e,We,Re(d,We)):L(We,Re(_e,We))}else{if(Ex&&Ut(V))for(const $e of m.mount){const We=Re(l,$e);if(We&&We._f){const ct=Array.isArray(We._f.refs)?We._f.refs[0]:We._f.ref;if(eu(ct)){const Ot=ct.closest("form");if(Ot){Ot.reset();break}}}}if(te.keepFieldsRef)for(const $e of m.mount)L($e,Re(_e,$e));else l={}}d=n.shouldUnregister?te.keepDefaultValues?qt(o):{}:qt(_e),N.array.next({values:{..._e}}),N.state.next({values:{..._e}})}m={mount:te.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!v.isValid||!!te.keepIsValid||!!te.keepDirtyValues,u.watch=!!n.shouldUnregister,N.state.next({submitCount:te.keepSubmitCount?r.submitCount:0,isDirty:Ae?!1:te.keepDirty?r.isDirty:!!(te.keepDefaultValues&&!Sa(V,o)),isSubmitted:te.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Ae?{}:te.keepDirtyValues?te.keepDefaultValues&&d?So(o,d):r.dirtyFields:te.keepDefaultValues&&V?So(o,V):te.keepDirty?r.dirtyFields:{},touchedFields:te.keepTouched?r.touchedFields:{},errors:te.keepErrors?r.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:o})},je=(V,te)=>xs(Dn(V)?V(d):V,te),qe=(V,te={})=>{const xe=Re(l,V),ke=xe&&xe._f;if(ke){const Ae=ke.refs?ke.refs[0]:ke.ref;Ae.focus&&(Ae.focus(),te.shouldSelect&&Dn(Ae.select)&&Ae.select())}},De=V=>{r={...r,...V}},Rs={control:{register:ve,unregister:me,getFieldState:le,handleSubmit:Te,setError:F,_subscribe:re,_runSchema:$,_focusError:he,_getWatch:O,_getDirty:z,_setValid:j,_setFieldArray:A,_setDisabledField:Ne,_setErrors:S,_getFieldArray:Y,_reset:xs,_resetDefaultValues:()=>Dn(n.defaultValues)&&n.defaultValues().then(V=>{je(V,n.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:Z,_disableForm:ce,_subjects:N,_proxyFormState:v,get _fields(){return l},get _formValues(){return d},get _state(){return u},set _state(V){u=V},get _defaultValues(){return o},get _names(){return m},set _names(V){m=V},get _formState(){return r},get _options(){return n},set _options(V){n={...n,...V}}},subscribe:ne,trigger:ie,register:ve,handleSubmit:Te,watch:T,setValue:L,getValues:U,reset:je,resetField:bt,clearErrors:K,unregister:me,setError:F,setFocus:qe,getFieldState:le};return{...Rs,formControl:Rs}}var rr=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{const r=(Math.random()*16+e)%16|0;return(n=="x"?r:r&3|8).toString(16)})},zh=(e,n,r={})=>r.shouldFocus||Ut(r.shouldFocus)?r.focusName||`${e}.${Ut(r.focusIndex)?n:r.focusIndex}.`:"",Ph=(e,n)=>[...e,...Bs(n)],Lh=e=>Array.isArray(e)?e.map(()=>{}):void 0;function qh(e,n,r){return[...e.slice(0,n),...Bs(r),...e.slice(n)]}var Uh=(e,n,r)=>Array.isArray(e)?(Ut(e[r])&&(e[r]=void 0),e.splice(r,0,e.splice(n,1)[0]),e):[],Fh=(e,n)=>[...Bs(n),...Bs(e)];function XL(e,n){let r=0;const l=[...e];for(const o of n)l.splice(o-r,1),r++;return Fu(l).length?l:[]}var $h=(e,n)=>Ut(n)?[]:XL(e,Bs(n).sort((r,l)=>r-l)),Vh=(e,n,r)=>{[e[n],e[r]]=[e[r],e[n]]},Nb=(e,n,r)=>(e[n]=r,e);function KL(e){const n=sc(),{control:r=n.control,name:l,keyName:o="id",shouldUnregister:d,rules:u}=e,[m,g]=Ue.useState(r._getFieldArray(l)),x=Ue.useRef(r._getFieldArray(l).map(rr)),v=Ue.useRef(m),y=Ue.useRef(!1);v.current=m,r._names.array.add(l),Ue.useMemo(()=>u&&r.register(l,u),[r,u,l]),$u(()=>r._subjects.array.subscribe({next:({values:R,name:k})=>{if(k===l||!k){const $=Re(R,l);Array.isArray($)&&(g($),x.current=$.map(rr))}}}).unsubscribe,[r,l]);const N=Ue.useCallback(R=>{y.current=!0,r._setFieldArray(l,R)},[r,l]),C=(R,k)=>{const $=Bs(qt(R)),M=Ph(r._getFieldArray(l),$);r._names.focus=zh(l,M.length-1,k),x.current=Ph(x.current,$.map(rr)),N(M),g(M),r._setFieldArray(l,M,Ph,{argA:Lh(R)})},_=(R,k)=>{const $=Bs(qt(R)),M=Fh(r._getFieldArray(l),$);r._names.focus=zh(l,0,k),x.current=Fh(x.current,$.map(rr)),N(M),g(M),r._setFieldArray(l,M,Fh,{argA:Lh(R)})},j=R=>{const k=$h(r._getFieldArray(l),R);x.current=$h(x.current,R),N(k),g(k),!Array.isArray(Re(r._fields,l))&&gt(r._fields,l,void 0),r._setFieldArray(l,k,$h,{argA:R})},b=(R,k,$)=>{const M=Bs(qt(k)),Q=qh(r._getFieldArray(l),R,M);r._names.focus=zh(l,R,$),x.current=qh(x.current,R,M.map(rr)),N(Q),g(Q),r._setFieldArray(l,Q,qh,{argA:R,argB:Lh(k)})},A=(R,k)=>{const $=r._getFieldArray(l);Vh($,R,k),Vh(x.current,R,k),N($),g($),r._setFieldArray(l,$,Vh,{argA:R,argB:k},!1)},D=(R,k)=>{const $=r._getFieldArray(l);Uh($,R,k),Uh(x.current,R,k),N($),g($),r._setFieldArray(l,$,Uh,{argA:R,argB:k},!1)},S=(R,k)=>{const $=qt(k),M=Nb(r._getFieldArray(l),R,$);x.current=[...M].map((Q,Z)=>!Q||Z===R?rr():x.current[Z]),N(M),g([...M]),r._setFieldArray(l,M,Nb,{argA:R,argB:$},!0,!1)},q=R=>{const k=Bs(qt(R));x.current=k.map(rr),N([...k]),g([...k]),r._setFieldArray(l,[...k],$=>$,{},!0,!1)};return Ue.useEffect(()=>{if(r._state.action=!1,gp(l,r._names)&&r._subjects.state.next({...r._formState}),y.current&&(!Jl(r._options.mode).isOnSubmit||r._formState.isSubmitted)&&!Jl(r._options.reValidateMode).isOnSubmit)if(r._options.resolver)r._runSchema([l]).then(R=>{const k=Re(R.errors,l),$=Re(r._formState.errors,l);($?!k&&$.type||k&&($.type!==k.type||$.message!==k.message):k&&k.type)&&(k?gt(r._formState.errors,l,k):ss(r._formState.errors,l),r._subjects.state.next({errors:r._formState.errors}))});else{const R=Re(r._fields,l);R&&R._f&&!(Jl(r._options.reValidateMode).isOnSubmit&&Jl(r._options.mode).isOnSubmit)&&vp(R,r._names.disabled,r._formValues,r._options.criteriaMode===pn.all,r._options.shouldUseNativeValidation,!0).then(k=>!Ms(k)&&r._subjects.state.next({errors:S1(r._formState.errors,k,l)}))}r._subjects.state.next({name:l,values:qt(r._formValues)}),r._names.focus&&ni(r._fields,(R,k)=>{if(r._names.focus&&k.startsWith(r._names.focus)&&R.focus)return R.focus(),1}),r._names.focus="",r._setValid(),y.current=!1},[m,l,r]),Ue.useEffect(()=>(!Re(r._formValues,l)&&r._setFieldArray(l),()=>{const R=(k,$)=>{const M=Re(r._fields,k);M&&M._f&&(M._f.mount=$)};r._options.shouldUnregister||d?r.unregister(l):R(l,!1)}),[l,r,o,d]),{swap:Ue.useCallback(A,[N,l,r]),move:Ue.useCallback(D,[N,l,r]),prepend:Ue.useCallback(_,[N,l,r]),append:Ue.useCallback(C,[N,l,r]),remove:Ue.useCallback(j,[N,l,r]),insert:Ue.useCallback(b,[N,l,r]),update:Ue.useCallback(S,[N,l,r]),replace:Ue.useCallback(q,[N,l,r]),fields:Ue.useMemo(()=>m.map((R,k)=>({...R,[o]:x.current[k]||rr()})),[m,o])}}function sa(e={}){const n=Ue.useRef(void 0),r=Ue.useRef(void 0),[l,o]=Ue.useState({isDirty:!1,isValidating:!1,isLoading:Dn(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Dn(e.defaultValues)?void 0:e.defaultValues});if(!n.current)if(e.formControl)n.current={...e.formControl,formState:l},e.defaultValues&&!Dn(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:u,...m}=YL(e);n.current={...m,formState:l}}const d=n.current.control;return d._options=e,$u(()=>{const u=d._subscribe({formState:d._proxyFormState,callback:()=>o({...d._formState}),reRenderRoot:!0});return o(m=>({...m,isReady:!0})),d._formState.isReady=!0,u},[d]),Ue.useEffect(()=>d._disableForm(e.disabled),[d,e.disabled]),Ue.useEffect(()=>{e.mode&&(d._options.mode=e.mode),e.reValidateMode&&(d._options.reValidateMode=e.reValidateMode)},[d,e.mode,e.reValidateMode]),Ue.useEffect(()=>{e.errors&&(d._setErrors(e.errors),d._focusError())},[d,e.errors]),Ue.useEffect(()=>{e.shouldUnregister&&d._subjects.state.next({values:d._getWatch()})},[d,e.shouldUnregister]),Ue.useEffect(()=>{if(d._proxyFormState.isDirty){const u=d._getDirty();u!==l.isDirty&&d._subjects.state.next({isDirty:u})}},[d,l.isDirty]),Ue.useEffect(()=>{e.values&&!Sa(e.values,r.current)?(d._reset(e.values,{keepFieldsRef:!0,...d._options.resetOptions}),r.current=e.values,o(u=>({...u}))):d._resetDefaultValues()},[d,e.values]),Ue.useEffect(()=>{d._state.mount||(d._setValid(),d._state.mount=!0),d._state.watch&&(d._state.watch=!1,d._subjects.state.next({...d._formState})),d._removeUnmounted()}),n.current.formState=x1(l,d),n.current}const wb=(e,n,r)=>{if(e&&"reportValidity"in e){const l=Re(r,n);e.setCustomValidity(l&&l.message||""),e.reportValidity()}},yp=(e,n)=>{for(const r in n.fields){const l=n.fields[r];l&&l.ref&&"reportValidity"in l.ref?wb(l.ref,r,e):l&&l.refs&&l.refs.forEach(o=>wb(o,r,e))}},_b=(e,n)=>{n.shouldUseNativeValidation&&yp(e,n);const r={};for(const l in e){const o=Re(n.fields,l),d=Object.assign(e[l]||{},{ref:o&&o.ref});if(QL(n.names||Object.keys(e),l)){const u=Object.assign({},Re(r,l));gt(u,"root",d),gt(r,l,u)}else gt(r,l,d)}return r},QL=(e,n)=>{const r=Sb(n);return e.some(l=>Sb(l).match(`^${r}\\.\\d+`))};function Sb(e){return e.replace(/\]|\[/g,"")}function Rb(e,n){try{var r=e()}catch(l){return n(l)}return r&&r.then?r.then(void 0,n):r}function WL(e,n){for(var r={};e.length;){var l=e[0],o=l.code,d=l.message,u=l.path.join(".");if(!r[u])if("unionErrors"in l){var m=l.unionErrors[0].errors[0];r[u]={message:m.message,type:m.code}}else r[u]={message:d,type:o};if("unionErrors"in l&&l.unionErrors.forEach(function(v){return v.errors.forEach(function(y){return e.push(y)})}),n){var g=r[u].types,x=g&&g[l.code];r[u]=kx(u,n,r,o,x?[].concat(x,l.message):l.message)}e.shift()}return r}function JL(e,n){for(var r={};e.length;){var l=e[0],o=l.code,d=l.message,u=l.path.join(".");if(!r[u])if(l.code==="invalid_union"&&l.errors.length>0){var m=l.errors[0][0];r[u]={message:m.message,type:m.code}}else r[u]={message:d,type:o};if(l.code==="invalid_union"&&l.errors.forEach(function(v){return v.forEach(function(y){return e.push(y)})}),n){var g=r[u].types,x=g&&g[l.code];r[u]=kx(u,n,r,o,x?[].concat(x,l.message):l.message)}e.shift()}return r}function na(e,n,r){if(r===void 0&&(r={}),(function(l){return"_def"in l&&typeof l._def=="object"&&"typeName"in l._def})(e))return function(l,o,d){try{return Promise.resolve(Rb(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](l,n)).then(function(u){return d.shouldUseNativeValidation&&yp({},d),{errors:{},values:r.raw?Object.assign({},l):u}})},function(u){if((function(m){return Array.isArray(m?.issues)})(u))return{values:{},errors:_b(WL(u.errors,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw u}))}catch(u){return Promise.reject(u)}};if((function(l){return"_zod"in l&&typeof l._zod=="object"})(e))return function(l,o,d){try{return Promise.resolve(Rb(function(){return Promise.resolve((r.mode==="sync"?XO:KO)(e,l,n)).then(function(u){return d.shouldUseNativeValidation&&yp({},d),{errors:{},values:r.raw?Object.assign({},l):u}})},function(u){if((function(m){return m instanceof Rx})(u))return{values:{},errors:_b(JL(u.issues,!d.shouldUseNativeValidation&&d.criteriaMode==="all"),d)};throw u}))}catch(u){return Promise.reject(u)}};throw new Error("Invalid input: not a Zod schema")}const e8=wn({current_password:kt().min(1,"Current password is required"),new_password:kt().min(1,"New password is required"),confirm_password:kt().min(1,"Please confirm your new password")}).refine(e=>e.new_password===e.confirm_password,{message:"Passwords don't match",path:["confirm_password"]});function t8({open:e,onOpenChange:n}){const{refreshUser:r}=Yt(),{toast:l}=sl(),[o,d]=p.useState(!1),[u,m]=p.useState(!1),[g,x]=p.useState(!1),[v,y]=p.useState(!1),{register:N,handleSubmit:C,reset:_,formState:{errors:j}}=sa({resolver:na(e8)}),b=async D=>{try{y(!0),(await Wl.changePassword({current_password:D.current_password,new_password:D.new_password})).success&&(l({title:"Password Changed",description:"Your password has been changed successfully."}),await r(),n(!1),_())}catch(S){l({title:"Error",description:S.response?.data?.message||"Failed to change password",variant:"destructive"})}finally{y(!1)}},A=()=>{v||(n(!1),_())};return t.jsx(qn,{open:e,onOpenChange:A,children:t.jsxs(vn,{className:"sm:max-w-md",children:[t.jsxs(yn,{children:[t.jsxs(bn,{className:"flex items-center gap-2",children:[t.jsx(MN,{className:"h-5 w-5"}),"Change Password"]}),t.jsx(Nn,{children:"You are required to change your password before continuing. Please enter your current password and choose a new one."})]}),t.jsxs($s,{className:"mb-4",children:[t.jsx(kn,{className:"h-4 w-4"}),t.jsxs(Vs,{children:[t.jsx("strong",{children:"Important:"})," This is your first login. You must change your password to continue using the system."]})]}),t.jsxs("form",{onSubmit:C(b),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"current_password",children:"Current Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ft,{id:"current_password",type:o?"text":"password",...N("current_password"),placeholder:"Enter your current password",className:"pr-10"}),t.jsx(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!o),children:o?t.jsx(Od,{className:"h-4 w-4"}):t.jsx(ei,{className:"h-4 w-4"})})]}),j.current_password&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.current_password.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"new_password",children:"New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ft,{id:"new_password",type:u?"text":"password",...N("new_password"),placeholder:"Enter your new password",className:"pr-10"}),t.jsx(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>m(!u),children:u?t.jsx(Od,{className:"h-4 w-4"}):t.jsx(ei,{className:"h-4 w-4"})})]}),j.new_password&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.new_password.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"confirm_password",children:"Confirm New Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ft,{id:"confirm_password",type:g?"text":"password",...N("confirm_password"),placeholder:"Confirm your new password",className:"pr-10"}),t.jsx(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!g),children:g?t.jsx(Od,{className:"h-4 w-4"}):t.jsx(ei,{className:"h-4 w-4"})})]}),j.confirm_password&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:j.confirm_password.message})]}),t.jsx(jn,{children:t.jsx(de,{type:"submit",disabled:v,className:"w-full",children:v?"Changing Password...":"Change Password"})})]})]})})}const s8={"/dashboard":"Dashboard","/my-requests":"My Case Notes","/requests/search":"Search Requests","/batch-requests":"Batch Case Notes","/verify-case-notes":"Verify Case Notes","/return-case-notes":"Return Case Notes","/mrs-case-note-requests":"MR Staff Case Note Requests","/mrs-returned-case-notes":"Returned Case Notes","/case-note-timeline":"Case Note Timeline","/admin/patients":"Patient Management","/admin/doctors":"Doctor Management","/users":"User Management","/settings":"Settings","/reports":"Reports & Analytics","/handover-requests":"Handover Requests"};function n8(){const[e,n]=p.useState(!1),[r,l]=p.useState(!1),{user:o,logout:d,hasRole:u,hasPermission:m}=Yt(),g=Fn();p.useEffect(()=>{o?.needs_password_change&&l(!0)},[o?.needs_password_change]);const v=[{name:"Dashboard",href:"/dashboard",icon:kN,roles:["CA","MR_STAFF","ADMIN"]},{name:"MR Staff Case Note Requests",href:"/mrs-case-note-requests",icon:Je,roles:["MR_STAFF"]},{name:"Case Note Timeline",href:"/case-note-timeline",icon:rt,roles:["MR_STAFF"]},{name:"Returned Case Notes",href:"/mrs-returned-case-notes",icon:ri,roles:["MR_STAFF"]},{name:"My Case Notes",href:"/my-requests",icon:Je,roles:["CA"]},{name:"Request Case Notes",href:"/batch-requests",icon:xn,roles:["CA"]},{name:"Verify Case Notes",href:"/verify-case-notes",icon:WT,roles:["CA"]},{name:"Return Case Notes",href:"/return-case-notes",icon:ri,roles:["CA"]},{name:"Handover Requests",href:"/handover-requests",icon:Vr,roles:["CA"]},{name:"Patient Management",href:"/admin/patients",icon:cj,roles:["ADMIN"]},{name:"Doctor Management",href:"/admin/doctors",icon:Mt,roles:["ADMIN"]},{name:"User Management",href:"/users",icon:Gs,permissions:["manage_users"]},{name:"Reports & Analytics",href:"/reports",icon:Wh,permissions:["view_reports"]},{name:"Audit Logs",href:"/audit",icon:cj,permissions:["view_audit_logs"]},{name:"System Settings",href:"/settings",icon:dj,roles:["ADMIN"]}].filter(_=>!!(_.roles&&_.roles.some(j=>u(j))||_.permissions&&_.permissions.some(j=>m(j)))),N=(()=>{const _=g.pathname.split("/").filter(Boolean),j=[];let b="";return _.forEach((A,D)=>{b+=`/${A}`;const S=s8[b]||A.charAt(0).toUpperCase()+A.slice(1);j.push({name:S,href:b,current:D===_.length-1})}),j})(),C=async()=>{await d()};return t.jsxs("div",{className:"h-screen flex overflow-hidden bg-gray-100",children:[t.jsxs("div",{className:Ce("fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",e?"translate-x-0":"-translate-x-full"),children:[t.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx("img",{src:"/cnrs.logo.png",alt:"CNRS Logo",className:"h-8 w-auto"})}),t.jsx("div",{className:"ml-2",children:t.jsx("p",{className:"text-xs text-gray-500",children:"Case Note Request System"})})]}),t.jsx(de,{variant:"ghost",size:"sm",className:"lg:hidden",onClick:()=>n(!1),children:t.jsx(Jr,{className:"h-5 w-5"})})]}),t.jsx("nav",{className:"flex-1 px-4 py-4 space-y-2",children:v.map(_=>{const j=g.pathname===_.href||_.href!=="/dashboard"&&g.pathname.startsWith(_.href);return t.jsxs(Gt,{to:_.href,onClick:()=>n(!1),className:Ce("group flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors",j?"bg-purple-50 border-r-2 border-purple-600 text-purple-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[t.jsx(_.icon,{className:Ce("mr-3 h-5 w-5 flex-shrink-0",j?"text-purple-600":"text-gray-400 group-hover:text-gray-600")}),_.name,_.badge&&Number(_.badge)>0&&t.jsx(Ee,{variant:"secondary",className:"ml-auto",children:_.badge})]},_.name)})}),t.jsxs("div",{className:"border-t border-gray-200 p-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(li,{className:"h-8 w-8",children:t.jsx(ii,{className:"bg-gray-100 text-gray-600 text-xs",children:o?.name.split(" ").map(_=>_[0]).join("").toUpperCase()})}),t.jsxs("div",{className:"ml-3 flex-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:o?.name}),t.jsx("p",{className:"text-xs text-gray-500 truncate",children:o?.email})]})]}),t.jsx("div",{className:"mt-2 flex flex-wrap gap-1",children:o?.roles.map((_,j)=>t.jsx(Ee,{variant:"outline",className:"text-xs",children:_==="CA"?"CA":_==="MR_STAFF"?"MR":"ADMIN"},`${_}-${j}`))})]})]}),e&&t.jsx("div",{className:"fixed inset-0 z-40 bg-gray-600 bg-opacity-75 lg:hidden",onClick:()=>n(!1)}),t.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[t.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:t.jsxs("div",{className:"flex items-center justify-between h-16 px-4",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(de,{variant:"ghost",size:"sm",className:"lg:hidden mr-2",onClick:()=>n(!0),children:t.jsx(DT,{className:"h-5 w-5"})}),t.jsx("nav",{className:"flex",children:t.jsx("ol",{className:"flex items-center space-x-2",children:N.map((_,j)=>t.jsxs("li",{className:"flex items-center",children:[j>0&&t.jsx(AN,{className:"h-4 w-4 text-gray-400 mx-2"}),_.current?t.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.name}):t.jsx(Gt,{to:_.href,className:"text-sm font-medium text-gray-500 hover:text-gray-700",children:_.name})]},_.href))})})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(de,{variant:"ghost",size:"sm",className:"relative",children:[t.jsx(YE,{className:"h-5 w-5"}),t.jsx("span",{className:"absolute -top-1 -right-1 h-3 w-3 bg-red-500 rounded-full"})]}),t.jsxs(Du,{children:[t.jsx(ku,{asChild:!0,children:t.jsx(de,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:t.jsx(li,{className:"h-8 w-8",children:t.jsx(ii,{className:"bg-gray-100 text-gray-600",children:o?.name.split(" ").map(_=>_[0]).join("").toUpperCase()})})})}),t.jsxs(Mu,{className:"w-56",align:"end",forceMount:!0,children:[t.jsx(vO,{className:"font-normal",children:t.jsxs("div",{className:"flex flex-col space-y-1",children:[t.jsx("p",{className:"text-sm font-medium leading-none",children:o?.name}),t.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:o?.email})]})}),t.jsx(Xd,{}),t.jsxs(fs,{children:[t.jsx(dj,{className:"mr-2 h-4 w-4"}),t.jsx("span",{children:"Settings"})]}),t.jsx(Xd,{}),t.jsxs(fs,{onClick:C,children:[t.jsx(CT,{className:"mr-2 h-4 w-4"}),t.jsx("span",{children:"Sign out"})]})]})]})]})]})}),t.jsx("main",{className:"flex-1 overflow-y-auto bg-gray-50",children:t.jsx("div",{className:"py-6 px-4 sm:px-6 lg:px-8",children:t.jsx(w4,{})})})]}),t.jsx(t8,{open:r,onOpenChange:l})]})}function ue({className:e,...n}){return t.jsx("div",{"data-slot":"card",className:Ce("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...n})}function Ie({className:e,...n}){return t.jsx("div",{"data-slot":"card-header",className:Ce("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...n})}function Be({className:e,...n}){return t.jsx("div",{"data-slot":"card-title",className:Ce("leading-none font-semibold",e),...n})}function ot({className:e,...n}){return t.jsx("div",{"data-slot":"card-description",className:Ce("text-muted-foreground text-sm",e),...n})}function fe({className:e,...n}){return t.jsx("div",{"data-slot":"card-content",className:Ce("px-6",e),...n})}const a8=wn({email:kt().email("Please enter a valid email address"),password:kt().min(1,"Password is required")});function r8(){const[e,n]=p.useState(!1),[r,l]=p.useState(!1),[o,d]=p.useState(null),[u,m]=p.useState(null),g=p.useRef(null),x=p.useRef(!1),{login:v}=Yt();p.useEffect(()=>{console.log("🔍 LoginPage: Error state changed to:",o),g.current=o},[o]),p.useEffect(()=>{console.log("🔍 LoginPage: Component mounted/rendered")});const y=Z=>{console.log("🔍 LoginPage: Setting persistent error to:",Z),d(Z),g.current=Z,Z?(localStorage.setItem("login_error",Z),localStorage.setItem("login_error_timestamp",Date.now().toString())):(localStorage.removeItem("login_error"),localStorage.removeItem("login_error_timestamp"))},N=()=>{console.log("🔍 LoginPage: Explicitly clearing error"),y(null)};p.useEffect(()=>{if(!x.current){const Z=localStorage.getItem("login_error"),z=localStorage.getItem("login_error_timestamp");Z&&z&&(Date.now()-parseInt(z)<36e5?(console.log("🔍 LoginPage: Restoring recent error from localStorage:",Z),d(Z),g.current=Z):(localStorage.removeItem("login_error"),localStorage.removeItem("login_error_timestamp"),console.log("🔍 LoginPage: Cleared old error from localStorage")),x.current=!0)}},[]);const{register:C,handleSubmit:_,watch:j,formState:{errors:b},setError:A,clearErrors:D}=sa({resolver:na(a8)}),S=j("email");Ue.useEffect(()=>{const z=setTimeout(async()=>{if(S&&S.includes("@")&&!b.email)try{const O=await Wl.checkEmail(S);O.success&&O.exists?m({name:O.user_name||"User",role:O.user_role||"Unknown"}):m(null)}catch{m(null)}else m(null)},500);return()=>clearTimeout(z)},[S,b.email]);const q=async Z=>{console.log("🔍 LoginPage: Form submitted, current error:",g.current),l(!0),D("email"),D("password");try{const z=await v(Z);if(console.log("🔍 LoginPage: AuthContext login response:",z),z.success)console.log("🔍 LoginPage: Login successful, clearing error"),y(null);else if(z.errors)Object.entries(z.errors).forEach(([O,Y])=>{A(O,{type:"server",message:Y[0]})});else{let O=z.message||"Login failed";z.message?.includes("Invalid credentials")?O="Invalid email or password":z.message?.includes("Account is deactivated")?O="Account is deactivated":z.message?.includes("Too many attempts")?O="Too many login attempts":z.message?.includes("Email not verified")&&(O="Email not verified"),y(O)}}catch(z){console.error("🔍 LoginPage: Login error:",z),y("An unexpected error occurred. Please try again.")}finally{l(!1),console.log("🔍 LoginPage: Form submission completed, final error:",g.current)}},R=Z=>{switch(Z){case"CA":return t.jsx(Mt,{className:"h-4 w-4"});case"MR STAFF":return t.jsx(Br,{className:"h-4 w-4"});case"ADMIN":return t.jsx(tp,{className:"h-4 w-4"});default:return t.jsx(Mt,{className:"h-4 w-4"})}},k=Z=>{switch(Z){case"CA":return"Clinic Assistant";case"MR STAFF":return"Medical Records Staff";case"ADMIN":return"Administrator";default:return Z}},$=Z=>{switch(Z){case"CA":return"secondary";case"MR STAFF":return"default";case"ADMIN":return"destructive";default:return"outline"}},M=()=>o||g.current||localStorage.getItem("login_error"),Q=()=>{const Z=M();return Z&&Z.trim().length>0};return t.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center px-4",children:t.jsxs("div",{className:"max-w-md w-full space-y-8",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"CASE NOTE REQUEST SYSTEM"}),t.jsx("p",{className:"text-gray-600",children:"From request to record . Tracked every step"})]}),t.jsxs(ue,{className:"shadow-soft-lg border-0 bg-white/90 backdrop-blur-sm",children:[t.jsxs(Ie,{className:"space-y-1 pb-4",children:[t.jsx(Be,{className:"text-2xl text-center",children:"Sign In"}),t.jsx(ot,{className:"text-center text-gray-600",children:"Enter your credentials to access the system"})]}),t.jsx(fe,{children:t.jsxs("form",{onSubmit:_(q),className:"space-y-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(It,{htmlFor:"email",children:"Email Address"}),t.jsx(Ft,{id:"email",type:"email",placeholder:"Enter your email",...C("email"),className:"h-11",disabled:r}),b.email&&t.jsx("p",{className:"text-sm text-red-600",children:b.email.message}),u&&t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded-md border",children:[R(u.role),t.jsx("span",{className:"text-sm font-medium text-gray-700",children:u.name}),t.jsx(Ee,{variant:$(u.role),className:"text-xs",children:k(u.role)})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(It,{htmlFor:"password",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ft,{id:"password",type:e?"text":"password",placeholder:"Enter your password",...C("password"),className:"h-11 pr-10",disabled:r}),t.jsx(de,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 hover:bg-transparent",onClick:()=>n(!e),disabled:r,children:e?t.jsx(Od,{className:"h-4 w-4"}):t.jsx(ei,{className:"h-4 w-4"})})]}),b.password&&t.jsx("p",{className:"text-sm text-red-600",children:b.password.message})]}),Q()&&t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-red-50 border border-red-200 rounded-lg",children:[t.jsx("div",{className:"flex-shrink-0 w-2 h-2 bg-red-500 rounded-full"}),t.jsx("div",{className:"flex-1 min-w-0",children:t.jsx("p",{className:"text-sm text-red-700 leading-tight",children:M()?.split(`

`)[0]})}),t.jsx("button",{type:"button",onClick:N,className:"flex-shrink-0 text-red-400 hover:text-red-600 transition-colors","aria-label":"Clear error",children:t.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsx(de,{type:"submit",className:"w-full h-11 bg-gray-900 hover:bg-gray-800 text-white",disabled:r,children:r?"Signing in...":"Sign In"})]})})]}),t.jsxs(ue,{className:"shadow-soft border-0 bg-white/70 backdrop-blur-sm",children:[t.jsxs(Ie,{className:"pb-3",children:[t.jsx(Be,{className:"text-lg",children:"Demo Login Credentials"}),t.jsx(ot,{children:"Use these credentials to test the system"})]}),t.jsx(fe,{className:"space-y-3",children:t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-50 border",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"CA"})]}),t.jsx("div",{className:"text-sm text-gray-600",children:"ca@cnrs.jmc / password"})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-50 border",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Br,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"MR Staff"})]}),t.jsx("div",{className:"text-sm text-gray-600",children:"mr@cnrs.jmc / password"})]}),t.jsxs("div",{className:"flex items-center justify-between p-2 rounded bg-gray-50 border",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(tp,{className:"h-4 w-4"}),t.jsx("span",{className:"font-medium",children:"Admin"})]}),t.jsx("div",{className:"text-sm text-gray-600",children:"admin@cnrs.jmc / password"})]})]})})]}),t.jsx("div",{className:"text-center text-sm text-gray-500",children:t.jsxs("p",{children:["© 2025 CNRS. All rights reserved."," ",t.jsx("a",{href:"https://github.com/RenNanase",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-green-600 hover:text-green-800 hover:underline transition-colors",children:"RN"})]})})]})})}function Pe({className:e,...n}){return t.jsx("div",{className:Ce("animate-pulse rounded-md bg-muted",e),...n})}function l8({progress:e,executionTime:n,cached:r}){return e===0||r?null:e<100?t.jsx(ue,{className:"mb-6 border-purple-200 bg-purple-50 animate-in fade-in duration-300",children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(ur,{className:"h-5 w-5 text-purple-600 animate-pulse"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-purple-900",children:"Loading dashboard..."}),t.jsx("p",{className:"text-xs text-purple-700",children:"Please wait while we gather your information"})]})]}),t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-24 bg-purple-200 rounded-full h-2",children:t.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300 ease-out",style:{width:`${e}%`}})}),n&&t.jsxs("div",{className:"flex items-center space-x-1 text-xs text-purple-700",children:[t.jsx(hD,{className:"h-3 w-3"}),t.jsxs("span",{children:[n,"ms"]})]})]})]})})}):null}const Ke={getDashboardStats:async()=>(await Se.get("/dashboard/stats")).data,getOptimizedDashboardStats:async()=>(await Se.get("/dashboard/stats")).data,getRequests:async e=>(await Se.get("/requests",{params:e})).data,getRequest:async e=>(await Se.get(`/requests/${e}`)).data,createRequest:async e=>(await Se.post("/requests",e)).data,updateRequest:async(e,n)=>(await Se.put(`/requests/${e}`,n)).data,deleteRequest:async e=>(await Se.delete(`/requests/${e}`)).data,approveRequest:async(e,n)=>(await Se.post(`/requests/${e}/approve`,{remarks:n})).data,rejectRequest:async(e,n)=>(await Se.post(`/requests/${e}/reject`,{reason:n})).data,completeRequest:async(e,n)=>(await Se.post(`/requests/${e}/complete`,{notes:n})).data,reopenRequest:async(e,n)=>(await Se.post(`/requests/${e}/reopen`,{reason:n})).data,createHandover:async e=>(await Se.post("/handovers",e)).data,getHandoverStats:async()=>(await Se.get("/handovers/stats")).data,createIndividualRequest:async e=>(await Se.post("/individual-requests",e)).data,getIndividualRequests:async e=>(await Se.get("/individual-requests",{params:e})).data,getIndividualRequest:async e=>(await Se.get(`/individual-requests/${e}`)).data,updateIndividualRequest:async(e,n)=>(await Se.put(`/individual-requests/${e}`,n)).data,deleteIndividualRequest:async e=>(await Se.delete(`/individual-requests/${e}`)).data,getIndividualRequestStats:async()=>(await Se.get("/individual-requests/stats")).data,createBatchRequest:async e=>(await Se.post("/batch-requests",e)).data,getBatchRequests:async()=>(await Se.get("/batch-requests")).data,getBatchRequest:async e=>(await Se.get(`/batch-requests/${e}`)).data,processBatchRequest:async(e,n,r)=>(await Se.post(`/batch-requests/${e}/process`,{action:n,processing_notes:r})).data,getBatchRequestStats:async()=>(await Se.get("/batch-requests/stats")).data,verifyBatchReceipt:async(e,n)=>(await Se.post(`/batch-requests/${e}/verify-receipt`,n)).data,verifyIndividualReceipt:async(e,n)=>(await Se.post(`/batch-requests/${e}/verify-individual`,n)).data,getApprovedCaseNotesForVerification:async()=>(await Se.get("/case-notes/approved-for-verification")).data,verifyCaseNotesReceived:async e=>{try{return(await Se.post("/case-notes/verify-received",e)).data}catch(n){return console.error("Error verifying case notes as received:",n),{success:!1,message:n.response?.data?.message||"Failed to verify case notes as received"}}},rejectCaseNotesNotReceived:async e=>{try{return(await Se.post("/case-notes/reject-not-received",e)).data}catch(n){return console.error("Error rejecting case notes as not received:",n),{success:!1,message:n.response?.data?.message||"Failed to reject case notes as not received"}}},getMyRequests:async()=>(await Se.get("/requests?include_all_involvement=true")).data,handoverRequest:async(e,n)=>(await Se.post("/handovers",{case_note_request_id:e,handed_over_to_user_id:n.handover_to_user_id,department_id:n.handover_to_department_id,location_id:n.handover_to_location_id,handover_reason:n.handover_reason})).data,getPendingHandovers:async()=>(await Se.get("/handovers/pending")).data,getAcknowledgeHandovers:async()=>(await Se.get("/handovers/Acknowledge")).data,searchCaseNotes:async e=>(await Se.get(`/case-notes/search?q=${encodeURIComponent(e)}`)).data,getCaseNoteTimeline:async e=>(await Se.get(`/case-notes/${e}/timeline`)).data,requestHandover:async(e,n)=>(await Se.post(`/case-notes/${e}/request-handover`,n)).data,getMyHandoverRequests:async()=>(await Se.get("/handover-requests/my-requests")).data,getIncomingHandoverRequests:async()=>(await Se.get("/handover-requests/incoming")).data,getAllIncomingHandoverRequests:async()=>(await Se.get("/handover-requests/incoming-all")).data,getHandoverRequestsPendingVerification:async()=>(await Se.get("/handover-requests/pending-verification")).data,verifyHandoverRequest:async(e,n)=>(await Se.post(`/handover-requests/${e}/verify`,n)).data,respondToHandoverRequest:async(e,n)=>(await Se.post(`/handover-requests/${e}/respond`,n)).data,getHandoverHistory:async()=>(await Se.get("/handovers/history")).data,verifyHandover:async(e,n)=>(await Se.post(`/handovers/${e}/verify`,n)).data,getCaseNoteRequestId:async e=>(await Se.get(`/patients/mrn/${encodeURIComponent(e)}/case-note-request`)).data,getUsers:async e=>(await Se.get(`/users?role=${e}`)).data,returnCaseNotes:async e=>{try{return(await Se.post("/case-notes/return",e)).data}catch(n){return console.error("Error returning case notes:",n),{success:!1,message:n.response?.data?.message||"Failed to return case notes"}}},getReturnableCaseNotes:async()=>{try{const e=await Se.get("/requests/returnable");return e.data.success&&e.data.case_notes?{...e.data,requests:e.data.case_notes}:e.data}catch(e){return console.error("Error getting returnable case notes:",e),{success:!1,message:e.response?.data?.message||"Failed to get returnable case notes"}}},getPendingVerificationCaseNotes:async()=>{try{return(await Se.get("/case-notes/pending-verification")).data}catch(e){return console.error("Error getting pending verification case notes:",e),{success:!1,message:e.response?.data?.message||"Failed to get pending verification case notes"}}}},i8={searchPatients:async e=>(await Se.get(`/patients/search?search=${encodeURIComponent(e)}`)).data,getPatient:async e=>(await Se.get(`/patients/${e}`)).data},jp={getImportProgress:async()=>(await Se.get("/admin/patients/import-progress")).data,cancelImport:async e=>(await Se.post(`/admin/patients/import/${e}/cancel`)).data,importExcel:async e=>{const n=new FormData;return n.append("excel_file",e),(await Se.post("/admin/patients/import-excel",n,{headers:{"Content-Type":"multipart/form-data"}})).data},getImportTemplate:async()=>(await Se.get("/admin/patients/import-template")).data},Ds={getDepartments:async()=>(await Se.get("/resources/departments")).data,getDoctors:async e=>{const n=e?{department_id:e}:{};return(await Se.get("/resources/doctors",{params:n})).data},getLocations:async()=>(await Se.get("/resources/locations")).data,getPriorities:async()=>(await Se.get("/resources/priorities")).data,getStatuses:async()=>(await Se.get("/resources/statuses")).data,getUsersByRole:async e=>(await Se.get(`/users?role=${e}`)).data},o8=e=>{const n={pending:{icon:rt,className:"bg-yellow-100 text-yellow-800 border-yellow-200"},approved:{icon:Ge,className:"bg-green-100 text-green-800 border-green-200"},in_progress:{icon:rt,className:"bg-purple-100 text-purple-800 border-purple-200"},completed:{icon:Ge,className:"bg-emerald-100 text-emerald-800 border-emerald-200"},rejected:{icon:vt,className:"bg-red-100 text-red-800 border-red-200"}},r=n[e]||n.pending,l=r.icon;return t.jsxs(Ee,{variant:"outline",className:`flex items-center space-x-1 ${r.className}`,children:[t.jsx(l,{className:"h-3 w-3"}),t.jsx("span",{children:e.replace("_"," ").toUpperCase()})]})};function c8({user:e,stats:n,loading:r,loadingProgress:l,executionTime:o,cached:d}){return t.jsxs("div",{className:"space-y-6",children:[t.jsx(l8,{progress:l,executionTime:o,cached:d}),t.jsx("div",{className:"mb-8",children:t.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Hi, ",e?.name||"Clinic Assistant","!"]})}),r?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[...Array(5)].map((u,m)=>t.jsx(ue,{className:"animate-pulse",children:t.jsx(fe,{className:"p-6 h-32",children:t.jsxs("div",{className:"flex items-center justify-between h-full",children:[t.jsxs("div",{className:"space-y-3 flex-1",children:[t.jsx(Pe,{className:"h-4 w-24 bg-gray-200"}),t.jsx(Pe,{className:"h-8 w-20 bg-gray-200"})]}),t.jsx(Pe,{className:"h-8 w-8 rounded-full bg-gray-200"})]})})},m))}):n?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 animate-in fade-in duration-300",children:[t.jsx(Gt,{to:"/individual-requests",children:t.jsx(ue,{className:"cursor-pointer hover:shadow-lg transition-shadow h-32",children:t.jsx(fe,{className:"p-6 h-full flex flex-col justify-between",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requested"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_requests||0})]}),t.jsx(Je,{className:"h-8 w-8 text-purple-400"})]})})})}),t.jsx(Gt,{to:"/individual-requests?status=approved&is_received=false",children:t.jsx(ue,{className:"cursor-pointer hover:shadow-lg transition-shadow border-orange-200 bg-orange-50 h-32",children:t.jsx(fe,{className:"p-6 h-full flex flex-col justify-between",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-orange-700",children:"Pending Verifications"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:n.pending_verifications||0})]}),t.jsx(Lt,{className:"h-8 w-8 text-orange-400"})]})})})}),t.jsx(Gt,{to:"/individual-requests",children:t.jsx(ue,{className:"cursor-pointer hover:shadow-lg transition-shadow h-32",children:t.jsx(fe,{className:"p-6 h-full flex flex-col justify-between",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Requests"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.today_requests||0})]}),t.jsx(hs,{className:"h-8 w-8 text-green-400"})]})})})}),t.jsx(Gt,{to:"/handover-requests",children:t.jsx(ue,{className:"cursor-pointer hover:shadow-lg transition-shadow border-purple-200 bg-purple-50 h-32",children:t.jsx(fe,{className:"p-6 h-full flex flex-col justify-between",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-purple-700",children:"Pending Handover Requests"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_handovers||0})]}),t.jsx(Ao,{className:"h-8 w-8 text-purple-400"})]})})})}),t.jsx(Gt,{to:"/return-case-notes",children:t.jsx(ue,{className:"cursor-pointer hover:shadow-lg transition-shadow border-green-200 bg-green-50 h-32",children:t.jsx(fe,{className:"p-6 h-full flex flex-col justify-between",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-green-700",children:"Active "}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.active_case_notes||0})]}),t.jsx(gT,{className:"h-8 w-8 text-green-400"})]})})})})]}):null]})}function d8({user:e,stats:n,recentRequests:r,loading:l}){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Hi, ",e?.name||"Medical Records Staff","!"]}),t.jsx("p",{className:"text-gray-600",children:"Review pending requests and manage case note workflows"})]}),l?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((o,d)=>t.jsx(ue,{className:"animate-pulse",children:t.jsx(fe,{className:"p-6 h-32",children:t.jsxs("div",{className:"flex items-center justify-between h-full",children:[t.jsxs("div",{className:"space-y-3 flex-1",children:[t.jsx(Pe,{className:"h-4 w-24"}),t.jsx(Pe,{className:"h-8 w-20"})]}),t.jsx(Pe,{className:"h-8 w-8 rounded-full"})]})})},d))}):n?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-in fade-in duration-300",children:[t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.total})]}),t.jsx(Je,{className:"h-8 w-8 text-gray-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:n.pending})]}),t.jsx(rt,{className:"h-8 w-8 text-yellow-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Current Active(dummy)"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.approved+n.in_progress})]}),t.jsx(ur,{className:"h-8 w-8 text-purple-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:n.completed})]}),t.jsx(Ge,{className:"h-8 w-8 text-green-400"})]})})})]}):null,t.jsxs("div",{className:"space-y-6",children:[n&&n.overdue>0&&t.jsxs(ue,{className:"border-red-200 bg-red-50",children:[t.jsx(Ie,{className:"pb-3",children:t.jsxs(Be,{className:"text-red-900 flex items-center",children:[t.jsx(Lt,{className:"h-5 w-5 mr-2"}),"Overdue Requests"]})}),t.jsxs(fe,{children:[t.jsxs("p",{className:"text-red-800 text-sm mb-3",children:["You have ",n.overdue," overdue request",n.overdue!==1?"s":""," that need attention."]}),t.jsx(de,{asChild:!0,variant:"outline",size:"sm",className:"text-red-700 border-red-300 hover:bg-red-100",children:t.jsx(Gt,{to:"/requests?overdue=true",children:"Review Overdue"})})]})]}),t.jsx("div",{className:"grid grid-cols-1 gap-6",children:t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(Be,{children:"Recent Requests"}),t.jsx(ot,{children:"Latest case note requests requiring attention"})]}),t.jsx(de,{asChild:!0,variant:"outline",size:"sm",children:t.jsx(Gt,{to:"/requests",children:"View All"})})]})}),t.jsx(fe,{children:l?t.jsx("div",{className:"space-y-3",children:[...Array(3)].map((o,d)=>t.jsxs("div",{className:"flex items-center space-x-3 p-3 animate-pulse",children:[t.jsx(Pe,{className:"h-10 w-10 rounded-full"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]})]},d))}):r.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No requests found"})]}):t.jsx("div",{className:"space-y-3",children:r.slice(0,5).map(o=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(Je,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium",children:o.request_number}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[t.jsx("span",{children:o.patient?.name}),t.jsx("span",{children:"•"}),t.jsx("span",{children:o.requested_by?.name}),t.jsx("span",{children:"•"}),t.jsx(hs,{className:"h-3 w-3"}),t.jsx("span",{children:new Date(o.created_at).toLocaleDateString()})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[o8(o.status),t.jsx(de,{asChild:!0,variant:"ghost",size:"sm",children:t.jsx(Gt,{to:`/requests/${o.id}`,children:"Review"})})]})]},o.id))})})]})})]})]})}function u8({user:e,stats:n,loading:r}){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Hi, ",e?.name||"Administrator","!"]}),t.jsx("p",{className:"text-gray-600",children:"Full system access and administrative controls"})]}),r?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((l,o)=>t.jsx(ue,{className:"animate-pulse",children:t.jsx(fe,{className:"p-6 h-32",children:t.jsxs("div",{className:"flex items-center justify-between h-full",children:[t.jsxs("div",{className:"space-y-3 flex-1",children:[t.jsx(Pe,{className:"h-4 w-24"}),t.jsx(Pe,{className:"h-8 w-20"})]}),t.jsx(Pe,{className:"h-8 w-8 rounded-full"})]})})},o))}):n?t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 animate-in fade-in duration-300",children:[t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.total_users||0})]}),t.jsx(Gs,{className:"h-8 w-8 text-purple-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.total})]}),t.jsx(Je,{className:"h-8 w-8 text-gray-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"System Health"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:"Good"})]}),t.jsx(tp,{className:"h-8 w-8 text-green-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Sessions"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:n.active_sessions||0})]}),t.jsx(ur,{className:"h-8 w-8 text-purple-400"})]})})})]}):null]})}function f8(){const{user:e,hasRole:n}=Yt(),[r,l]=p.useState(null),[o,d]=p.useState([]),[u,m]=p.useState(!0),[g,x]=p.useState(0),[v,y]=p.useState(),[N,C]=p.useState();return p.useEffect(()=>{(async()=>{m(!0),x(0);try{console.log("Loading optimized dashboard data...");const j=await Ke.getOptimizedDashboardStats();if(x(50),j.success){const b=j.data;if(console.log("Dashboard stats loaded:",b),l(b),j.execution_time_ms&&y(j.execution_time_ms),j.cached!==void 0&&C(j.cached),x(80),n("MR_STAFF")||n("ADMIN"))try{const A=await Ke.getRequests({page:1,per_page:5,sort_by:"created_at",sort_order:"desc"});A.success&&d(A.requests.data||[])}catch(A){console.error("Error loading recent requests:",A)}x(100),j.cached?(m(!1),x(0)):setTimeout(()=>{m(!1),x(0)},100)}else console.error("Dashboard API response not successful:",j),m(!1),x(0)}catch(j){console.error("Dashboard load error:",j),m(!1),x(0)}})()},[n]),e?n("CA")?t.jsx(c8,{user:e,stats:r,recentRequests:o,loading:u,loadingProgress:g,executionTime:v,cached:N}):n("MR_STAFF")?t.jsx(d8,{user:e,stats:r,recentRequests:o,loading:u}):n("ADMIN")?t.jsx(u8,{user:e,stats:r,recentRequests:o,loading:u}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),t.jsx("p",{className:"text-gray-600",children:"Welcome to the CNRS dashboard"})]}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsx("div",{className:"text-center text-gray-600",children:t.jsx("p",{children:"No specific role assigned. Please contact your administrator."})})})})]}):t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pe,{className:"h-4 w-48 mx-auto mb-2"}),t.jsx(Pe,{className:"h-4 w-32 mx-auto"})]})})}function m8(){const e=hi(),{hasPermission:n,hasRole:r}=Yt();p.useEffect(()=>{if(r("MR_STAFF")){e("/mrs-case-note-requests",{replace:!0});return}},[r,e]);const[l,o]=p.useState([]),[d,u]=p.useState(!0),[m,g]=p.useState(null),[x,v]=p.useState(""),[y,N]=p.useState(0),[C,_]=p.useState(null),[j,b]=p.useState(!1),[A,D]=p.useState(""),[S,q]=p.useState(""),[R,k]=p.useState(null);p.useEffect(()=>{(async()=>{u(!0),g(null);try{const L={page:1,per_page:20,search:x||void 0,sort_by:"created_at",sort_order:"desc"},X=await Ke.getRequests(L);X.success?(o(X.requests.data),N(X.requests.total)):g("Failed to load requests")}catch(L){g("Error loading requests. Please try again."),console.error("Load requests error:",L)}finally{u(!1)}})()},[x]);const $=async(P,L,X)=>{if(C!==P){_(P);try{let H;switch(L){case"approve":H=await Ke.approveRequest(P,X?.remarks);break;case"reject":H=await Ke.rejectRequest(P,X?.reason);break;case"complete":H=await Ke.completeRequest(P,X?.notes);break;default:throw new Error("Invalid action")}if(H.success){const ie=await Ke.getRequests({page:1,per_page:20,search:x||void 0,sort_by:"created_at",sort_order:"desc"});ie.success&&(o(ie.requests.data),N(ie.requests.total)),console.log(`Request ${L}d successfully`)}else console.error(`Failed to ${L} request:`,H.message)}catch(H){console.error(`Error ${L}ing request:`,H)}finally{_(null)}}},M=P=>{const L=prompt("Enter approval remarks (optional):");L!==null&&$(P,"approve",{remarks:L})},Q=P=>{k(P),b(!0),D(""),q("")},Z=async()=>{if(R){if(!A.trim()){q("Please provide a reason for rejection");return}q("");try{const P=await Ke.rejectRequest(R,A.trim());if(P.success){b(!1),D(""),k(null);const L=await Ke.getRequests({page:1,per_page:20,search:x||void 0,sort_by:"created_at",sort_order:"desc"});L.success&&(o(L.requests.data),N(L.requests.total)),console.log("Request rejected successfully")}else console.error("Failed to reject request:",P.message)}catch(P){console.error("Error rejecting request:",P)}}},z=P=>{const L=prompt("Enter completion notes (optional):");L!==null&&$(P,"complete",{notes:L})},O=P=>{const L={pending:{icon:rt,className:"bg-yellow-100 text-yellow-800 border-yellow-200"},approved:{icon:Ge,className:"bg-green-100 text-green-800 border-green-200"},in_progress:{icon:rt,className:"bg-purple-100 text-purple-800 border-purple-200"},completed:{icon:Ge,className:"bg-emerald-100 text-emerald-800 border-emerald-200"},rejected:{icon:vt,className:"bg-red-100 text-red-800 border-red-200"}},X=L[P]||L.pending,H=X.icon;return t.jsxs(Ee,{variant:"outline",className:`flex items-center space-x-1 ${X.className}`,children:[t.jsx(H,{className:"h-3 w-3"}),t.jsx("span",{children:P.replace("_"," ").toUpperCase()})]})},Y=P=>{const L={urgent:{className:"bg-red-100 text-red-800 border-red-200"},high:{className:"bg-green-100 text-green-800 border-green-200"},normal:{className:"bg-purple-100 text-purple-800 border-purple-200"},low:{className:"bg-gray-100 text-gray-800 border-gray-200"}},X=L[P.toLowerCase()]||L.normal;return t.jsx(Ee,{variant:"outline",className:X.className,children:P.toUpperCase()})},B=P=>new Date(P).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:r("MR_STAFF")?"Medical Records - Case Note Requests":"My Case Note Requests"}),t.jsx("p",{className:"text-gray-600 mt-2",children:r("MR_STAFF")?"Review, approve, and manage case note requests from Clinic Assistants":"Track the status of your submitted case note requests"})]}),n("create_requests")&&t.jsx(de,{asChild:!0,children:t.jsxs(Gt,{to:"/requests/new",className:"flex items-center space-x-2",children:[t.jsx(Ir,{className:"h-4 w-4"}),t.jsx("span",{children:"Create Request"})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-6",children:[t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:r("MR_STAFF")?"Total Requests":"My Requests"}),t.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y})]}),t.jsx(Je,{className:"h-8 w-8 text-gray-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:l.filter(P=>P.status==="pending").length})]}),t.jsx(rt,{className:"h-8 w-8 text-yellow-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:r("MR_STAFF")?"In Progress":"Approved"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:l.filter(P=>["approved","in_progress"].includes(P.status)).length})]}),t.jsx(Ge,{className:"h-8 w-8 text-purple-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:l.filter(P=>P.status==="completed").length})]}),t.jsx(Ge,{className:"h-8 w-8 text-green-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Rejected"}),t.jsx("p",{className:"text-2xl font-bold text-red-600",children:l.filter(P=>P.status==="rejected").length})]}),t.jsx(vt,{className:"h-8 w-8 text-red-400"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:l.filter(P=>P.needed_date&&new Date(P.needed_date)<new Date).length})]}),t.jsx(Lt,{className:"h-8 w-8 text-orange-400"})]})})})]}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Ft,{placeholder:"Search requests by patient name, MRN, or request number...",value:x,onChange:P=>v(P.target.value),className:"pl-10"})]})}),r("MR_STAFF")&&t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>v(""),className:"text-yellow-600 border-yellow-300 hover:bg-yellow-50",children:[t.jsx(rt,{className:"h-4 w-4 mr-2"}),"Pending (",l.filter(P=>P.status==="pending").length,")"]}),t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>v(""),className:"text-purple-600 border-purple-300 hover:bg-purple-50",children:[t.jsx(ur,{className:"h-4 w-4 mr-2"}),"In Progress (",l.filter(P=>["approved","in_progress"].includes(P.status)).length,")"]})]}),t.jsxs(de,{variant:"outline",className:"flex items-center space-x-2",children:[t.jsx(Xo,{className:"h-4 w-4"}),t.jsx("span",{children:"Filter"})]})]})})}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{children:[r("MR_STAFF")?"All Requests":"My Requests"," (",y,")"]}),t.jsx(ot,{children:r("MR_STAFF")?"Case note requests from all Clinic Assistants requiring review and approval":"Your case note requests and their current status"})]}),t.jsx(fe,{children:d?t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((P,L)=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[t.jsx(Pe,{className:"h-12 w-12 rounded-full"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]}),t.jsx(Pe,{className:"h-8 w-20"})]},L))}):m?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Lt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("p",{className:"text-red-600 mb-2",children:m}),t.jsx(de,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]}):l.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:x?"No requests found matching your search.":"No requests found."}),n("create_requests")&&!x&&t.jsx(de,{asChild:!0,children:t.jsx(Gt,{to:"/requests/new",children:"Create Your First Request"})})]}):t.jsx("div",{className:"space-y-3",children:l.map(P=>t.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 transition-colors ${r("MR_STAFF")&&P.priority==="urgent"?"border-red-300 bg-red-50":r("MR_STAFF")&&P.status==="pending"?"border-yellow-300 bg-yellow-50":""}`,children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(li,{className:"h-12 w-12",children:t.jsx(ii,{className:"bg-purple-100 text-purple-700",children:t.jsx(Je,{className:"h-5 w-5"})})}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate cursor-pointer hover:text-purple-600 transition-colors",onClick:()=>e(`/requests/${P.id}`),title:"Click to view details",children:P.request_number}),O(P.status),Y(P.priority),P.is_overdue&&t.jsxs(Ee,{variant:"destructive",className:"flex items-center space-x-1",children:[t.jsx(Lt,{className:"h-3 w-3"}),t.jsx("span",{children:"OVERDUE"})]})]}),t.jsxs("div",{className:"mt-1 flex items-center space-x-4 text-sm text-gray-500",children:[P.patient&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsx("span",{children:P.patient.name})]}),P.department&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(mr,{className:"h-4 w-4"}),t.jsx("span",{children:P.department.name})]}),r("MR_STAFF")&&P.requested_by&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsxs("span",{children:["By: ",P.requested_by.name]})]}),t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(hs,{className:"h-4 w-4"}),t.jsxs("span",{children:["Created ",B(P.created_at)]})]}),P.needed_date&&t.jsxs("div",{className:"flex items-center space-x-1",children:[t.jsx(rt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Needed by ",B(P.needed_date)]})]})]}),t.jsx("p",{className:"mt-1 text-sm text-gray-600 line-clamp-2",children:P.purpose})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(de,{variant:"outline",size:"sm",onClick:()=>e(`/requests/${P.id}`),children:"View"}),t.jsxs(Du,{children:[t.jsx(ku,{asChild:!0,children:t.jsx(de,{variant:"ghost",size:"sm",children:t.jsx(TN,{className:"h-4 w-4"})})}),t.jsxs(Mu,{align:"end",children:[t.jsx(fs,{onClick:()=>e(`/requests/${P.id}`),children:"View Details"}),P.can_be_approved&&n("approve_requests")&&t.jsxs(t.Fragment,{children:[t.jsx(fs,{onClick:()=>M(P.id),disabled:C===P.id,className:"text-green-600",children:C===P.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-green-600"}),t.jsx("span",{children:"Approving..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Approve Request"]})}),t.jsx(fs,{onClick:()=>Q(P.id),disabled:C===P.id,className:"text-red-600",children:C===P.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-red-600"}),t.jsx("span",{children:"Rejecting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reject Request"]})})]}),P.can_be_completed&&n("approve_requests")&&t.jsx(fs,{onClick:()=>z(P.id),disabled:C===P.id,className:"text-purple-600",children:C===P.id?t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-purple-600"}),t.jsx("span",{children:"Completing..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Mark Complete"]})})]})]})]})]},P.id))})})]}),j&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Reject Request"}),t.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Please provide a reason for rejecting this request."}),t.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-md mb-4 focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:4,value:A,onChange:P=>D(P.target.value),placeholder:"Enter the reason for rejection..."}),S&&t.jsx("p",{className:"text-red-500 text-sm mb-4",children:S}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(de,{variant:"outline",onClick:()=>{b(!1),D(""),q(""),k(null)},children:"Cancel"}),t.jsxs(de,{variant:"destructive",onClick:Z,disabled:!A.trim(),children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reject Request"]})]})]})})]})}const nc=ML,R1=p.createContext({}),_t=({...e})=>t.jsx(R1.Provider,{value:{name:e.name},children:t.jsx(PL,{...e})}),Vu=()=>{const e=p.useContext(R1),n=p.useContext(C1),{getFieldState:r}=sc(),l=g1({name:e.name}),o=r(e.name,l);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:d}=n;return{id:d,name:e.name,formItemId:`${d}-form-item`,formDescriptionId:`${d}-form-item-description`,formMessageId:`${d}-form-item-message`,...o}},C1=p.createContext({});function St({className:e,...n}){const r=p.useId();return t.jsx(C1.Provider,{value:{id:r},children:t.jsx("div",{"data-slot":"form-item",className:Ce("grid gap-2",e),...n})})}function jt({className:e,...n}){const{error:r,formItemId:l}=Vu();return t.jsx(It,{"data-slot":"form-label","data-error":!!r,className:Ce("data-[error=true]:text-destructive",e),htmlFor:l,...n})}function Rt({...e}){const{error:n,formItemId:r,formDescriptionId:l,formMessageId:o}=Vu();return t.jsx(Gp,{"data-slot":"form-control",id:r,"aria-describedby":n?`${l} ${o}`:`${l}`,"aria-invalid":!!n,...e})}function Is({className:e,...n}){const{formDescriptionId:r}=Vu();return t.jsx("p",{"data-slot":"form-description",id:r,className:Ce("text-muted-foreground text-sm",e),...n})}function Ct({className:e,...n}){const{error:r,formMessageId:l}=Vu(),o=r?String(r?.message??""):n.children;return o?t.jsx("p",{"data-slot":"form-message",id:l,className:Ce("text-destructive text-sm",e),...n,children:o}):null}const ms=p.forwardRef(({className:e,...n},r)=>t.jsx("textarea",{className:Ce("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...n}));ms.displayName="Textarea";function Cb(e,[n,r]){return Math.min(r,Math.max(n,e))}function A1(e){const n=p.useRef({value:e,previous:e});return p.useMemo(()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous),[e])}var E1=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),h8="VisuallyHidden",p8=p.forwardRef((e,n)=>t.jsx(Qe.span,{...e,ref:n,style:{...E1,...e.style}}));p8.displayName=h8;var x8=[" ","Enter","ArrowUp","ArrowDown"],g8=[" ","Enter"],Qr="Select",[Iu,Bu,v8]=Qp(Qr),[Ni,DU]=Sn(Qr,[v8,wu]),Hu=wu(),[y8,xr]=Ni(Qr),[j8,b8]=Ni(Qr),T1=e=>{const{__scopeSelect:n,children:r,open:l,defaultOpen:o,onOpenChange:d,value:u,defaultValue:m,onValueChange:g,dir:x,name:v,autoComplete:y,disabled:N,required:C,form:_}=e,j=Hu(n),[b,A]=p.useState(null),[D,S]=p.useState(null),[q,R]=p.useState(!1),k=xu(x),[$,M]=Zr({prop:l,defaultProp:o??!1,onChange:d,caller:Qr}),[Q,Z]=Zr({prop:u,defaultProp:m,onChange:g,caller:Qr}),z=p.useRef(null),O=b?_||!!b.closest("form"):!0,[Y,B]=p.useState(new Set),P=Array.from(Y).map(L=>L.props.value).join(";");return t.jsx(_w,{...j,children:t.jsxs(y8,{required:C,scope:n,trigger:b,onTriggerChange:A,valueNode:D,onValueNodeChange:S,valueNodeHasChildren:q,onValueNodeHasChildrenChange:R,contentId:Jn(),value:Q,onValueChange:Z,open:$,onOpenChange:M,dir:k,triggerPointerDownPosRef:z,disabled:N,children:[t.jsx(Iu.Provider,{scope:n,children:t.jsx(j8,{scope:e.__scopeSelect,onNativeOptionAdd:p.useCallback(L=>{B(X=>new Set(X).add(L))},[]),onNativeOptionRemove:p.useCallback(L=>{B(X=>{const H=new Set(X);return H.delete(L),H})},[]),children:r})}),O?t.jsxs(eS,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:y,value:Q,onChange:L=>Z(L.target.value),disabled:N,form:_,children:[Q===void 0?t.jsx("option",{value:""}):null,Array.from(Y)]},P):null]})})};T1.displayName=Qr;var D1="SelectTrigger",k1=p.forwardRef((e,n)=>{const{__scopeSelect:r,disabled:l=!1,...o}=e,d=Hu(r),u=xr(D1,r),m=u.disabled||l,g=yt(n,u.onTriggerChange),x=Bu(r),v=p.useRef("touch"),[y,N,C]=sS(j=>{const b=x().filter(S=>!S.disabled),A=b.find(S=>S.value===u.value),D=nS(b,j,A);D!==void 0&&u.onValueChange(D.value)}),_=j=>{m||(u.onOpenChange(!0),C()),j&&(u.triggerPointerDownPosRef.current={x:Math.round(j.pageX),y:Math.round(j.pageY)})};return t.jsx(Sw,{asChild:!0,...d,children:t.jsx(Qe.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:m,"data-disabled":m?"":void 0,"data-placeholder":tS(u.value)?"":void 0,...o,ref:g,onClick:Fe(o.onClick,j=>{j.currentTarget.focus(),v.current!=="mouse"&&_(j)}),onPointerDown:Fe(o.onPointerDown,j=>{v.current=j.pointerType;const b=j.target;b.hasPointerCapture(j.pointerId)&&b.releasePointerCapture(j.pointerId),j.button===0&&j.ctrlKey===!1&&j.pointerType==="mouse"&&(_(j),j.preventDefault())}),onKeyDown:Fe(o.onKeyDown,j=>{const b=y.current!=="";!(j.ctrlKey||j.altKey||j.metaKey)&&j.key.length===1&&N(j.key),!(b&&j.key===" ")&&x8.includes(j.key)&&(_(),j.preventDefault())})})})});k1.displayName=D1;var M1="SelectValue",O1=p.forwardRef((e,n)=>{const{__scopeSelect:r,className:l,style:o,children:d,placeholder:u="",...m}=e,g=xr(M1,r),{onValueNodeHasChildrenChange:x}=g,v=d!==void 0,y=yt(n,g.onValueNodeChange);return ps(()=>{x(v)},[x,v]),t.jsx(Qe.span,{...m,ref:y,style:{pointerEvents:"none"},children:tS(g.value)?t.jsx(t.Fragment,{children:u}):d})});O1.displayName=M1;var N8="SelectIcon",z1=p.forwardRef((e,n)=>{const{__scopeSelect:r,children:l,...o}=e;return t.jsx(Qe.span,{"aria-hidden":!0,...o,ref:n,children:l||"▼"})});z1.displayName=N8;var w8="SelectPortal",P1=e=>t.jsx(_u,{asChild:!0,...e});P1.displayName=w8;var Wr="SelectContent",L1=p.forwardRef((e,n)=>{const r=xr(Wr,e.__scopeSelect),[l,o]=p.useState();if(ps(()=>{o(new DocumentFragment)},[]),!r.open){const d=l;return d?Bo.createPortal(t.jsx(q1,{scope:e.__scopeSelect,children:t.jsx(Iu.Slot,{scope:e.__scopeSelect,children:t.jsx("div",{children:e.children})})}),d):null}return t.jsx(U1,{...e,ref:n})});L1.displayName=Wr;var En=10,[q1,gr]=Ni(Wr),_8="SelectContentImpl",S8=Hr("SelectContent.RemoveScroll"),U1=p.forwardRef((e,n)=>{const{__scopeSelect:r,position:l="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:d,onPointerDownOutside:u,side:m,sideOffset:g,align:x,alignOffset:v,arrowPadding:y,collisionBoundary:N,collisionPadding:C,sticky:_,hideWhenDetached:j,avoidCollisions:b,...A}=e,D=xr(Wr,r),[S,q]=p.useState(null),[R,k]=p.useState(null),$=yt(n,me=>q(me)),[M,Q]=p.useState(null),[Z,z]=p.useState(null),O=Bu(r),[Y,B]=p.useState(!1),P=p.useRef(!1);p.useEffect(()=>{if(S)return ix(S)},[S]),Wp();const L=p.useCallback(me=>{const[Ne,...ve]=O().map(Te=>Te.ref.current),[he]=ve.slice(-1),ce=document.activeElement;for(const Te of me)if(Te===ce||(Te?.scrollIntoView({block:"nearest"}),Te===Ne&&R&&(R.scrollTop=0),Te===he&&R&&(R.scrollTop=R.scrollHeight),Te?.focus(),document.activeElement!==ce))return},[O,R]),X=p.useCallback(()=>L([M,S]),[L,M,S]);p.useEffect(()=>{Y&&X()},[Y,X]);const{onOpenChange:H,triggerPointerDownPosRef:ie}=D;p.useEffect(()=>{if(S){let me={x:0,y:0};const Ne=he=>{me={x:Math.abs(Math.round(he.pageX)-(ie.current?.x??0)),y:Math.abs(Math.round(he.pageY)-(ie.current?.y??0))}},ve=he=>{me.x<=10&&me.y<=10?he.preventDefault():S.contains(he.target)||H(!1),document.removeEventListener("pointermove",Ne),ie.current=null};return ie.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",ve,{capture:!0})}}},[S,H,ie]),p.useEffect(()=>{const me=()=>H(!1);return window.addEventListener("blur",me),window.addEventListener("resize",me),()=>{window.removeEventListener("blur",me),window.removeEventListener("resize",me)}},[H]);const[U,le]=sS(me=>{const Ne=O().filter(ce=>!ce.disabled),ve=Ne.find(ce=>ce.ref.current===document.activeElement),he=nS(Ne,me,ve);he&&setTimeout(()=>he.ref.current.focus())}),K=p.useCallback((me,Ne,ve)=>{const he=!P.current&&!ve;(D.value!==void 0&&D.value===Ne||he)&&(Q(me),he&&(P.current=!0))},[D.value]),F=p.useCallback(()=>S?.focus(),[S]),T=p.useCallback((me,Ne,ve)=>{const he=!P.current&&!ve;(D.value!==void 0&&D.value===Ne||he)&&z(me)},[D.value]),re=l==="popper"?bp:F1,ne=re===bp?{side:m,sideOffset:g,align:x,alignOffset:v,arrowPadding:y,collisionBoundary:N,collisionPadding:C,sticky:_,hideWhenDetached:j,avoidCollisions:b}:{};return t.jsx(q1,{scope:r,content:S,viewport:R,onViewportChange:k,itemRefCallback:K,selectedItem:M,onItemLeave:F,itemTextRefCallback:T,focusSelectedItem:X,selectedItemText:Z,position:l,isPositioned:Y,searchRef:U,children:t.jsx(Cu,{as:S8,allowPinchZoom:!0,children:t.jsx(vu,{asChild:!0,trapped:D.open,onMountAutoFocus:me=>{me.preventDefault()},onUnmountAutoFocus:Fe(o,me=>{D.trigger?.focus({preventScroll:!0}),me.preventDefault()}),children:t.jsx(gu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:d,onPointerDownOutside:u,onFocusOutside:me=>me.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:t.jsx(re,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:me=>me.preventDefault(),...A,...ne,onPlaced:()=>B(!0),ref:$,style:{display:"flex",flexDirection:"column",outline:"none",...A.style},onKeyDown:Fe(A.onKeyDown,me=>{const Ne=me.ctrlKey||me.altKey||me.metaKey;if(me.key==="Tab"&&me.preventDefault(),!Ne&&me.key.length===1&&le(me.key),["ArrowUp","ArrowDown","Home","End"].includes(me.key)){let he=O().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);if(["ArrowUp","End"].includes(me.key)&&(he=he.slice().reverse()),["ArrowUp","ArrowDown"].includes(me.key)){const ce=me.target,Te=he.indexOf(ce);he=he.slice(Te+1)}setTimeout(()=>L(he)),me.preventDefault()}})})})})})})});U1.displayName=_8;var R8="SelectItemAlignedPosition",F1=p.forwardRef((e,n)=>{const{__scopeSelect:r,onPlaced:l,...o}=e,d=xr(Wr,r),u=gr(Wr,r),[m,g]=p.useState(null),[x,v]=p.useState(null),y=yt(n,$=>v($)),N=Bu(r),C=p.useRef(!1),_=p.useRef(!0),{viewport:j,selectedItem:b,selectedItemText:A,focusSelectedItem:D}=u,S=p.useCallback(()=>{if(d.trigger&&d.valueNode&&m&&x&&j&&b&&A){const $=d.trigger.getBoundingClientRect(),M=x.getBoundingClientRect(),Q=d.valueNode.getBoundingClientRect(),Z=A.getBoundingClientRect();if(d.dir!=="rtl"){const ce=Z.left-M.left,Te=Q.left-ce,bt=$.left-Te,xs=$.width+bt,je=Math.max(xs,M.width),qe=window.innerWidth-En,De=Cb(Te,[En,Math.max(En,qe-je)]);m.style.minWidth=xs+"px",m.style.left=De+"px"}else{const ce=M.right-Z.right,Te=window.innerWidth-Q.right-ce,bt=window.innerWidth-$.right-Te,xs=$.width+bt,je=Math.max(xs,M.width),qe=window.innerWidth-En,De=Cb(Te,[En,Math.max(En,qe-je)]);m.style.minWidth=xs+"px",m.style.right=De+"px"}const z=N(),O=window.innerHeight-En*2,Y=j.scrollHeight,B=window.getComputedStyle(x),P=parseInt(B.borderTopWidth,10),L=parseInt(B.paddingTop,10),X=parseInt(B.borderBottomWidth,10),H=parseInt(B.paddingBottom,10),ie=P+L+Y+H+X,U=Math.min(b.offsetHeight*5,ie),le=window.getComputedStyle(j),K=parseInt(le.paddingTop,10),F=parseInt(le.paddingBottom,10),T=$.top+$.height/2-En,re=O-T,ne=b.offsetHeight/2,me=b.offsetTop+ne,Ne=P+L+me,ve=ie-Ne;if(Ne<=T){const ce=z.length>0&&b===z[z.length-1].ref.current;m.style.bottom="0px";const Te=x.clientHeight-j.offsetTop-j.offsetHeight,bt=Math.max(re,ne+(ce?F:0)+Te+X),xs=Ne+bt;m.style.height=xs+"px"}else{const ce=z.length>0&&b===z[0].ref.current;m.style.top="0px";const bt=Math.max(T,P+j.offsetTop+(ce?K:0)+ne)+ve;m.style.height=bt+"px",j.scrollTop=Ne-T+j.offsetTop}m.style.margin=`${En}px 0`,m.style.minHeight=U+"px",m.style.maxHeight=O+"px",l?.(),requestAnimationFrame(()=>C.current=!0)}},[N,d.trigger,d.valueNode,m,x,j,b,A,d.dir,l]);ps(()=>S(),[S]);const[q,R]=p.useState();ps(()=>{x&&R(window.getComputedStyle(x).zIndex)},[x]);const k=p.useCallback($=>{$&&_.current===!0&&(S(),D?.(),_.current=!1)},[S,D]);return t.jsx(A8,{scope:r,contentWrapper:m,shouldExpandOnScrollRef:C,onScrollButtonChange:k,children:t.jsx("div",{ref:g,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:q},children:t.jsx(Qe.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});F1.displayName=R8;var C8="SelectPopperPosition",bp=p.forwardRef((e,n)=>{const{__scopeSelect:r,align:l="start",collisionPadding:o=En,...d}=e,u=Hu(r);return t.jsx(Rw,{...u,...d,ref:n,align:l,collisionPadding:o,style:{boxSizing:"border-box",...d.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});bp.displayName=C8;var[A8,zx]=Ni(Wr,{}),Np="SelectViewport",$1=p.forwardRef((e,n)=>{const{__scopeSelect:r,nonce:l,...o}=e,d=gr(Np,r),u=zx(Np,r),m=yt(n,d.onViewportChange),g=p.useRef(0);return t.jsxs(t.Fragment,{children:[t.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:l}),t.jsx(Iu.Slot,{scope:r,children:t.jsx(Qe.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:m,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Fe(o.onScroll,x=>{const v=x.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:N}=u;if(N?.current&&y){const C=Math.abs(g.current-v.scrollTop);if(C>0){const _=window.innerHeight-En*2,j=parseFloat(y.style.minHeight),b=parseFloat(y.style.height),A=Math.max(j,b);if(A<_){const D=A+C,S=Math.min(_,D),q=D-S;y.style.height=S+"px",y.style.bottom==="0px"&&(v.scrollTop=q>0?q:0,y.style.justifyContent="flex-end")}}}g.current=v.scrollTop})})})]})});$1.displayName=Np;var V1="SelectGroup",[E8,T8]=Ni(V1),D8=p.forwardRef((e,n)=>{const{__scopeSelect:r,...l}=e,o=Jn();return t.jsx(E8,{scope:r,id:o,children:t.jsx(Qe.div,{role:"group","aria-labelledby":o,...l,ref:n})})});D8.displayName=V1;var I1="SelectLabel",B1=p.forwardRef((e,n)=>{const{__scopeSelect:r,...l}=e,o=T8(I1,r);return t.jsx(Qe.div,{id:o.id,...l,ref:n})});B1.displayName=I1;var nu="SelectItem",[k8,H1]=Ni(nu),Z1=p.forwardRef((e,n)=>{const{__scopeSelect:r,value:l,disabled:o=!1,textValue:d,...u}=e,m=xr(nu,r),g=gr(nu,r),x=m.value===l,[v,y]=p.useState(d??""),[N,C]=p.useState(!1),_=yt(n,D=>g.itemRefCallback?.(D,l,o)),j=Jn(),b=p.useRef("touch"),A=()=>{o||(m.onValueChange(l),m.onOpenChange(!1))};if(l==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return t.jsx(k8,{scope:r,value:l,disabled:o,textId:j,isSelected:x,onItemTextChange:p.useCallback(D=>{y(S=>S||(D?.textContent??"").trim())},[]),children:t.jsx(Iu.ItemSlot,{scope:r,value:l,disabled:o,textValue:v,children:t.jsx(Qe.div,{role:"option","aria-labelledby":j,"data-highlighted":N?"":void 0,"aria-selected":x&&N,"data-state":x?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:_,onFocus:Fe(u.onFocus,()=>C(!0)),onBlur:Fe(u.onBlur,()=>C(!1)),onClick:Fe(u.onClick,()=>{b.current!=="mouse"&&A()}),onPointerUp:Fe(u.onPointerUp,()=>{b.current==="mouse"&&A()}),onPointerDown:Fe(u.onPointerDown,D=>{b.current=D.pointerType}),onPointerMove:Fe(u.onPointerMove,D=>{b.current=D.pointerType,o?g.onItemLeave?.():b.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Fe(u.onPointerLeave,D=>{D.currentTarget===document.activeElement&&g.onItemLeave?.()}),onKeyDown:Fe(u.onKeyDown,D=>{g.searchRef?.current!==""&&D.key===" "||(g8.includes(D.key)&&A(),D.key===" "&&D.preventDefault())})})})})});Z1.displayName=nu;var To="SelectItemText",G1=p.forwardRef((e,n)=>{const{__scopeSelect:r,className:l,style:o,...d}=e,u=xr(To,r),m=gr(To,r),g=H1(To,r),x=b8(To,r),[v,y]=p.useState(null),N=yt(n,A=>y(A),g.onItemTextChange,A=>m.itemTextRefCallback?.(A,g.value,g.disabled)),C=v?.textContent,_=p.useMemo(()=>t.jsx("option",{value:g.value,disabled:g.disabled,children:C},g.value),[g.disabled,g.value,C]),{onNativeOptionAdd:j,onNativeOptionRemove:b}=x;return ps(()=>(j(_),()=>b(_)),[j,b,_]),t.jsxs(t.Fragment,{children:[t.jsx(Qe.span,{id:g.textId,...d,ref:N}),g.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Bo.createPortal(d.children,u.valueNode):null]})});G1.displayName=To;var Y1="SelectItemIndicator",X1=p.forwardRef((e,n)=>{const{__scopeSelect:r,...l}=e;return H1(Y1,r).isSelected?t.jsx(Qe.span,{"aria-hidden":!0,...l,ref:n}):null});X1.displayName=Y1;var wp="SelectScrollUpButton",K1=p.forwardRef((e,n)=>{const r=gr(wp,e.__scopeSelect),l=zx(wp,e.__scopeSelect),[o,d]=p.useState(!1),u=yt(n,l.onScrollButtonChange);return ps(()=>{if(r.viewport&&r.isPositioned){let m=function(){const x=g.scrollTop>0;d(x)};const g=r.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),o?t.jsx(W1,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=r;m&&g&&(m.scrollTop=m.scrollTop-g.offsetHeight)}}):null});K1.displayName=wp;var _p="SelectScrollDownButton",Q1=p.forwardRef((e,n)=>{const r=gr(_p,e.__scopeSelect),l=zx(_p,e.__scopeSelect),[o,d]=p.useState(!1),u=yt(n,l.onScrollButtonChange);return ps(()=>{if(r.viewport&&r.isPositioned){let m=function(){const x=g.scrollHeight-g.clientHeight,v=Math.ceil(g.scrollTop)<x;d(v)};const g=r.viewport;return m(),g.addEventListener("scroll",m),()=>g.removeEventListener("scroll",m)}},[r.viewport,r.isPositioned]),o?t.jsx(W1,{...e,ref:u,onAutoScroll:()=>{const{viewport:m,selectedItem:g}=r;m&&g&&(m.scrollTop=m.scrollTop+g.offsetHeight)}}):null});Q1.displayName=_p;var W1=p.forwardRef((e,n)=>{const{__scopeSelect:r,onAutoScroll:l,...o}=e,d=gr("SelectScrollButton",r),u=p.useRef(null),m=Bu(r),g=p.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return p.useEffect(()=>()=>g(),[g]),ps(()=>{m().find(v=>v.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[m]),t.jsx(Qe.div,{"aria-hidden":!0,...o,ref:n,style:{flexShrink:0,...o.style},onPointerDown:Fe(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(l,50))}),onPointerMove:Fe(o.onPointerMove,()=>{d.onItemLeave?.(),u.current===null&&(u.current=window.setInterval(l,50))}),onPointerLeave:Fe(o.onPointerLeave,()=>{g()})})}),M8="SelectSeparator",J1=p.forwardRef((e,n)=>{const{__scopeSelect:r,...l}=e;return t.jsx(Qe.div,{"aria-hidden":!0,...l,ref:n})});J1.displayName=M8;var Sp="SelectArrow",O8=p.forwardRef((e,n)=>{const{__scopeSelect:r,...l}=e,o=Hu(r),d=xr(Sp,r),u=gr(Sp,r);return d.open&&u.position==="popper"?t.jsx(Cw,{...o,...l,ref:n}):null});O8.displayName=Sp;var z8="SelectBubbleInput",eS=p.forwardRef(({__scopeSelect:e,value:n,...r},l)=>{const o=p.useRef(null),d=yt(l,o),u=A1(n);return p.useEffect(()=>{const m=o.current;if(!m)return;const g=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(g,"value").set;if(u!==n&&v){const y=new Event("change",{bubbles:!0});v.call(m,n),m.dispatchEvent(y)}},[u,n]),t.jsx(Qe.select,{...r,style:{...E1,...r.style},ref:d,defaultValue:n})});eS.displayName=z8;function tS(e){return e===""||e===void 0}function sS(e){const n=zn(e),r=p.useRef(""),l=p.useRef(0),o=p.useCallback(u=>{const m=r.current+u;n(m),(function g(x){r.current=x,window.clearTimeout(l.current),x!==""&&(l.current=window.setTimeout(()=>g(""),1e3))})(m)},[n]),d=p.useCallback(()=>{r.current="",window.clearTimeout(l.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(l.current),[]),[r,o,d]}function nS(e,n,r){const o=n.length>1&&Array.from(n).every(x=>x===n[0])?n[0]:n,d=r?e.indexOf(r):-1;let u=P8(e,Math.max(d,0));o.length===1&&(u=u.filter(x=>x!==r));const g=u.find(x=>x.textValue.toLowerCase().startsWith(o.toLowerCase()));return g!==r?g:void 0}function P8(e,n){return e.map((r,l)=>e[(n+l)%e.length])}var L8=T1,aS=k1,q8=O1,U8=z1,F8=P1,rS=L1,$8=$1,lS=B1,iS=Z1,V8=G1,I8=X1,oS=K1,cS=Q1,dS=J1;const ht=L8,pt=q8,ut=p.forwardRef(({className:e,children:n,...r},l)=>t.jsxs(aS,{ref:l,className:Ce("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[n,t.jsx(U8,{asChild:!0,children:t.jsx(Bp,{className:"h-4 w-4 opacity-50"})})]}));ut.displayName=aS.displayName;const uS=p.forwardRef(({className:e,...n},r)=>t.jsx(oS,{ref:r,className:Ce("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(EN,{className:"h-4 w-4"})}));uS.displayName=oS.displayName;const fS=p.forwardRef(({className:e,...n},r)=>t.jsx(cS,{ref:r,className:Ce("flex cursor-default items-center justify-center py-1",e),...n,children:t.jsx(Bp,{className:"h-4 w-4"})}));fS.displayName=cS.displayName;const ft=p.forwardRef(({className:e,children:n,position:r="popper",...l},o)=>t.jsx(F8,{children:t.jsxs(rS,{ref:o,className:Ce("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...l,children:[t.jsx(uS,{}),t.jsx($8,{className:Ce("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),t.jsx(fS,{})]})}));ft.displayName=rS.displayName;const B8=p.forwardRef(({className:e,...n},r)=>t.jsx(lS,{ref:r,className:Ce("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...n}));B8.displayName=lS.displayName;const we=p.forwardRef(({className:e,children:n,...r},l)=>t.jsxs(iS,{ref:l,className:Ce("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(I8,{children:t.jsx(CN,{className:"h-4 w-4"})})}),t.jsx(V8,{children:n})]}));we.displayName=iS.displayName;const H8=p.forwardRef(({className:e,...n},r)=>t.jsx(dS,{ref:r,className:Ce("-mx-1 my-1 h-px bg-muted",e),...n}));H8.displayName=dS.displayName;var Z8="Separator",Ab="horizontal",G8=["horizontal","vertical"],mS=p.forwardRef((e,n)=>{const{decorative:r,orientation:l=Ab,...o}=e,d=Y8(l)?l:Ab,m=r?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return t.jsx(Qe.div,{"data-orientation":d,...m,...o,ref:n})});mS.displayName=Z8;function Y8(e){return G8.includes(e)}var hS=mS;const di=p.forwardRef(({className:e,orientation:n="horizontal",decorative:r=!0,...l},o)=>t.jsx(hS,{ref:o,decorative:r,orientation:n,className:Ce("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...l}));di.displayName=hS.displayName;function X8({message:e,type:n,isVisible:r,onClose:l,duration:o=5e3}){return console.log("🔔 Toast component render:",{message:e,type:n,isVisible:r,duration:o}),p.useEffect(()=>{if(r&&o>0){const d=setTimeout(()=>{l()},o);return()=>clearTimeout(d)}},[r,o,l]),r?t.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right-full duration-500",children:t.jsxs("div",{className:Ce("flex items-center space-x-3 p-4 rounded-lg shadow-xl border-2 min-w-[350px] transform transition-all duration-300 animate-bounce",n==="success"?"bg-green-50 border-green-300 text-green-800 shadow-green-100":"bg-red-50 border-red-300 text-red-800 shadow-red-100"),children:[n==="success"?t.jsx(Ge,{className:"h-6 w-6 text-green-600 flex-shrink-0"}):t.jsx(vt,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),t.jsx("span",{className:"flex-1 font-medium text-sm",children:e}),t.jsx("button",{onClick:l,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-full hover:bg-gray-100","aria-label":"Close notification",children:t.jsx(Jr,{className:"h-4 w-4"})})]})}):null}function Px({onPatientSelect:e,selectedPatient:n,placeholder:r="Search by MRN, NRIC, or patient name...",disabled:l=!1,className:o,onRequestHandover:d}){const[u,m]=p.useState(""),[g,x]=p.useState([]),[v,y]=p.useState(!1),[N,C]=p.useState(null),[_,j]=p.useState(!1),[b,A]=p.useState(-1),D=p.useRef(null),S=p.useRef(null),q=p.useRef(null);p.useEffect(()=>{function Z(z){D.current&&!D.current.contains(z.target)&&(j(!1),A(-1))}return document.addEventListener("mousedown",Z),()=>document.removeEventListener("mousedown",Z)},[]);const R=async Z=>{if(!Z.trim()||Z.length<2){x([]),j(!1);return}y(!0),C(null),console.log("🔍 Starting patient search for:",Z),console.log("🔑 Auth token exists:",!!localStorage.getItem("cnrs_token"));try{const z=await i8.searchPatients(Z);console.log("✅ Patient search response:",z),console.log("✅ Response type:",typeof z),console.log("✅ Response keys:",Object.keys(z)),console.log("✅ Response.success:",z.success),console.log("✅ Response.patients:",z.patients),console.log("✅ Response.patients length:",z.patients?.length),z.success?(console.log("✅ Patient data with availability:",z.patients),x(z.patients),j(!0),A(-1)):(console.error("❌ Patient search failed:",z),C("Failed to search patients"),x([]))}catch(z){console.error("💥 Patient search error:",z),console.error("💥 Error response:",z.response),console.error("💥 Error status:",z.response?.status),console.error("💥 Error data:",z.response?.data);const O=z.response?.data?.message||z.message||"Unknown error occurred";C(`Error searching patients: ${O}`),x([])}finally{y(!1)}},k=Z=>{m(Z),q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{R(Z)},300)},$=Z=>{m(Z.name),x([]),j(!1),A(-1),e(Z)},M=()=>{m(""),x([]),j(!1),A(-1),S.current?.focus()},Q=Z=>{if(!(!_||g.length===0))switch(Z.key){case"ArrowDown":Z.preventDefault(),A(z=>z<g.length-1?z+1:0);break;case"ArrowUp":Z.preventDefault(),A(z=>z>0?z-1:g.length-1);break;case"Enter":Z.preventDefault(),b>=0&&b<g.length&&$(g[b]);break;case"Escape":j(!1),A(-1),S.current?.blur();break}};return t.jsxs("div",{ref:D,className:Ce("relative",o),children:[t.jsxs("div",{className:"relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Ft,{ref:S,type:"text",placeholder:r,value:u,onChange:Z=>k(Z.target.value),onKeyDown:Q,onFocus:()=>u.length>=2&&j(!0),disabled:l,className:"pl-10 pr-12"}),u&&t.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:M,disabled:l,className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-6 w-6 p-0 hover:bg-gray-100",children:"×"}),v&&t.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:t.jsx(rt,{className:"h-4 w-4 text-gray-400 animate-spin"})})]}),n&&t.jsx(ue,{className:"mt-2 border-green-200 bg-green-50",children:t.jsx(fe,{className:"p-3",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(li,{className:"h-10 w-10",children:t.jsx(ii,{className:"bg-green-100 text-green-700",children:t.jsx(Mt,{className:"h-5 w-5"})})}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h3",{className:"font-medium text-green-900",children:n.name}),t.jsx(ns,{className:"h-4 w-4 text-green-600"})]}),t.jsx("div",{className:"flex items-center space-x-4 text-sm text-green-700",children:t.jsxs("span",{children:["MRN: ",n.mrn]})}),t.jsx("div",{className:"flex items-center space-x-4 text-sm text-green-700",children:t.jsxs("span",{children:["NRIC/PASSPORT: ",n.nric]})}),n.has_medical_alerts&&t.jsxs(Ee,{variant:"destructive",className:"mt-1",children:[t.jsx(kn,{className:"h-3 w-3 mr-1"}),"Medical Alerts"]})]})]}),t.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:M,disabled:l,className:"text-green-600 hover:text-green-800",children:"Change"})]})})}),_&&t.jsx(ue,{className:"absolute z-50 w-full mt-1 max-h-80 overflow-y-auto shadow-lg border",children:t.jsx(fe,{className:"p-0",children:v?t.jsx("div",{className:"p-4 space-y-3",children:[...Array(3)].map((Z,z)=>t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Pe,{className:"h-10 w-10 rounded-full"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]})]},z))}):N?t.jsxs("div",{className:"p-4 text-center",children:[t.jsx(kn,{className:"h-6 w-6 text-red-500 mx-auto mb-2"}),t.jsx("p",{className:"text-sm text-red-600",children:N})]}):g.length===0?t.jsxs("div",{className:"p-4 text-center text-gray-500",children:[t.jsx(Ss,{className:"h-6 w-6 mx-auto mb-2 text-gray-300"}),t.jsx("p",{className:"text-sm",children:"No patients found"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try searching with MRN, NRIC, or patient name"})]}):t.jsx("div",{className:"py-2",children:g.map((Z,z)=>t.jsxs("div",{className:"relative",children:[t.jsx("button",{type:"button",onClick:()=>$(Z),disabled:Z.has_existing_requests&&!Z.is_available,className:Ce("w-full px-4 py-3 text-left hover:bg-gray-50 focus:bg-gray-50 focus:outline-none transition-colors",b===z&&"bg-purple-50",Z.has_existing_requests&&!Z.is_available&&"cursor-not-allowed hover:bg-gray-100",Z.has_existing_requests&&!Z.is_available&&"bg-green-50 border-l-4 border-l-red-300"),children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(li,{className:"h-10 w-10",children:t.jsx(ii,{className:"bg-gray-100",children:t.jsx(Mt,{className:"h-5 w-5 text-gray-500"})})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("h3",{className:"font-medium text-gray-900 truncate",children:Z.name}),Z.has_medical_alerts&&t.jsx(kn,{className:"h-4 w-4 text-red-500 flex-shrink-0"}),Z.has_existing_requests&&(Z.handover_status==="requested"?t.jsxs(Ee,{variant:"outline",className:"text-xs text-orange-600 border-orange-200",children:[t.jsx(rt,{className:"h-3 w-3 mr-1"}),"Handover Requested"]}):Z.is_available?t.jsxs(Ee,{variant:"default",className:"text-xs bg-green-100 text-green-700 border-green-200",children:[t.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Available"]}):t.jsxs(Ee,{variant:"destructive",className:"text-xs",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Unavailable"]}))]}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[t.jsxs("span",{children:["MRN: ",Z.mrn]}),Z.nric&&Z.nric!=="N/A"&&t.jsxs("span",{children:["NRIC: ",Z.nric]}),Z.nationality_id&&t.jsxs("span",{children:["IC: ",Z.nationality_id]})]}),Z.phone&&t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["📞 ",Z.phone]}),Z.has_existing_requests&&(console.log("🔍 Patient availability check:",{name:Z.name,has_existing_requests:Z.has_existing_requests,is_available:Z.is_available,handover_status:Z.handover_status,current_holder:Z.current_holder}),t.jsxs("div",{className:"mt-2 space-y-1",children:[Z.handover_status==="requested"&&t.jsx("p",{className:"text-xs text-orange-600",children:"⚠️ Handover request pending for this patient"}),!Z.is_available&&Z.current_holder&&t.jsxs("p",{className:"text-xs text-red-600",children:["🔒 Currently held by: ",Z.current_holder.name]}),Z.is_available&&Z.has_existing_requests&&t.jsx("p",{className:"text-xs text-green-600",children:"✅ Available for new request"})]}))]})]})}),!Z.is_available&&Z.has_existing_requests&&d&&t.jsx("div",{className:"absolute top-2 right-2 z-10",children:t.jsx("button",{type:"button",onClick:O=>{console.log("🔵 Handover button clicked!"),O.stopPropagation(),console.log("🔵 Request Handover clicked for patient:",Z.name),d?d(Z):console.error("❌ onRequestHandover function is not available")},className:"text-xs bg-purple-600 text-white px-3 py-1 rounded-md hover:bg-purple-700 transition-colors font-medium shadow-sm border border-purple-500",children:"📋 Request"})})]},Z.id))})})})]})}const K8=wn({patient_id:bs().min(1,"Please select a patient"),department_id:bs().min(1,"Please select a department"),doctor_id:bs().optional(),location_id:bs().optional(),priority:kt().min(1,"Please select a priority"),purpose:kt().min(10,"Purpose must be at least 10 characters"),needed_date:kt().min(1,"Please select when case notes are needed"),remarks:kt().optional()}),Ad=[{id:"patient",title:"Select Patient",icon:Mt,description:"Search and select the patient for this case note request"},{id:"department",title:"Department & Doctor",icon:mr,description:"Choose the department and requesting doctor"},{id:"details",title:"Request Details",icon:Je,description:"Specify priority, purpose, and additional information"},{id:"review",title:"Review & Submit",icon:ns,description:"Review all details and submit the request"}];function Q8(){const e=hi(),n=Fn(),{hasPermission:r,user:l}=Yt(),[o,d]=p.useState(0),[u,m]=p.useState(null),[g,x]=p.useState(!1),[v,y]=p.useState(null),[N,C]=p.useState(!1),[_,j]=p.useState({open:!1,message:"",type:"success"}),[b,A]=p.useState([]),[D,S]=p.useState([]),[q,R]=p.useState([]),[k,$]=p.useState([]);p.useEffect(()=>{console.log("🔔 Toast state changed:",_)},[_]),p.useEffect(()=>{console.log("🔐 User debug info:",{user:l?{id:l.id,name:l.name,email:l.email,roles:l.roles,permissions:l.permissions}:null,hasCreatePermission:r("create_requests"),hasViewPermission:r("view_requests")})},[l,r]);const M=sa({resolver:na(K8),defaultValues:{patient_id:0,department_id:0,doctor_id:void 0,location_id:void 0,priority:void 0,purpose:"",needed_date:void 0,remarks:""}}),{watch:Q,setValue:Z,getValues:z,formState:O}=M,Y=Q("department_id"),B=Q(["priority","purpose","needed_date"]);p.useEffect(()=>{console.log("Form values changed:",z()),console.log("Form errors:",O.errors)},[z,O.errors]),p.useEffect(()=>{console.log("Button state debug - currentStep:",o,"canGoNext:",L())},[o]),p.useEffect(()=>{console.log("Resources state debug:",{departments:b.length,locations:q.length,priorities:k.length,currentStep:o})},[b,q,k,o]),p.useEffect(()=>{if(!r("create_requests")){e("/dashboard");return}const F=n.state;F?.selectedPatient&&(m(F.selectedPatient),Z("patient_id",F.selectedPatient.id),d(1))},[r,e,n.state,Z]),p.useEffect(()=>{console.log("Resource loading useEffect triggered"),(async()=>{try{console.log("Loading resources...");const[T,re,ne]=await Promise.all([Ds.getDepartments(),Ds.getLocations(),Ds.getPriorities()]);console.log("Resources loaded:",{departments:T.success?T.departments.length:"failed",locations:re.success?re.locations.length:"failed",priorities:ne.success?ne.priorities.length:"failed"}),T.success&&(A(T.departments),console.log("Departments set:",T.departments)),re.success&&(R(re.locations),console.log("Locations set:",re.locations)),ne.success&&($(ne.priorities),console.log("Priorities set:",ne.priorities))}catch(T){console.error("Failed to load resources:",T)}})()},[]),p.useEffect(()=>{(async()=>{if(!Y||Y===0){S([]),Z("doctor_id",void 0);return}try{const T=await Ds.getDoctors(Y);T.success&&S(T.doctors)}catch(T){console.error("Failed to load doctors:",T),S([])}})()},[Y,Z]);const P=F=>{m(F),Z("patient_id",F.id),M.clearErrors("patient_id")},L=()=>{switch(console.log("canGoNext called for step:",o),o){case 0:const F=u!==null;return console.log("Step 0 validation:",{selectedPatient:u,patientValid:F}),F;case 1:const T=z("department_id"),re=T&&T>0;return console.log("Step 1 validation:",{departmentId:T,deptValid:re}),re;case 2:const[ne,me,Ne]=B,ve=ne&&ne!=="",he=me&&me.trim().length>=10,ce=Ne&&Ne!=="",Te=ve&&he&&ce;return console.log("Step 2 validation:",{priority:ne,priorityValid:ve,purpose:me,purposeLength:me?.length,purposeValid:he,needed_date:Ne,dateValid:ce,detailsValid:Te,watchedValues:B}),Te;default:return!0}},X=()=>{o<Ad.length-1&&L()&&d(F=>F+1)},H=()=>{o>0&&d(F=>F-1)},ie=()=>{M.reset({patient_id:0,department_id:0,doctor_id:void 0,location_id:void 0,priority:void 0,purpose:"",needed_date:void 0,remarks:""}),m(null),d(0),y(null),C(!1)},U=async F=>{if(console.log("🚀 Form submission started with data:",F),console.log("🔐 Permission check before submission:",{hasCreatePermission:r("create_requests"),userRoles:l?.roles,userPermissions:l?.permissions}),g||N){console.log("⚠️ Form is already submitting or has been submitted, ignoring click");return}x(!0),y(null),C(!0);try{console.log("🚀 Making API call to create request...");const T=await Ke.createRequest(F);if(console.log("📡 API Response received:",T),console.log("📡 Response type:",typeof T),console.log("📡 Response keys:",Object.keys(T)),console.log("📡 Response.success:",T.success),console.log("📡 Response.request:",T.request),console.log("📡 Response.message:",T.message),T.success&&T.request){console.log("✅ Request created successfully:",T.request),console.log("🎯 Response object:",T),console.log("🎯 Response.success:",T.success),console.log("🎯 Response.request:",T.request),console.log("🎉 Setting success toast...");const re={open:!0,message:"Case note request created successfully!",type:"success"};console.log("🎉 Success toast object:",re),j(re),ie(),setTimeout(()=>{T.request&&e(`/requests/${T.request.id}`,{state:{message:"Case note request created successfully!"}})},2e3)}else{const re=T.message||"Failed to create request";console.log("❌ Request failed:",re),console.log("❌ Response object:",T),y(re),console.log("❌ Setting error toast...");const ne={open:!0,message:re,type:"error"};console.log("❌ Error toast object:",ne),j(ne)}}catch(T){console.error("💥 Submit error details:",T);const re="An error occurred while creating the request. Please try again.";y(re),j({open:!0,message:re,type:"error"}),console.error("Submit error:",T)}finally{x(!1)}},le=F=>{const T={low:{variant:"outline",className:"border-gray-300 text-gray-700 bg-gray-50"},normal:{variant:"outline",className:"border-purple-300 text-purple-700 bg-purple-50"},high:{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50"},urgent:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50"}},re=T[F.toLowerCase()]||T.normal;return t.jsx(Ee,{variant:re.variant,className:`ml-2 ${re.className}`,children:k.find(ne=>ne.value===F)?.label})},K=F=>{try{return new Date(F).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return F}};return t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("div",{className:"flex items-center space-x-4 mb-4",children:t.jsxs(de,{variant:"ghost",onClick:()=>e("/requests"),className:"flex items-center space-x-2",children:[t.jsx(Ea,{className:"h-4 w-4"}),t.jsx("span",{children:"Back to Requests"})]})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Case Note Request"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Request access to patient case notes from Medical Records department"})]}),t.jsx(ue,{className:"mb-8",children:t.jsx(fe,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:Ad.map((F,T)=>{const re=T===o,ne=T<o,me=F.icon;return t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:Ce("w-12 h-12 rounded-full border-2 flex items-center justify-center transition-colors",re?"border-purple-600 bg-purple-50":ne?"border-green-600 bg-green-50":"border-gray-300 bg-gray-50"),children:t.jsx(me,{className:Ce("h-5 w-5",re?"text-purple-600":ne?"text-green-600":"text-gray-400")})}),t.jsx("div",{className:"mt-2 text-center",children:t.jsx("p",{className:Ce("text-sm font-medium",re?"text-purple-600":ne?"text-green-600":"text-gray-500"),children:F.title})})]}),T<Ad.length-1&&t.jsx("div",{className:Ce("w-24 h-0.5 mx-4",T<o?"bg-green-300":"bg-gray-300")})]},F.id)})})})}),t.jsx(nc,{...M,children:t.jsxs("form",{onSubmit:M.handleSubmit(U),className:"space-y-8",children:[o===0&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Mt,{className:"h-5 w-5"}),t.jsx("span",{children:"Select Patient"})]}),t.jsx(ot,{children:"Search for the patient whose case notes you need to request"})]}),t.jsx(fe,{className:"space-y-4",children:t.jsx(_t,{control:M.control,name:"patient_id",render:()=>t.jsxs(St,{children:[t.jsx(jt,{children:"Patient Search"}),t.jsx(Rt,{children:t.jsx(Px,{onPatientSelect:P,selectedPatient:u||void 0})}),t.jsx(Is,{children:"Search by Medical Record Number (MRN), NRIC, or patient name"}),t.jsx(Ct,{})]})})})]}),o===1&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(mr,{className:"h-5 w-5"}),t.jsx("span",{children:"Department & Doctor"})]}),t.jsx(ot,{children:"Select the requesting department and doctor (optional)"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsx(_t,{control:M.control,name:"department_id",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Department *"}),t.jsxs(ht,{onValueChange:T=>F.onChange(Number(T)),value:F.value?.toString()||"",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select a department"})})}),t.jsx(ft,{children:b.map(T=>t.jsxs(we,{value:T.value.toString(),children:[T.label," (",T.code,")"]},T.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"doctor_id",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Requesting Doctor (Optional)"}),t.jsxs(ht,{onValueChange:T=>F.onChange(T?Number(T):void 0),value:F.value?.toString()||"",disabled:!Y||D.length===0,children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:Y?D.length===0?"No doctors available":"Select a doctor":"Select a department first"})})}),t.jsx(ft,{children:D.map(T=>t.jsx(we,{value:T.value.toString(),children:T.label},T.value))})]}),t.jsx(Is,{children:Y&&D.length===0&&"No doctors found for the selected department"}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"location_id",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Location (Optional)"}),t.jsxs(ht,{onValueChange:T=>F.onChange(T?Number(T):void 0),value:F.value?.toString()||"",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select a location"})})}),t.jsx(ft,{children:q.map(T=>t.jsxs(we,{value:T.value.toString(),children:[T.label," (",T.type,")"]},T.value))})]}),t.jsx(Ct,{})]})})]})]}),o===2&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Je,{className:"h-5 w-5"}),t.jsx("span",{children:"Request Details"})]}),t.jsx(ot,{children:"Specify the priority, purpose, and when you need the case notes"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsx(_t,{control:M.control,name:"priority",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Priority *"}),t.jsxs(ht,{onValueChange:T=>{console.log("Priority selected:",T),Z("priority",T),console.log("Priority setValue called, new form values:",z())},value:F.value||"",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select priority level"})})}),t.jsx(ft,{children:k.map(T=>t.jsx(we,{value:T.value,children:T.label},T.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"needed_date",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"When do you need this? *"}),t.jsx(Rt,{children:t.jsx(Ft,{type:"date",value:F.value||"",onChange:T=>{console.log("Date changed:",T.target.value),Z("needed_date",T.target.value),console.log("Date setValue called, new form values:",z())},min:new Date().toISOString().split("T")[0]})}),t.jsx(Is,{children:"Select the date when you need the case notes to be ready"}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"purpose",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Purpose / Reason *"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Please describe why you need access to these case notes...",className:"resize-none",rows:4,value:F.value||"",onChange:T=>{console.log("Purpose changed:",T.target.value),Z("purpose",T.target.value),console.log("Purpose setValue called, new form values:",z())}})}),t.jsx(Is,{children:"Provide a clear explanation of why you need the case notes (minimum 10 characters)"}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"remarks",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Additional Remarks (Optional)"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Any additional information or special requirements...",className:"resize-none",rows:3,...F})}),t.jsx(Is,{children:"Any additional information that might be helpful for processing this request"}),t.jsx(Ct,{})]})})]})]}),o===3&&t.jsx("div",{className:"space-y-6",children:t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(ns,{className:"h-5 w-5"}),t.jsx("span",{children:"Review & Submit"})]}),t.jsx(ot,{children:"Please review all the details before submitting your request"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[t.jsx(Mt,{className:"h-4 w-4 mr-2"}),"Patient Information"]}),u&&t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium",children:u.name}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mt-1",children:[t.jsxs("p",{children:["MRN: ",u.mrn]}),t.jsxs("p",{children:["NRIC: ",u.nric]})]})]}),u.has_medical_alerts&&t.jsxs(Ee,{variant:"destructive",children:[t.jsx(Lt,{className:"h-3 w-3 mr-1"}),"Medical Alerts"]})]})})]}),t.jsx(di,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[t.jsx(mr,{className:"h-4 w-4 mr-2"}),"Department & Doctor"]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Department:"})," ",b.find(F=>F.value===z("department_id"))?.label]}),z("doctor_id")&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Doctor:"})," ",D.find(F=>F.value===z("doctor_id"))?.label]}),z("location_id")&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Location:"})," ",q.find(F=>F.value===z("location_id"))?.label]})]})]}),t.jsx(di,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[t.jsx(Je,{className:"h-4 w-4 mr-2"}),"Request Details"]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:"Priority:"}),le(z("priority"))]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Needed by:"}),t.jsxs("div",{className:"mt-1 flex items-center text-gray-600",children:[t.jsx(hs,{className:"h-4 w-4 mr-2"}),K(z("needed_date"))]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Purpose:"}),t.jsx("p",{className:"mt-1 text-gray-600",children:z("purpose")})]}),z("remarks")&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Additional Remarks:"}),t.jsx("p",{className:"mt-1 text-gray-600",children:z("remarks")})]})]})]}),v&&t.jsxs($s,{variant:"destructive",children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsx(Vs,{children:v})]})]})]})}),t.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[t.jsxs(de,{type:"button",variant:"outline",onClick:H,disabled:o===0,className:"flex items-center space-x-2",children:[t.jsx(Ea,{className:"h-4 w-4"}),t.jsx("span",{children:"Previous"})]}),o<Ad.length-1?t.jsxs(de,{type:"button",onClick:()=>{console.log("Next button clicked, current step:",o),console.log("canGoNext result:",L()),X()},disabled:!L(),className:"flex items-center space-x-2",children:[t.jsx("span",{children:"Next"}),t.jsx(Vr,{className:"h-4 w-4"})]}):t.jsxs("div",{className:"flex items-center space-x-4",children:[N&&!g&&t.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[t.jsx(ns,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Request submitted successfully!"})]}),t.jsx(de,{type:"submit",disabled:g||N,className:"flex items-center space-x-2",children:g?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t.jsx("span",{children:"Creating Request..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(hu,{className:"h-4 w-4"}),t.jsx("span",{children:N?"Request Submitted":"Submit Request"})]})})]})]})]})}),t.jsx(X8,{message:_.message,type:_.type,isVisible:_.open,onClose:()=>j(F=>({...F,open:!1})),duration:5e3})]})}function W8({items:e,className:n}){return t.jsx("nav",{className:Ce("flex",n),"aria-label":"Breadcrumb",children:t.jsxs("ol",{className:"flex items-center space-x-2",children:[t.jsx("li",{children:t.jsxs(Gt,{to:"/dashboard",className:"text-gray-400 hover:text-gray-500 transition-colors",children:[t.jsx(kN,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Home"})]})}),e.map((r,l)=>t.jsxs("li",{className:"flex items-center",children:[t.jsx(AN,{className:"h-4 w-4 text-gray-400 mx-2"}),r.current?t.jsx("span",{className:"text-sm font-medium text-gray-500","aria-current":"page",children:r.label}):r.href?t.jsx(Gt,{to:r.href,className:"text-sm text-gray-500 hover:text-gray-700 transition-colors",children:r.label}):t.jsx("span",{className:"text-sm text-gray-500",children:r.label})]},l))]})})}function J8(){const{id:e}=c4(),n=hi(),r=Fn(),{hasPermission:l,hasRole:o,user:d}=Yt(),[u,m]=p.useState(null),[g,x]=p.useState([]),[v,y]=p.useState(!0),[N,C]=p.useState(null),[_,j]=p.useState(null),[b,A]=p.useState(!1),[D,S]=p.useState(""),[q,R]=p.useState("");p.useEffect(()=>{(async()=>{if(e){console.log("🔍 RequestDetailsPage: Loading request with ID:",e),console.log("🔍 RequestDetailsPage: Current user:",d),console.log("🔍 RequestDetailsPage: User ID type:",typeof d?.id),console.log("🔍 RequestDetailsPage: User roles:",d?.roles),console.log("🔍 RequestDetailsPage: User permissions:",d?.permissions),y(!0),C(null);try{const P=await Ke.getRequest(parseInt(e));console.log("🔍 RequestDetailsPage: API response:",P),P.success?(m(P.request),x(P.timeline||[]),console.log("🔍 RequestDetailsPage: Request loaded successfully:",P.request)):C("Failed to load request details")}catch(P){console.error("🔍 RequestDetailsPage: Load request error:",P),console.error("🔍 RequestDetailsPage: Error response:",P.response),console.error("🔍 RequestDetailsPage: Error status:",P.response?.status),console.error("🔍 RequestDetailsPage: Error data:",P.response?.data),P.response?.status===403?o("CA")?C("You do not have permission to view this request. You can only view requests that you submitted."):o("MR_STAFF")?C("You do not have permission to view this request. Please contact your administrator if you believe this is an error."):o("ADMIN")?C("You do not have permission to view this request. Please check your administrative privileges."):C("You do not have permission to view this request."):P.response?.status===404?C("Request not found. It may have been deleted or you may not have access to it."):P.response?.data?.message?C(P.response.data.message):C("Error loading request details. Please try again.")}finally{y(!1)}}})()},[e,d,o]);const k=async()=>{if(!(!u||!e)){j("approve");try{if((await Ke.approveRequest(parseInt(e))).success){const P=await Ke.getRequest(parseInt(e));P.success&&(m(P.request),x(P.timeline||[]))}}catch(B){console.error("Approve error:",B)}finally{j(null)}}},$=async()=>{!u||!e||(A(!0),S(""),R(""))},M=async()=>{if(!(!u||!e)){if(!D.trim()){R("Please provide a reason for rejection");return}R(""),j("reject");try{if((await Ke.rejectRequest(parseInt(e),D.trim())).success){A(!1),S("");const P=await Ke.getRequest(parseInt(e));P.success&&(m(P.request),x(P.timeline||[]))}}catch(B){console.error("Reject error:",B)}finally{j(null)}}},Q=async()=>{if(!(!u||!e)){j("complete");try{if((await Ke.completeRequest(parseInt(e))).success){const P=await Ke.getRequest(parseInt(e));P.success&&(m(P.request),x(P.timeline||[]))}}catch(B){console.error("Complete error:",B)}finally{j(null)}}},Z=B=>{const P={pending:{variant:"secondary",icon:rt,color:"text-yellow-600",bgColor:void 0},approved:{variant:"default",icon:Ge,color:"text-white",bgColor:"bg-green-600 border-green-700"},in_progress:{variant:"default",icon:ep,color:"text-purple-600",bgColor:void 0},completed:{variant:"default",icon:ns,color:"text-green-600",bgColor:void 0},rejected:{variant:"destructive",icon:vt,color:"text-white",bgColor:"bg-red-600 border-red-700"}},L=P[B]||P.pending,X=L.icon;return t.jsxs(Ee,{variant:L.variant,className:`flex items-center space-x-1 ${L.bgColor||""}`,children:[t.jsx(X,{className:"h-3 w-3"}),t.jsx("span",{children:B.replace("_"," ").toUpperCase()})]})},z=B=>{const P={urgent:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50"},high:{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50"},normal:{variant:"outline",className:"border-purple-300 text-purple-700 bg-purple-50"},low:{variant:"outline",className:"border-gray-300 text-gray-700 bg-gray-50"}},L=P[B.toLowerCase()]||P.normal;return t.jsx(Ee,{variant:L.variant,className:L.className,children:B.toUpperCase()})},O=B=>new Date(B).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Y=B=>{const P=new Date(B),X=Math.floor((new Date().getTime()-P.getTime())/(1e3*60*60));if(X<1)return"Just now";if(X<24)return`${X} hour${X>1?"s":""} ago`;const H=Math.floor(X/24);return H<7?`${H} day${H>1?"s":""} ago`:O(B)};if(v)return t.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Pe,{className:"h-10 w-32"}),t.jsx(Pe,{className:"h-10 w-48"})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsx(Pe,{className:"h-64"}),t.jsx(Pe,{className:"h-48"})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsx(Pe,{className:"h-48"}),t.jsx(Pe,{className:"h-64"})]})]})]});if(N||!u){const B=N?.includes("permission")||N?.includes("403");return t.jsx("div",{className:"max-w-6xl mx-auto",children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Lt,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:B?"Access Denied":"Request Not Found"}),t.jsx("p",{className:"text-gray-600 mb-6 max-w-md mx-auto",children:N||"The request you are looking for does not exist or you do not have permission to view it."}),B&&t.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6 max-w-md mx-auto",children:t.jsx("p",{className:"text-sm text-yellow-800",children:o("CA")?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:"Note:"})," As a Clinic Assistant, you can only view requests that you submitted. If you believe this is your request, please contact your administrator."]}):o("MR_STAFF")?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:"Note:"})," As Medical Records Staff, you should be able to view all case note requests. If you're still getting this error, please contact your administrator."]}):o("ADMIN")?t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:"Note:"})," As an Administrator, you should have access to all requests. Please check your permissions or contact the system administrator."]}):t.jsxs(t.Fragment,{children:[t.jsx("strong",{children:"Note:"})," You do not have the necessary permissions to view this request. Please contact your administrator for access."]})})}),t.jsxs("div",{className:"flex justify-center space-x-4",children:[t.jsx(de,{onClick:()=>n("/requests"),variant:"outline",children:"Back to Requests"}),!B&&t.jsx(de,{onClick:()=>window.location.reload(),children:"Try Again"})]})]})})}return t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx(W8,{items:[{label:"Requests",href:"/requests"},{label:`Request #${u.request_number}`,current:!0}],className:"mb-4"}),t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs(de,{variant:"ghost",onClick:()=>n("/requests"),className:"flex items-center space-x-2",children:[t.jsx(Ea,{className:"h-4 w-4"}),t.jsx("span",{children:"Back to Requests"})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Request #",u.request_number]}),Z(u.status),z(u.priority),o("MR_STAFF")&&t.jsx(Ee,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"MR Staff View"}),o("CA")&&t.jsx(Ee,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"My Request"}),o("ADMIN")&&t.jsx(Ee,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:"Admin View"})]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:t.jsxs(Du,{children:[t.jsx(ku,{asChild:!0,children:t.jsx(de,{variant:"outline",children:"Actions"})}),t.jsxs(Mu,{align:"end",children:[t.jsxs(fs,{onClick:()=>window.print(),children:[t.jsx($T,{className:"h-4 w-4 mr-2"}),"Print"]}),t.jsxs(fs,{children:[t.jsx(dT,{className:"h-4 w-4 mr-2"}),"Export PDF"]}),t.jsx(Xd,{}),o("MR_STAFF")&&l("approve_requests")&&t.jsxs(t.Fragment,{children:[u.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs(fs,{onClick:k,disabled:_==="approve",children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),_==="approve"?"Approving...":"Approve Request"]}),t.jsxs(fs,{onClick:$,disabled:_==="reject",children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),_==="reject"?"Rejecting...":"Reject Request"]})]}),(u.status==="approved"||u.status==="in_progress")&&t.jsxs(fs,{onClick:Q,disabled:_==="complete",children:[t.jsx(ns,{className:"h-4 w-4 mr-2"}),_==="complete"?"Completing...":"Mark Complete"]})]}),o("ADMIN")&&t.jsxs(t.Fragment,{children:[u.status==="pending"&&t.jsxs(t.Fragment,{children:[t.jsxs(fs,{onClick:k,disabled:_==="approve",children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),_==="approve"?"Approving...":"Approve Request"]}),t.jsxs(fs,{onClick:$,disabled:_==="reject",children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),_==="reject"?"Rejecting...":"Reject Request"]})]}),(u.status==="approved"||u.status==="in_progress")&&t.jsxs(fs,{onClick:Q,disabled:_==="complete",children:[t.jsx(ns,{className:"h-4 w-4 mr-2"}),_==="complete"?"Completing...":"Mark Complete"]})]}),o("CA")&&u.status==="pending"&&u.requested_by_user_id===d?.id&&t.jsxs(t.Fragment,{children:[t.jsx(Xd,{}),t.jsxs(fs,{onClick:()=>n(`/requests/${e}/edit`),children:[t.jsx(Hp,{className:"h-4 w-4 mr-2"}),"Edit Request"]}),t.jsxs(fs,{className:"text-red-600",children:[t.jsx(zo,{className:"h-4 w-4 mr-2"}),"Delete Request"]})]})]})]})})]}),r.state?.message&&t.jsxs($s,{className:"mb-4",children:[t.jsx(Ge,{className:"h-4 w-4"}),t.jsx(Vs,{children:r.state.message})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[t.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Mt,{className:"h-5 w-5"}),t.jsx("span",{children:"Patient Information"})]})}),t.jsx(fe,{className:"space-y-4",children:u.patient&&t.jsxs("div",{className:"flex items-start space-x-4",children:[t.jsx(li,{className:"h-16 w-16",children:t.jsx(ii,{className:"text-lg",children:u.patient.name.split(" ").map(B=>B[0]).join("")})}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Name"}),t.jsx("p",{className:"text-gray-900",children:u.patient.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"MRN"}),t.jsx("p",{className:"text-gray-900",children:u.patient.mrn})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"NRIC"}),t.jsx("p",{className:"text-gray-900",children:u.patient.nric||"N/A"})]})]}),u.patient.has_medical_alerts&&t.jsxs($s,{variant:"destructive",children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsx(Vs,{children:"This patient has medical alerts"})]})]})]})})]}),t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Je,{className:"h-5 w-5"}),t.jsx("span",{children:"Request Details"})]})}),t.jsxs(fe,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Department"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(mr,{className:"h-4 w-4 text-gray-400"}),t.jsx("p",{className:"text-gray-900",children:u.department?.name})]})]}),u.doctor&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requesting Doctor"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Br,{className:"h-4 w-4 text-gray-400"}),t.jsx("p",{className:"text-gray-900",children:u.doctor.name})]})]}),u.location&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Location"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(ET,{className:"h-4 w-4 text-gray-400"}),t.jsx("p",{className:"text-gray-900",children:u.location.name})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Needed By"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(hs,{className:"h-4 w-4 text-gray-400"}),t.jsx("p",{className:"text-gray-900",children:O(u.needed_date)})]})]})]}),t.jsx(di,{}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Purpose"}),t.jsx("p",{className:"text-gray-900 mt-1",children:u.purpose})]}),u.remarks&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Additional Remarks"}),t.jsx("p",{className:"text-gray-900 mt-1",children:u.remarks})]})]})]}),o("MR_STAFF")&&t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Br,{className:"h-5 w-5"}),t.jsx("span",{children:"MR Staff Information"})]})}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested By"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(Mt,{className:"h-4 w-4 text-gray-400"}),t.jsx("p",{className:"text-gray-900",children:u.requested_by?.name||"Unknown"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Request Date"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(hs,{className:"h-4 w-4 text-gray-400"}),t.jsx("p",{className:"text-gray-900",children:O(u.created_at)})]})]})]}),u.status==="pending"&&t.jsxs($s,{children:[t.jsx(rt,{className:"h-4 w-4"}),t.jsx(Vs,{children:"This request is pending your review and approval. Please review the details and take appropriate action."})]}),u.status==="approved"&&t.jsxs($s,{children:[t.jsx(Ge,{className:"h-4 w-4"}),t.jsx(Vs,{children:"This request has been approved and is now in progress. The case note should be retrieved and delivered."})]})]})]}),o("CA")&&t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Mt,{className:"h-5 w-5"}),t.jsx("span",{children:"My Request Information"})]})}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Submitted On"}),t.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[t.jsx(hs,{className:"h-4 w-4 text-gray-400"}),t.jsx("p",{className:"text-gray-900",children:O(u.created_at)})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Current Status"}),t.jsx("div",{className:"mt-1",children:Z(u.status)})]})]}),u.status==="pending"&&t.jsxs($s,{children:[t.jsx(rt,{className:"h-4 w-4"}),t.jsx(Vs,{children:"Your request is currently under review by Medical Records staff. You will be notified once it's processed."})]}),u.status==="approved"&&t.jsxs($s,{children:[t.jsx(Ge,{className:"h-4 w-4"}),t.jsx(Vs,{children:"Your request has been approved! The case note is being retrieved and will be delivered to the specified location."})]})]})]}),t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Jh,{className:"h-5 w-5"}),t.jsx("span",{children:"Request Timeline"})]})}),t.jsx(fe,{children:g.length>0?t.jsx("div",{className:"space-y-4",children:g.map((B,P)=>{const L=X=>{switch(X){case"created":return"bg-purple-500";case"handover_requested":return"bg-purple-500";case"submitted":return"bg-purple-500";case"approved":return"bg-green-500";case"handover_approved":return"bg-green-500";case"handover_verified":return"bg-green-500";case"handover_receipt_verified":return"bg-green-500";case"returned_verified":return"bg-green-500";case"received":return"bg-green-500";case"Acknowledge":return"bg-green-500";case"completed":return"bg-emerald-500";case"rejected":return"bg-red-500";case"handover_rejected":return"bg-red-500";case"rejected_not_received":return"bg-red-500";case"returned_rejected":return"bg-red-500";case"handed_over":return"bg-orange-500";case"status_changed":return"bg-orange-500";case"in_progress":return"bg-purple-500";case"updated":return"bg-purple-500";default:return"bg-gray-500"}};return t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsxs("div",{className:"flex-shrink-0",children:[t.jsx("div",{className:`w-3 h-3 ${L(B.type)} rounded-full mt-2`}),P<g.length-1&&t.jsx("div",{className:"w-0.5 h-12 bg-gray-200 mx-auto mt-1"})]}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900",children:B.description}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Y(B.occurred_at)}),B.metadata&&Object.keys(B.metadata).length>0&&t.jsx("div",{className:`mt-2 p-3 rounded-lg border-2 ${B.type.includes("rejected")||B.type.includes("rejected_not_received")||B.type.includes("returned_rejected")?"bg-red-50 border-red-200":B.type.includes("approved")||B.type.includes("verified")||B.type.includes("received")||B.type.includes("completed")?"bg-green-50 border-green-200":B.type.includes("requested")||B.type.includes("created")||B.type.includes("submitted")?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:t.jsxs("div",{className:"space-y-2",children:[(B.metadata.notes||B.metadata.reason||B.metadata.verification_notes||B.metadata.completion_notes||B.metadata.approval_remarks||B.metadata.rejection_reason||B.metadata.handover_reason)&&t.jsxs("div",{className:`bg-white p-2 rounded border-l-4 ${B.type.includes("rejected")||B.type.includes("rejected_not_received")||B.type.includes("returned_rejected")?"border-red-400":B.type.includes("approved")||B.type.includes("verified")||B.type.includes("received")||B.type.includes("completed")?"border-green-400":B.type.includes("requested")||B.type.includes("created")||B.type.includes("submitted")?"border-purple-400":"border-purple-400"}`,children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Comments:"}),t.jsx("p",{className:"text-sm text-gray-700",children:B.metadata.notes||B.metadata.reason||B.metadata.verification_notes||B.metadata.completion_notes||B.metadata.approval_remarks||B.metadata.rejection_reason||B.metadata.handover_reason})]}),(B.metadata.doctor_name||B.metadata.handover_doctor_name||B.metadata.new_doctor_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-green-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Doctor:"}),t.jsx("p",{className:"text-sm text-gray-700",children:B.metadata.doctor_name||B.metadata.handover_doctor_name||B.metadata.new_doctor_name})]}),(B.metadata.department_name||B.metadata.new_department_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-purple-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Department:"}),t.jsx("p",{className:"text-sm text-gray-700",children:B.metadata.department_name||B.metadata.new_department_name})]}),B.metadata.location_name&&B.metadata.location_name!=="No specific location"&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-orange-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Location:"}),t.jsx("p",{className:"text-sm text-gray-700",children:B.metadata.location_name})]}),(B.metadata.from_user||B.metadata.to_user||B.metadata.handed_over_from_user_name||B.metadata.handed_over_to_user_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-indigo-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Transfer:"}),t.jsxs("p",{className:"text-sm text-gray-700",children:[B.metadata.from_user||B.metadata.handed_over_from_user_name," → ",B.metadata.to_user||B.metadata.handed_over_to_user_name]})]}),(B.metadata.old_status||B.metadata.new_status)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-yellow-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Status Change:"}),t.jsxs("p",{className:"text-sm text-gray-700",children:[B.metadata.old_status," → ",B.metadata.new_status]})]})]})})]})]},`${B.id}-${P}`)})}):t.jsx("p",{className:"text-gray-500 text-center py-4",children:"No timeline events yet"})})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsx(Be,{children:"Status Summary"})}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Status"}),Z(u.status)]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Priority"}),z(u.priority)]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Created"}),t.jsx("span",{className:"text-sm text-gray-900",children:O(u.created_at)})]}),u.approved_at&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Approved"}),t.jsx("span",{className:"text-sm text-gray-900",children:O(u.approved_at)})]}),u.completed_at&&t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Completed"}),t.jsx("span",{className:"text-sm text-gray-900",children:O(u.completed_at)})]})]})]}),t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsx(Be,{children:"Request Information"})}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Request Number"}),t.jsx("p",{className:"text-gray-900 font-mono",children:u.request_number})]}),t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Requested By"}),t.jsx("p",{className:"text-gray-900",children:u.requested_by?.name}),t.jsx("p",{className:"text-sm text-gray-500",children:u.requested_by?.email})]}),u.approved_by&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Approved By"}),t.jsx("p",{className:"text-gray-900",children:u.approved_by.name})]}),u.completed_by&&t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-500",children:"Completed By"}),t.jsx("p",{className:"text-gray-900",children:u.completed_by.name})]})]})]}),u.can_be_approved&&l("approve_requests")&&t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsx(Be,{children:"Quick Actions"})}),t.jsxs(fe,{className:"space-y-3",children:[t.jsx(de,{onClick:k,disabled:_==="approve",className:"w-full",variant:"default",children:_==="approve"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Approving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Approve Request"]})}),t.jsx(de,{onClick:$,disabled:_==="reject",className:"w-full",variant:"destructive",children:_==="reject"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Rejecting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reject Request"]})})]})]}),u.can_be_completed&&l("approve_requests")&&t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsx(Be,{children:"Complete Request"})}),t.jsx(fe,{children:t.jsx(de,{onClick:Q,disabled:_==="complete",className:"w-full",variant:"default",children:_==="complete"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Completing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ns,{className:"h-4 w-4 mr-2"}),"Mark Complete"]})})})]})]})]}),b&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-xl max-w-md w-full mx-4",children:[t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Reject Request"}),t.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Please provide a reason for rejecting this request."}),t.jsx("textarea",{className:"w-full p-3 border border-gray-300 rounded-md mb-4 focus:ring-2 focus:ring-red-500 focus:border-red-500",rows:4,value:D,onChange:B=>S(B.target.value),placeholder:"Enter the reason for rejection..."}),q&&t.jsx("p",{className:"text-red-500 text-sm mb-4",children:q}),t.jsxs("div",{className:"flex justify-end space-x-3",children:[t.jsx(de,{variant:"outline",onClick:()=>{A(!1),S(""),R("")},children:"Cancel"}),t.jsx(de,{variant:"destructive",onClick:M,disabled:!D.trim()||_==="reject",children:_==="reject"?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Rejecting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reject Request"]})})]})]})})]})}var Zu="Tabs",[eq,kU]=Sn(Zu,[Su]),pS=Su(),[tq,Lx]=eq(Zu),xS=p.forwardRef((e,n)=>{const{__scopeTabs:r,value:l,onValueChange:o,defaultValue:d,orientation:u="horizontal",dir:m,activationMode:g="automatic",...x}=e,v=xu(m),[y,N]=Zr({prop:l,onChange:o,defaultProp:d??"",caller:Zu});return t.jsx(tq,{scope:r,baseId:Jn(),value:y,onValueChange:N,orientation:u,dir:v,activationMode:g,children:t.jsx(Qe.div,{dir:v,"data-orientation":u,...x,ref:n})})});xS.displayName=Zu;var gS="TabsList",vS=p.forwardRef((e,n)=>{const{__scopeTabs:r,loop:l=!0,...o}=e,d=Lx(gS,r),u=pS(r);return t.jsx(Mw,{asChild:!0,...u,orientation:d.orientation,dir:d.dir,loop:l,children:t.jsx(Qe.div,{role:"tablist","aria-orientation":d.orientation,...o,ref:n})})});vS.displayName=gS;var yS="TabsTrigger",jS=p.forwardRef((e,n)=>{const{__scopeTabs:r,value:l,disabled:o=!1,...d}=e,u=Lx(yS,r),m=pS(r),g=wS(u.baseId,l),x=_S(u.baseId,l),v=l===u.value;return t.jsx(Ow,{asChild:!0,...m,focusable:!o,active:v,children:t.jsx(Qe.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":x,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:g,...d,ref:n,onMouseDown:Fe(e.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(l):y.preventDefault()}),onKeyDown:Fe(e.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(l)}),onFocus:Fe(e.onFocus,()=>{const y=u.activationMode!=="manual";!v&&!o&&y&&u.onValueChange(l)})})})});jS.displayName=yS;var bS="TabsContent",NS=p.forwardRef((e,n)=>{const{__scopeTabs:r,value:l,forceMount:o,children:d,...u}=e,m=Lx(bS,r),g=wS(m.baseId,l),x=_S(m.baseId,l),v=l===m.value,y=p.useRef(v);return p.useEffect(()=>{const N=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(N)},[]),t.jsx(la,{present:o||v,children:({present:N})=>t.jsx(Qe.div,{"data-state":v?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":g,hidden:!N,id:x,tabIndex:0,...u,ref:n,style:{...e.style,animationDuration:y.current?"0s":void 0},children:N&&d})})});NS.displayName=bS;function wS(e,n){return`${e}-trigger-${n}`}function _S(e,n){return`${e}-content-${n}`}var sq=xS,SS=vS,RS=jS,CS=NS;const AS=sq,qx=p.forwardRef(({className:e,...n},r)=>t.jsx(SS,{ref:r,className:Ce("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...n}));qx.displayName=SS.displayName;const cr=p.forwardRef(({className:e,...n},r)=>t.jsx(RS,{ref:r,className:Ce("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...n}));cr.displayName=RS.displayName;const dr=p.forwardRef(({className:e,...n},r)=>t.jsx(CS,{ref:r,className:Ce("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...n}));dr.displayName=CS.displayName;var Ux="Progress",Fx=100,[nq,MU]=Sn(Ux),[aq,rq]=nq(Ux),ES=p.forwardRef((e,n)=>{const{__scopeProgress:r,value:l=null,max:o,getValueLabel:d=lq,...u}=e;(o||o===0)&&!Eb(o)&&console.error(iq(`${o}`,"Progress"));const m=Eb(o)?o:Fx;l!==null&&!Tb(l,m)&&console.error(oq(`${l}`,"Progress"));const g=Tb(l,m)?l:null,x=au(g)?d(g,m):void 0;return t.jsx(aq,{scope:r,value:g,max:m,children:t.jsx(Qe.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":au(g)?g:void 0,"aria-valuetext":x,role:"progressbar","data-state":kS(g,m),"data-value":g??void 0,"data-max":m,...u,ref:n})})});ES.displayName=Ux;var TS="ProgressIndicator",DS=p.forwardRef((e,n)=>{const{__scopeProgress:r,...l}=e,o=rq(TS,r);return t.jsx(Qe.div,{"data-state":kS(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...l,ref:n})});DS.displayName=TS;function lq(e,n){return`${Math.round(e/n*100)}%`}function kS(e,n){return e==null?"indeterminate":e===n?"complete":"loading"}function au(e){return typeof e=="number"}function Eb(e){return au(e)&&!isNaN(e)&&e>0}function Tb(e,n){return au(e)&&!isNaN(e)&&e<=n&&e>=0}function iq(e,n){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${n}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Fx}\`.`}function oq(e,n){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${n}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Fx} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var MS=ES,cq=DS;const $x=p.forwardRef(({className:e,value:n,...r},l)=>t.jsx(MS,{ref:l,className:Ce("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:t.jsx(cq,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(n||0)}%)`}})}));$x.displayName=MS.displayName;function dq({onImportComplete:e}){const[n,r]=p.useState(null),[l,o]=p.useState(!1),[d,u]=p.useState(null),[m,g]=p.useState(!1),x=p.useRef(null),v=p.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?g(!0):b.type==="dragleave"&&g(!1)},[]),y=p.useCallback(b=>{if(b.preventDefault(),b.stopPropagation(),g(!1),b.dataTransfer.files&&b.dataTransfer.files[0]){const A=b.dataTransfer.files[0];N(A)&&(r(A),u(null))}},[]),N=b=>["application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/csv"].includes(b.type)||b.name.endsWith(".xlsx")||b.name.endsWith(".xls")||b.name.endsWith(".csv"),C=b=>{if(b.target.files&&b.target.files[0]){const A=b.target.files[0];N(A)?(r(A),u(null)):alert("Please select a valid Excel or CSV file (.xlsx, .xls, .csv)")}},_=async()=>{if(n){o(!0),u(null);try{const b=await jp.importExcel(n);b.success?(u({success:!0,message:b.message||"Import completed successfully",statistics:b.data?.statistics,failures:b.data?.failures,errors:b.data?.errors}),e()):u({success:!1,message:b.message||"Import failed",errors:b.errors?Object.values(b.errors).flat():[]})}catch(b){u({success:!1,message:"Import failed: "+(b instanceof Error?b.message:"Unknown error")})}finally{o(!1)}}},j=()=>{r(null),u(null),x.current&&(x.current.value="")};return t.jsxs("div",{className:"space-y-6",children:[t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center",children:[t.jsx(Do,{className:"h-5 w-5 mr-2"}),"Upload Patient Data"]}),t.jsx(ot,{children:"Upload an Excel or CSV file with patient information"})]}),t.jsxs(fe,{className:"space-y-4",children:[t.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${m?"border-purple-500 bg-purple-50":n?"border-green-500 bg-green-50":"border-gray-300 bg-gray-50"}`,onDragEnter:v,onDragLeave:v,onDragOver:v,onDrop:y,children:n?t.jsxs("div",{className:"space-y-2",children:[t.jsx(ns,{className:"h-12 w-12 text-green-600 mx-auto"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-lg font-medium text-gray-900",children:n.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[(n.size/1024/1024).toFixed(2)," MB • Ready to import"]})]}),t.jsxs(de,{variant:"outline",size:"sm",onClick:j,className:"mt-2",children:[t.jsx(Jr,{className:"h-4 w-4 mr-2"}),"Remove File"]})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsx(Do,{className:"h-12 w-12 text-gray-400 mx-auto"}),t.jsxs("div",{className:"space-y-1",children:[t.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Drop your Excel file here, or click to browse"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Supports .xlsx, .xls, and .csv files (max 100MB)"})]}),t.jsxs(de,{variant:"outline",onClick:()=>x.current?.click(),children:[t.jsx(DN,{className:"h-4 w-4 mr-2"}),"Browse Files"]}),t.jsx("input",{ref:x,type:"file",accept:".xlsx,.xls,.csv",onChange:C,className:"hidden"})]})}),n&&t.jsx("div",{className:"flex justify-end",children:t.jsx(de,{onClick:_,disabled:l,className:"min-w-32",children:l?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Importing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Do,{className:"h-4 w-4 mr-2"}),"Import Patients"]})})})]})]}),l&&t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h4",{className:"font-medium",children:"Processing Import..."}),t.jsx(Ee,{variant:"secondary",children:"In Progress"})]}),t.jsx($x,{className:"w-full"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Validating and importing patient data. This may take a few moments."})]})})}),d&&t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center",children:[d.success?t.jsx(ns,{className:"h-5 w-5 text-green-600 mr-2"}):t.jsx(kn,{className:"h-5 w-5 text-red-600 mr-2"}),"Import Results"]})}),t.jsxs(fe,{className:"space-y-4",children:[t.jsx($s,{className:d.success?"":"border-red-200",children:t.jsx(Vs,{children:d.message})}),d.statistics&&t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-green-600",children:d.statistics.imported}),t.jsx("p",{className:"text-sm text-gray-600",children:"Imported"})]}),t.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:d.statistics.duplicates}),t.jsx("p",{className:"text-sm text-gray-600",children:"Duplicates"})]}),t.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-red-600",children:d.statistics.skipped}),t.jsx("p",{className:"text-sm text-gray-600",children:"Skipped"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:d.statistics.total_processed}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Processed"})]})]}),d.failures&&d.failures.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-red-600",children:"Import Failures:"}),t.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:d.failures.map((b,A)=>t.jsxs("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:[t.jsxs("p",{className:"text-sm font-medium text-red-800",children:["Row ",b.row,":"]}),t.jsx("ul",{className:"text-sm text-red-700 list-disc list-inside",children:b.errors.map((D,S)=>t.jsx("li",{children:D},S))})]},A))})]}),d.errors&&d.errors.length>0&&t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-red-600",children:"Import Errors:"}),t.jsx("div",{className:"max-h-64 overflow-y-auto space-y-2",children:d.errors.map((b,A)=>t.jsx("div",{className:"p-3 bg-red-50 rounded border border-red-200",children:t.jsx("p",{className:"text-sm text-red-700",children:b})},A))})]})]})]}),t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center",children:[t.jsx(NT,{className:"h-5 w-5 mr-2"}),"Import Guidelines"]})}),t.jsxs(fe,{className:"space-y-3 text-sm text-gray-600",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Required Columns:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Name:"})," Patient full name (required)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"MRN:"})," Medical Record Number - must be unique (required)"]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Nationality_ID:"})," Patient nric/passport number"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Notes:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Duplicate MRNs will be skipped and not imported"}),t.jsx("li",{children:"Missing required fields will cause rows to be skipped"}),t.jsx("li",{children:"Default values will be set for missing optional fields"}),t.jsx("li",{children:"Maximum file size: 100MB"}),t.jsx("li",{children:"Import patient data using queries from the database in SQLYog"})]})]})]})]})]})}function uq(){return t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center",children:[t.jsx(Gs,{className:"h-5 w-5 mr-2"}),"Patient List"]}),t.jsx(ot,{children:"View and manage all patient records"})]}),t.jsx(fe,{children:t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Gs,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Patient List"}),t.jsx("p",{className:"text-gray-600 mb-4",children:"This feature allows you to view and manage all patient records with search and filtering capabilities."}),t.jsxs(de,{variant:"outline",children:[t.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Search Patients"]})]})})]})}function fq({stats:e}){if(!e)return t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Wh,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Statistics Available"}),t.jsx("p",{className:"text-gray-600",children:"Statistics will be displayed here once data is loaded."})]})})});const n=e.total_patients>0?Math.round(e.active_patients/e.total_patients*100):0,r=e.total_patients>0?Math.round(e.patients_with_nationality_id/e.total_patients*100):0;return t.jsx("div",{className:"space-y-6",children:t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center",children:[t.jsx(Wh,{className:"h-5 w-5 mr-2"}),"Patient Statistics Overview"]}),t.jsx(ot,{children:"Detailed breakdown of patient data and trends"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx(Gs,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.total_patients.toLocaleString()}),t.jsx("p",{className:"text-sm text-gray-600",children:"Total Patients"})]}),t.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[t.jsx(sD,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),t.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n,"%"]}),t.jsx("p",{className:"text-sm text-gray-600",children:"Active Rate"})]}),t.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx(ur,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:e.recent_imports}),t.jsx("p",{className:"text-sm text-gray-600",children:"Recent Imports"})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Patient Breakdown"}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[t.jsx("span",{className:"font-medium",children:"Active Patients"}),t.jsxs("span",{className:"text-green-600 font-semibold",children:[e.active_patients.toLocaleString()," (",n,"%)"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[t.jsx("span",{className:"font-medium",children:"Inactive Patients"}),t.jsxs("span",{className:"text-red-600 font-semibold",children:[e.inactive_patients.toLocaleString()," (",100-n,"%)"]})]}),t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[t.jsx("span",{className:"font-medium",children:"With Nationality ID"}),t.jsxs("span",{className:"text-purple-600 font-semibold",children:[e.patients_with_nationality_id.toLocaleString()," (",r,"%)"]})]})]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:"Import Activity"}),t.jsx("div",{className:"p-4 bg-orange-50 rounded-lg",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:"Recent Imports (30 days)"}),t.jsx("p",{className:"text-sm text-gray-600",children:"New patients added through Excel imports"})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("p",{className:"text-2xl font-bold text-orange-600",children:e.recent_imports}),t.jsx("p",{className:"text-xs text-gray-500",children:"patients"})]})]})})]})]})]})})}function mq({onRefresh:e}){const[n,r]=p.useState([]),[l,o]=p.useState([]),[d,u]=p.useState(!1),[m,g]=p.useState(!1),{toast:x}=aa(),v=async()=>{try{u(!0);const j=await jp.getImportProgress();j.success?(r(j.data?.active_imports||[]),o(j.data?.recent_imports||[])):x({title:"Error",description:j.message||"Failed to load import progress",variant:"destructive"})}catch(j){console.error("Error loading import progress:",j),x({title:"Error",description:"Failed to load import progress",variant:"destructive"})}finally{u(!1)}},y=async()=>{g(!0),await v(),g(!1),e?.()},N=async j=>{if(confirm("Are you sure you want to cancel this import? This action cannot be undone."))try{const b=await jp.cancelImport(j);b.success?(x({title:"Success",description:"Import cancelled successfully"}),await v(),e?.()):x({title:"Error",description:b.message||"Failed to cancel import",variant:"destructive"})}catch(b){console.error("Error cancelling import:",b),x({title:"Error",description:"Failed to cancel import",variant:"destructive"})}};p.useEffect(()=>{v();const j=setInterval(()=>{n.length>0&&v()},5e3);return()=>clearInterval(j)},[]);const C=j=>{if(j===0)return"0 Bytes";const b=1024,A=["Bytes","KB","MB","GB"],D=Math.floor(Math.log(j)/Math.log(b));return parseFloat((j/Math.pow(b,D)).toFixed(2))+" "+A[D]},_=j=>{switch(j){case"processing":return t.jsx(ep,{className:"h-4 w-4 text-purple-600"});case"completed":return t.jsx(ns,{className:"h-4 w-4 text-green-600"});case"failed":return t.jsx(kn,{className:"h-4 w-4 text-red-600"});case"cancelled":return t.jsx(lT,{className:"h-4 w-4 text-gray-600"});default:return t.jsx(rt,{className:"h-4 w-4 text-yellow-600"})}};return d&&n.length===0&&l.length===0?t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(Mn,{className:"h-6 w-6 animate-spin mr-2"}),t.jsx("span",{children:"Loading import progress..."})]})})}):t.jsxs("div",{className:"space-y-6",children:[n.length>0&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx(ep,{className:"h-5 w-5 mr-2 text-purple-600"}),"Active Imports (",n.length,")"]}),t.jsxs(de,{onClick:y,disabled:m,variant:"outline",size:"sm",children:[t.jsx(Mn,{className:`h-4 w-4 mr-2 ${m?"animate-spin":""}`}),"Refresh"]})]}),t.jsx(ot,{children:"Currently processing patient imports. Progress updates automatically every 5 seconds."})]}),t.jsx(fe,{className:"space-y-4",children:n.map(j=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[_(j.status),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:j.file_name}),t.jsxs("p",{className:"text-sm text-gray-600",children:["Started ",j.elapsed_time," ago"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ee,{className:j.status_color,children:j.status_label}),t.jsxs(de,{onClick:()=>N(j.id),variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700",children:[t.jsx(Jr,{className:"h-4 w-4 mr-1"}),"Cancel"]})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"flex justify-between text-sm",children:[t.jsxs("span",{children:["Progress: ",j.progress_percentage.toFixed(1),"%"]}),t.jsxs("span",{children:[j.processed_rows.toLocaleString()," / ",j.total_rows.toLocaleString()," rows"]})]}),t.jsx($x,{value:j.progress_percentage,className:"h-2"})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium text-green-600",children:j.imported_count.toLocaleString()}),t.jsx("div",{className:"text-gray-600",children:"Imported"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium text-yellow-600",children:j.skipped_count.toLocaleString()}),t.jsx("div",{className:"text-gray-600",children:"Skipped"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium text-purple-600",children:j.duplicate_count.toLocaleString()}),t.jsx("div",{className:"text-gray-600",children:"Duplicates"})]}),t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"font-medium text-red-600",children:j.error_count.toLocaleString()}),t.jsx("div",{className:"text-gray-600",children:"Errors"})]})]}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Speed: "}),t.jsxs("span",{className:"font-medium",children:[j.processing_speed.toFixed(1)," rows/sec"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"ETA: "}),t.jsx("span",{className:"font-medium",children:j.estimated_time_remaining})]}),j.memory_usage&&t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-600",children:"Memory: "}),t.jsx("span",{className:"font-medium",children:j.memory_usage})]})]}),j.metadata&&t.jsxs("div",{className:"text-xs text-gray-500",children:[t.jsxs("span",{children:["File: ",C(j.metadata.file_size||0)," • "]}),t.jsxs("span",{children:["Type: ",j.metadata.file_type," • "]}),t.jsxs("span",{children:["Uploaded: ",new Date(j.metadata.uploaded_at).toLocaleString()]})]})]},j.id))})]}),l.length>0&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center",children:[t.jsx(Je,{className:"h-5 w-5 mr-2"}),"Recent Imports (",l.length,")"]}),t.jsx(ot,{children:"Completed and failed imports from the last 30 days"})]}),t.jsx(fe,{children:t.jsx("div",{className:"space-y-3",children:l.map(j=>t.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[_(j.status),t.jsxs("div",{children:[t.jsx("h4",{className:"font-medium",children:j.file_name}),t.jsxs("p",{className:"text-sm text-gray-600",children:[j.is_completed?"Completed":"Failed"," •",j.total_rows.toLocaleString()," rows •",j.elapsed_time]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ee,{className:j.status_color,children:j.status_label}),t.jsxs("div",{className:"text-sm text-gray-600",children:[j.imported_count.toLocaleString()," imported"]})]})]},j.id))})})]}),n.length===0&&l.length===0&&!d&&t.jsx(ue,{children:t.jsxs(fe,{className:"p-6 text-center",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Import Activity"}),t.jsx("p",{className:"text-gray-600",children:"No patient imports have been started yet. Use the import form above to begin importing patient data."})]})}),n.some(j=>j.error_log&&j.error_log.length>0)&&t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center text-red-600",children:[t.jsx(kn,{className:"h-5 w-5 mr-2"}),"Import Errors"]})}),t.jsx(fe,{children:n.filter(j=>j.error_log&&j.error_log.length>0).map(j=>t.jsxs($s,{className:"mb-3",children:[t.jsx(kn,{className:"h-4 w-4"}),t.jsxs(Vs,{children:[t.jsx("strong",{children:j.file_name})," - ",j.error_log?.length," errors",t.jsxs("div",{className:"mt-2 text-sm",children:[j.error_log?.slice(0,3).map((b,A)=>t.jsxs("div",{className:"text-red-700",children:["Row ",b.context?.row,": ",b.message]},A)),j.error_log&&j.error_log.length>3&&t.jsxs("div",{className:"text-gray-600",children:["... and ",j.error_log.length-3," more errors"]})]})]})]},j.id))})]})]})}function hq(){const{hasRole:e}=Yt(),[n,r]=p.useState(null),[l,o]=p.useState(!0),[d,u]=p.useState(null);if(!e("ADMIN"))return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(kn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})});p.useEffect(()=>{m()},[]);const m=async()=>{try{o(!0);const x=await fetch("/api/admin/patients/statistics",{headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`}});if(!x.ok)throw new Error("Failed to fetch statistics");const v=await x.json();r(v.statistics)}catch(x){u(x instanceof Error?x.message:"An error occurred")}finally{o(!1)}},g=()=>{m()};return l?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Management"}),t.jsx("p",{className:"text-gray-600",children:"Import and manage patient data"})]})}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[...Array(4)].map((x,v)=>t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"animate-pulse space-y-3",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]})})},v))})]}):d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(kn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Error"}),t.jsx("p",{className:"text-gray-600 mb-4",children:d}),t.jsx(de,{onClick:m,variant:"outline",children:"Try Again"})]})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Patient Management"}),t.jsx("p",{className:"text-gray-600",children:"Import and manage patient data"})]}),t.jsx("div",{className:"flex space-x-2",children:t.jsxs(de,{variant:"outline",onClick:m,children:[t.jsx(ur,{className:"h-4 w-4 mr-2"}),"Refresh"]})})]}),n&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Patients"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n.total_patients.toLocaleString()})]}),t.jsx(Gs,{className:"h-8 w-8 text-purple-600"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Patients"}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:n.active_patients.toLocaleString()})]}),t.jsx(Br,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"With Nationality ID"}),t.jsx("p",{className:"text-3xl font-bold text-purple-600",children:n.patients_with_nationality_id.toLocaleString()})]}),t.jsx(DN,{className:"h-8 w-8 text-purple-600"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Imports"}),t.jsx("p",{className:"text-3xl font-bold text-orange-600",children:n.recent_imports.toLocaleString()}),t.jsx("p",{className:"text-xs text-gray-500",children:"Last 30 days"})]}),t.jsx(Do,{className:"h-8 w-8 text-orange-600"})]})})})]}),t.jsxs(AS,{defaultValue:"import",className:"space-y-6",children:[t.jsxs(qx,{className:"grid w-full grid-cols-4",children:[t.jsxs(cr,{value:"import",className:"flex items-center",children:[t.jsx(Do,{className:"h-4 w-4 mr-2"}),"Import Patients"]}),t.jsxs(cr,{value:"progress",className:"flex items-center",children:[t.jsx(ur,{className:"h-4 w-4 mr-2"}),"Import Progress"]}),t.jsxs(cr,{value:"list",className:"flex items-center",children:[t.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Patient List"]}),t.jsxs(cr,{value:"stats",className:"flex items-center",children:[t.jsx(ur,{className:"h-4 w-4 mr-2"}),"Statistics"]})]}),t.jsx(dr,{value:"import",children:t.jsx(dq,{onImportComplete:g})}),t.jsx(dr,{value:"progress",children:t.jsx(mq,{onRefresh:g})}),t.jsx(dr,{value:"list",children:t.jsx(uq,{})}),t.jsx(dr,{value:"stats",children:t.jsx(fq,{stats:n})})]})]})}const pq=wn({reason:kt().min(10,"Reason must be at least 10 characters"),priority:qu(["low","normal","high","urgent"]),department_id:bs().min(1,"Please select a department"),location_id:bs().optional(),doctor_id:bs().optional()});function Vx({patient:e,isOpen:n,onClose:r,onSuccess:l}){const{toast:o}=aa(),[d,u]=p.useState(!1),[m,g]=p.useState([]),[x,v]=p.useState([]),[y,N]=p.useState([]),C=sa({resolver:na(pq),defaultValues:{reason:"",priority:"normal",department_id:0,location_id:void 0,doctor_id:void 0}});p.useEffect(()=>{n&&_()},[n]);const _=async()=>{try{const[b,A,D]=await Promise.all([Ds.getDepartments(),Ds.getLocations(),Ds.getDoctors()]);b?.success&&g(b.departments||[]),A?.success&&v(A.locations||[]),D?.success&&N(D.doctors||[])}catch(b){console.error("Error loading resources:",b)}},j=async b=>{if(e){console.log("🔵 HandoverRequestModal: Patient data:",e),console.log("🔵 HandoverRequestModal: case_note_request_id:",e.case_note_request_id),u(!0);try{let A=e.case_note_request_id;if(!A){console.log("🔵 No case_note_request_id found, trying to find it...");const S=await Ke.getCaseNoteRequestId(e.mrn);S.success&&S.data?.case_note_request_id&&(A=S.data.case_note_request_id,console.log("🔵 Found case note request ID:",A))}if(!A)throw console.error("❌ No case_note_request_id found for patient:",e),new Error("No case note request found for this patient");console.log("🔵 Submitting handover request for case note ID:",A),console.log("🔵 Form data:",b);const D=await Ke.requestHandover(A,b);if(D.success)o({title:"Success",description:"Handover request submitted successfully",variant:"success"}),C.reset(),r(),l?.();else throw new Error(D.message||"Failed to submit handover request")}catch(A){console.error("Error submitting handover request:",A),o({title:"Error",description:A.response?.data?.message||A.message||"Failed to submit handover request",variant:"destructive"})}finally{u(!1)}}};return!n||!e?null:t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsxs(ue,{className:"w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[t.jsxs("div",{children:[t.jsx(Be,{className:"text-xl",children:"Request Handover"}),t.jsx(ot,{children:"Request handover for case note held by another CA"})]}),t.jsx(de,{variant:"ghost",size:"sm",onClick:r,children:t.jsx(Jr,{className:"h-4 w-4"})})]}),t.jsxs(fe,{children:[t.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[t.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Patient Information"}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Name:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"MRN:"}),t.jsx("span",{className:"ml-2 font-medium",children:e.mrn})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Currently held by:"}),t.jsx("span",{className:"ml-2 font-medium text-red-600",children:e.current_holder?.name||"Unknown"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Status:"}),t.jsx(Ee,{variant:"destructive",className:"ml-2",children:"Unavailable"})]})]})]}),t.jsx(nc,{...C,children:t.jsxs("form",{onSubmit:C.handleSubmit(j),className:"space-y-4",children:[t.jsx(_t,{control:C.control,name:"reason",render:({field:b})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Reason for Handover Request *"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Please explain why you need this case note...",className:"min-h-[100px]",...b})}),t.jsx(Is,{children:"Provide a clear reason for requesting this case note from the current holder."}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:C.control,name:"priority",render:({field:b})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Priority *"}),t.jsxs(ht,{onValueChange:b.onChange,defaultValue:b.value,children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select priority"})})}),t.jsxs(ft,{children:[t.jsx(we,{value:"low",children:"Low"}),t.jsx(we,{value:"normal",children:"Normal"}),t.jsx(we,{value:"high",children:"High"}),t.jsx(we,{value:"urgent",children:"Urgent"})]})]}),t.jsx(Ct,{})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(_t,{control:C.control,name:"department_id",render:({field:b})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Department *"}),t.jsxs(ht,{onValueChange:A=>b.onChange(parseInt(A)),value:b.value?.toString(),children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select department"})})}),t.jsx(ft,{children:m.map(A=>t.jsx(we,{value:A.value.toString(),children:A.label},A.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:C.control,name:"location_id",render:({field:b})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Location"}),t.jsxs(ht,{onValueChange:A=>b.onChange(parseInt(A)),value:b.value?.toString(),children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select location (optional)"})})}),t.jsx(ft,{children:x.map(A=>t.jsx(we,{value:A.value.toString(),children:A.label},A.value))})]}),t.jsx(Ct,{})]})})]}),t.jsx(_t,{control:C.control,name:"doctor_id",render:({field:b})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Doctor"}),t.jsxs(ht,{onValueChange:A=>b.onChange(parseInt(A)),value:b.value?.toString(),children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select doctor (optional)"})})}),t.jsx(ft,{children:y.map(A=>t.jsx(we,{value:A.value.toString(),children:A.label},A.value))})]}),t.jsx(Ct,{})]})}),t.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[t.jsx(de,{type:"button",variant:"outline",onClick:r,disabled:d,children:"Cancel"}),t.jsx(de,{type:"submit",disabled:d,children:d?t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(hu,{className:"h-4 w-4 mr-2"}),"Submit Request"]})})]})]})})]})]})})}const xq=(e,n,r,l,o)=>{if(n&&r)return l?t.jsxs(Ee,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-200",children:[t.jsx(rt,{className:"h-3 w-3"}),t.jsx("span",{children:"WAITING FOR MR APPROVAL"})]}):t.jsxs(Ee,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-200",children:[t.jsx(rt,{className:"h-3 w-3"}),t.jsx("span",{children:"WAITING FOR APPROVAL"})]});if(o)return t.jsxs(Ee,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:[t.jsx(Ge,{className:"h-3 w-3"}),t.jsx("span",{children:"COMPLETED"})]});const d={pending:{icon:rt,className:"bg-yellow-100 text-yellow-800 border-yellow-200"},approved:{icon:Ge,className:"bg-green-100 text-green-800 border-green-200"},in_progress:{icon:rt,className:"bg-purple-100 text-purple-800 border-purple-200"},completed:{icon:Ge,className:"bg-emerald-100 text-emerald-800 border-emerald-200"},rejected:{icon:Lt,className:"bg-red-100 text-red-800 border-red-200"}},u=d[e]||d.pending,m=u.icon;return t.jsxs(Ee,{variant:"outline",className:`flex items-center space-x-1 ${u.className}`,children:[t.jsx(m,{className:"h-3 w-3"}),t.jsx("span",{children:e.replace("_"," ").toUpperCase()})]})},gq=(e,n,r,l,o)=>(console.log("Involvement Badge Debug:",{requestedBy:e,currentPIC:n,userId:r,isCreator:e===r,isCurrentPIC:n===r,currentPICIsNull:n===null||n===0,isIndividualRequest:l,status:o}),l?t.jsxs(Ee,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-200",children:[t.jsx(Je,{className:"h-3 w-3 mr-1"}),"Requested by Me"]}):o==="completed"&&e===r&&n!==r?t.jsxs(Ee,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:[t.jsx(Qh,{className:"h-3 w-3 mr-1"}),"Returned & Completed"]}):e===r?n===r?t.jsxs(Ee,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-200",children:[t.jsx(Je,{className:"h-3 w-3 mr-1"}),"Requested & Verified"]}):n===null||n===0?t.jsxs(Ee,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:[t.jsx(Je,{className:"h-3 w-3 mr-1"}),"Created"]}):t.jsxs(Ee,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:[t.jsx(Qh,{className:"h-3 w-3 mr-1"}),"Handed Over"]}):n===r?t.jsxs(Ee,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-200",children:[t.jsx(Gs,{className:"h-3 w-3 mr-1"}),"Handed Over to Me"]}):t.jsxs(Ee,{variant:"outline",className:"bg-gray-100 text-gray-800 border-gray-200",children:[t.jsx(Mt,{className:"h-3 w-3 mr-1"}),"Previously Involved"]}));function vq(){const{user:e}=Yt(),[n,r]=p.useState([]),[l,o]=p.useState([]),[d,u]=p.useState(!0),[m,g]=p.useState(null),[x,v]=p.useState(""),[y,N]=p.useState("all"),[C,_]=p.useState("all"),[j,b]=p.useState(!1),[A,D]=p.useState(null);p.useEffect(()=>{(async()=>{if(e){u(!0),g(null);try{const $=await Ke.getRequests({page:1,per_page:1e3,sort_by:"created_at",sort_order:"desc",include_all_involvement:!0}),M=await Ke.getIndividualRequests({per_page:1e3});if($.success?r($.requests.data):g("Failed to load requests"),M&&M.success){const Q=M.data?.data||M.data||[];o(Q)}}catch($){console.error("Error loading requests:",$),g("Failed to load requests")}finally{u(!1)}}})()},[e]);const S=[...n,...l.map(k=>({...k,is_individual_request:!0,display_status:"Waiting for MR Approval",is_waiting_for_approval:!0,patient:k.patient,department:k.department,doctor:k.doctor,location:k.location,requested_by_user_id:e?.id,current_pic_user_id:null}))],q=S.filter(k=>{const $=!x||k.patient?.name?.toLowerCase().includes(x.toLowerCase())||k.patient?.mrn?.toLowerCase().includes(x.toLowerCase())||k.request_number?.toLowerCase().includes(x.toLowerCase());let M=!0;y!=="all"&&(y==="waiting_for_approval"?M=k.is_waiting_for_approval===!0:y==="waiting_for_mr_approval"?M=k.is_individual_request===!0:M=k.status===y);let Q=!0;if(C!=="all"){const Z=k.requested_by_user_id===e?.id,z=k.current_pic_user_id===e?.id,O=k.is_individual_request===!0;switch(C){case"created":Q=Z||O;break;case"assigned":Q=z&&!Z&&!O;break;case"handed_over":Q=Z&&!z&&!O;break;case"current":Q=z||O;break}}return $&&M&&Q}),R=()=>{b(!1),D(null),window.location.reload()};return e?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-2"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Case Notes"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Track all case notes you've been involved with - created, assigned, handed over, or individual requests waiting for MR approval"})]})}),t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Xo,{className:"h-5 w-5"}),t.jsx("span",{children:"Filters"})]})}),t.jsx(fe,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Ft,{placeholder:"Search by patient name, MRN, or request number...",value:x,onChange:k=>v(k.target.value),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs(ht,{value:y,onValueChange:N,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All statuses"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Statuses"}),t.jsx(we,{value:"pending",children:"Pending"}),t.jsx(we,{value:"approved",children:"Approved"}),t.jsx(we,{value:"in_progress",children:"In Progress"}),t.jsx(we,{value:"completed",children:"Completed"}),t.jsx(we,{value:"rejected",children:"Rejected"}),t.jsx(we,{value:"waiting_for_approval",children:"Waiting for Approval"}),t.jsx(we,{value:"waiting_for_mr_approval",children:"Waiting for MR Approval"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Involvement"}),t.jsxs(ht,{value:C,onValueChange:_,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All involvement"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Involvement"}),t.jsx(we,{value:"created",children:"Created by Me"}),t.jsx(we,{value:"assigned",children:"Assigned to Me"}),t.jsx(we,{value:"handed_over",children:"Handed Over by Me"}),t.jsx(we,{value:"current",children:"Currently Mine"})]})]})]})]})})]}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsx(Be,{children:"Case Note Requests"}),t.jsxs(ot,{children:["Showing ",q.length," of ",S.length," requests"]}),t.jsx("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-600",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-1 py-0.5 rounded",children:"✓"}),t.jsx("span",{children:"Returned & Completed (no longer active)"})]})})]}),t.jsx(fe,{children:d?t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((k,$)=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[t.jsx(Pe,{className:"h-12 w-12 rounded-full"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]}),t.jsx(Pe,{className:"h-6 w-20"}),t.jsx(Pe,{className:"h-6 w-24"})]},$))}):m?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Lt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("p",{className:"text-red-600 mb-4",children:m}),t.jsx(de,{onClick:()=>window.location.reload(),children:"Try Again"})]}):q.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No case note requests found"}),t.jsx(Gt,{to:"/requests/new",children:t.jsxs(de,{children:[t.jsx(Je,{className:"h-4 w-4 mr-2"}),"Create New Request"]})})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Patient Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"MRN"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Involvement"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{children:q.map(k=>{const $=k.status==="completed"&&k.requested_by_user_id===e?.id&&k.current_pic_user_id!==e?.id,M=$?"border-b hover:bg-green-50 bg-green-25":"border-b hover:bg-gray-50";return t.jsxs("tr",{className:M,children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:new Date(k.created_at).toLocaleDateString()})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("p",{className:"font-medium text-gray-900",children:k.patient?.name||"N/A"}),$&&t.jsx("span",{className:"text-xs text-green-600 bg-green-100 px-1 py-0.5 rounded",title:"Completed and handed over - no longer active",children:"✓"})]}),t.jsxs("p",{className:"text-sm text-gray-500",children:["#",k.request_number]})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"text-sm text-gray-600",children:k.patient?.mrn||"N/A"})}),t.jsx("td",{className:"py-3 px-4",children:xq(k.status,k.display_status,k.is_waiting_for_approval,k.is_individual_request,$)}),t.jsx("td",{className:"py-3 px-4",children:gq(k.requested_by_user_id,k.current_pic_user_id||0,e?.id||0,k.is_individual_request,k.status)}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("div",{className:"flex space-x-2",children:t.jsx(Gt,{to:`/requests/${k.id}`,children:t.jsxs(de,{variant:"outline",size:"sm",children:[t.jsx(Je,{className:"h-4 w-4 mr-2"}),"View Details"]})})})})]},k.id)})})]})})})]}),t.jsx(Vx,{patient:A,isOpen:j,onClose:()=>b(!1),onSuccess:R})]}):t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pe,{className:"h-4 w-48 mx-auto mb-2"}),t.jsx(Pe,{className:"h-4 w-32 mx-auto"})]})})}const Db=e=>{const n={pending:{icon:rt,className:"bg-yellow-100 text-yellow-800 border-yellow-200"},approved:{icon:Ge,className:"bg-green-100 text-green-800 border-green-200"},in_progress:{icon:rt,className:"bg-purple-100 text-purple-800 border-purple-200"},completed:{icon:Ge,className:"bg-emerald-100 text-emerald-800 border-emerald-200"},rejected:{icon:Lt,className:"bg-red-100 text-red-800 border-red-200"}},r=n[e]||n.pending,l=r.icon;return t.jsxs(Ee,{variant:"outline",className:`flex items-center space-x-1 ${r.className}`,children:[t.jsx(l,{className:"h-3 w-3"}),t.jsx("span",{children:e.replace("_"," ").toUpperCase()})]})};function yq(){const{user:e,hasRole:n}=Yt(),[r,l]=p.useState(""),[o,d]=p.useState([]),[u,m]=p.useState(null),[g,x]=p.useState([]),[v,y]=p.useState(!1),[N,C]=p.useState(!1),[_,j]=p.useState(null),b=async()=>{if(r.trim()){C(!0),j(null),m(null),x([]);try{const S=await Ke.getRequests({page:1,per_page:50,search:r.trim(),sort_by:"created_at",sort_order:"desc"});S.success?d(S.requests.data):j("Failed to search case notes")}catch(S){console.error("Search error:",S),j("Failed to search case notes")}finally{C(!1)}}},A=async S=>{m(S),y(!0);try{const q=await Ke.getRequest(S.id);q.success&&x(q.timeline||[])}catch(q){console.error("Error loading request details:",q)}finally{y(!1)}},D=S=>{S.key==="Enter"&&b()};return e?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-2",children:t.jsx(Gt,{to:"/dashboard",children:t.jsxs(de,{variant:"ghost",size:"sm",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Case Note Search"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Search for specific case notes by patient name or MRN to view detailed information and tracking logs"})]})}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Ss,{className:"h-5 w-5"}),t.jsx("span",{children:"Search Case Notes"})]}),t.jsx(ot,{children:"Enter patient name or MRN to find specific case notes"})]}),t.jsx(fe,{children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx("div",{className:"flex-1",children:t.jsx(Ft,{placeholder:"Search by patient name or MRN...",value:r,onChange:S=>l(S.target.value),onKeyPress:D,className:"w-full"})}),t.jsx(de,{onClick:b,disabled:N||!r.trim(),children:N?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Searching..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ss,{className:"h-4 w-4 mr-2"}),"Search"]})})]})})]}),o.length>0&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{children:["Search Results (",o.length,")"]}),t.jsx(ot,{children:"Click on a case note to view detailed information and tracking logs"})]}),t.jsx(fe,{children:t.jsx("div",{className:"space-y-3",children:o.map(S=>t.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg cursor-pointer transition-colors ${u?.id===S.id?"bg-purple-50 border-purple-200":"hover:bg-gray-50"}`,onClick:()=>A(S),children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(Je,{className:"h-6 w-6 text-purple-600"})}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900",children:["#",S.request_number]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mt-1",children:[t.jsx("span",{className:"font-medium",children:S.patient?.name}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:["MRN: ",S.patient?.mrn]}),t.jsx("span",{children:"•"}),t.jsx(hs,{className:"h-3 w-3"}),t.jsx("span",{children:new Date(S.created_at).toLocaleDateString()})]}),t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500 mt-1",children:[t.jsxs("span",{children:["Requested by: ",S.requested_by?.name]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:["Department: ",S.department?.name]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[Db(S.status),t.jsx(de,{variant:"outline",size:"sm",children:"View Details"})]})]},S.id))})})]}),u&&t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Je,{className:"h-5 w-5"}),t.jsx("span",{children:"Case Note Details"})]})}),t.jsx(fe,{children:v?t.jsxs("div",{className:"space-y-4",children:[t.jsx(Pe,{className:"h-4 w-full"}),t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-4 w-1/2"})]}):t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Request Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Request Number:"}),t.jsxs("span",{className:"font-medium",children:["#",u.request_number]})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Status:"}),Db(u.status)]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Priority:"}),t.jsx("span",{className:"font-medium",children:u.priority.toUpperCase()})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Created:"}),t.jsx("span",{className:"font-medium",children:new Date(u.created_at).toLocaleDateString()})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Patient Information"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Name:"}),t.jsx("span",{className:"font-medium",children:u.patient?.name})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"MRN:"}),t.jsx("span",{className:"font-medium",children:u.patient?.mrn})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Request Details"}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Requested by:"}),t.jsx("span",{className:"font-medium",children:u.requested_by?.name})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Department:"}),t.jsx("span",{className:"font-medium",children:u.department?.name})]}),u.doctor&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Doctor:"}),t.jsx("span",{className:"font-medium",children:u.doctor.name})]}),u.location&&t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Location:"}),t.jsx("span",{className:"font-medium",children:u.location.name})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Purpose"}),t.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:u.purpose})]}),u.remarks&&t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Remarks"}),t.jsx("p",{className:"text-sm text-gray-700 bg-gray-50 p-3 rounded-lg",children:u.remarks})]})]})})]}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Jh,{className:"h-5 w-5"}),t.jsx("span",{children:"Case Note Timeline"})]}),t.jsx(ot,{children:"Complete tracking history of this case note"})]}),t.jsx(fe,{children:v?t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((S,q)=>t.jsxs("div",{className:"flex space-x-3",children:[t.jsx(Pe,{className:"h-3 w-3 rounded-full mt-2"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]})]},q))}):g.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Jh,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No timeline events found"})]}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-4 p-3 bg-gray-100 rounded-lg text-xs",children:[t.jsx("div",{className:"font-medium mb-2",children:"Timeline Debug Info:"}),t.jsxs("div",{children:["User ID: ",e?.id]}),t.jsxs("div",{children:["User Roles: ",e?.roles?.join(", ")||"No roles"]}),t.jsxs("div",{children:["Has Role CA: ",n("CA")?"Yes":"No"]}),t.jsxs("div",{children:["Has Role MR_STAFF: ",n("MR_STAFF")?"Yes":"No"]}),t.jsxs("div",{children:["Has Role ADMIN: ",n("ADMIN")?"Yes":"No"]}),t.jsxs("div",{children:["Timeline Events: ",g.length]}),t.jsxs("div",{children:["Handover Events: ",g.filter(S=>S.type==="handed_over").length]}),g.filter(S=>S.type==="handed_over").map((S,q)=>t.jsxs("div",{className:"mt-2 p-2 bg-white rounded border",children:[t.jsxs("div",{children:["Event ",q+1,": ",S.type]}),t.jsxs("div",{children:["Metadata Keys: ",S.metadata?Object.keys(S.metadata).join(", "):"No metadata"]}),t.jsxs("div",{children:["Handed Over To: ",S.metadata?.handed_over_to_user_name||"Not found"]}),t.jsxs("div",{children:["Reason: ",S.metadata?.handover_reason||"Not found"]})]},q))]}),t.jsx("div",{className:"space-y-4",children:g.map((S,q)=>{const R=k=>{switch(k){case"created":return"bg-purple-500";case"handover_requested":return"bg-purple-500";case"submitted":return"bg-purple-500";case"approved":return"bg-green-500";case"handover_approved":return"bg-green-500";case"handover_verified":return"bg-green-500";case"handover_receipt_verified":return"bg-green-500";case"returned_verified":return"bg-green-500";case"received":return"bg-green-500";case"Acknowledge":return"bg-green-500";case"completed":return"bg-emerald-500";case"rejected":return"bg-red-500";case"handover_rejected":return"bg-red-500";case"rejected_not_received":return"bg-red-500";case"returned_rejected":return"bg-red-500";case"handed_over":return"bg-orange-500";case"status_changed":return"bg-orange-500";case"in_progress":return"bg-purple-500";case"updated":return"bg-purple-500";default:return"bg-gray-500"}};return t.jsxs("div",{className:"flex space-x-3",children:[t.jsxs("div",{className:"flex-shrink-0",children:[t.jsx("div",{className:`w-3 h-3 ${R(S.type)} rounded-full mt-2`}),q<g.length-1&&t.jsx("div",{className:"w-0.5 h-12 bg-gray-200 mx-auto mt-1"})]}),t.jsxs("div",{className:"flex-1 pb-4",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx("span",{className:"font-medium text-gray-900",children:S.description}),t.jsx("span",{className:"text-sm text-gray-500",children:"•"}),t.jsx("span",{className:"text-sm text-gray-500",children:S.occurred_at_human})]}),S.type==="handed_over"&&S.metadata&&t.jsxs("div",{className:"mt-2 bg-orange-50 border border-orange-200 rounded-lg p-3",children:[t.jsxs("h4",{className:"text-sm font-medium text-orange-900 mb-3 flex items-center",children:[t.jsx(Qh,{className:"h-4 w-4 mr-1"}),"Handover Details"]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[S.metadata.handed_over_from_user_name&&t.jsxs("div",{className:"bg-white rounded-lg p-2 border border-orange-100",children:[t.jsx("span",{className:"text-xs text-gray-600 block",children:"From:"}),t.jsx("p",{className:"font-medium text-gray-900 text-sm",children:S.metadata.handed_over_from_user_name})]}),S.metadata.handed_over_to_user_name&&t.jsxs("div",{className:"bg-white rounded-lg p-2 border border-orange-100",children:[t.jsx("span",{className:"text-xs text-gray-600 block",children:"To:"}),t.jsx("p",{className:"font-medium text-gray-900 text-sm",children:S.metadata.handed_over_to_user_name})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[S.metadata.department_name&&t.jsxs("div",{className:"bg-white rounded-lg p-2 border border-orange-100",children:[t.jsx("span",{className:"text-xs text-gray-600 block",children:"Department:"}),t.jsx("p",{className:"font-medium text-gray-900 text-sm",children:S.metadata.department_name})]}),S.metadata.location_name&&t.jsxs("div",{className:"bg-white rounded-lg p-2 border border-orange-100",children:[t.jsx("span",{className:"text-xs text-gray-600 block",children:"Location:"}),t.jsx("p",{className:"font-medium text-gray-900 text-sm",children:S.metadata.location_name})]})]}),S.metadata.handover_reason&&t.jsxs("div",{className:"bg-white rounded-lg p-2 border border-orange-100",children:[t.jsx("span",{className:"text-xs text-gray-600 block",children:"Handover Reason:"}),t.jsx("p",{className:"font-medium text-gray-900 text-sm",children:S.metadata.handover_reason})]}),S.metadata.additional_notes&&t.jsxs("div",{className:"bg-white rounded-lg p-2 border border-orange-100",children:[t.jsx("span",{className:"text-xs text-gray-600 block",children:"Additional Notes:"}),t.jsx("p",{className:"font-medium text-gray-900 text-sm",children:S.metadata.additional_notes})]}),S.metadata.handover_status&&t.jsxs("div",{className:"bg-white rounded-lg p-2 border border-orange-100",children:[t.jsx("span",{className:"text-xs text-gray-600 block",children:"Status:"}),t.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${S.metadata.handover_status==="pending"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:S.metadata.handover_status.charAt(0).toUpperCase()+S.metadata.handover_status.slice(1)})]})]})]}),S.metadata&&Object.keys(S.metadata).length>0&&t.jsx("div",{className:`mt-2 p-3 rounded-lg border-2 ${S.type.includes("rejected")||S.type.includes("rejected_not_received")||S.type.includes("returned_rejected")?"bg-red-50 border-red-200":S.type.includes("approved")||S.type.includes("verified")||S.type.includes("received")||S.type.includes("completed")?"bg-green-50 border-green-200":S.type.includes("requested")||S.type.includes("created")||S.type.includes("submitted")?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:t.jsxs("div",{className:"space-y-2",children:[(S.metadata.notes||S.metadata.reason||S.metadata.verification_notes||S.metadata.completion_notes||S.metadata.approval_remarks||S.metadata.rejection_reason||S.metadata.handover_reason)&&t.jsxs("div",{className:`bg-white p-2 rounded border-l-4 ${S.type.includes("rejected")||S.type.includes("rejected_not_received")||S.type.includes("returned_rejected")?"border-red-400":S.type.includes("approved")||S.type.includes("verified")||S.type.includes("received")||S.type.includes("completed")?"border-green-400":S.type.includes("requested")||S.type.includes("created")||S.type.includes("submitted")?"border-purple-400":"border-purple-400"}`,children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Comments:"}),t.jsx("p",{className:"text-sm text-gray-700",children:S.metadata.notes||S.metadata.reason||S.metadata.verification_notes||S.metadata.completion_notes||S.metadata.approval_remarks||S.metadata.rejection_reason||S.metadata.handover_reason})]}),(S.metadata.doctor_name||S.metadata.handover_doctor_name||S.metadata.new_doctor_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-green-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Doctor:"}),t.jsx("p",{className:"text-sm text-gray-700",children:S.metadata.doctor_name||S.metadata.handover_doctor_name||S.metadata.new_doctor_name})]}),(S.metadata.department_name||S.metadata.new_department_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-purple-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Department:"}),t.jsx("p",{className:"text-sm text-gray-700",children:S.metadata.department_name||S.metadata.new_department_name})]}),S.metadata.location_name&&S.metadata.location_name!=="No specific location"&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-orange-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Location:"}),t.jsx("p",{className:"text-sm text-gray-700",children:S.metadata.location_name})]}),(S.metadata.from_user||S.metadata.to_user||S.metadata.handed_over_from_user_name||S.metadata.handed_over_to_user_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-indigo-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Transfer:"}),t.jsxs("p",{className:"text-sm text-gray-700",children:[S.metadata.from_user||S.metadata.handed_over_from_user_name," → ",S.metadata.to_user||S.metadata.handed_over_to_user_name]})]}),(S.metadata.old_status||S.metadata.new_status)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-yellow-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Status Change:"}),t.jsxs("p",{className:"text-sm text-gray-700",children:[S.metadata.old_status," → ",S.metadata.new_status]})]})]})})]})]},S.id)})})]})})]})]}),r&&!N&&o.length===0&&!_&&t.jsx(ue,{children:t.jsxs(fe,{className:"text-center py-8",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-2",children:"No case notes found"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Try searching with a different patient name or MRN"})]})}),_&&t.jsx(ue,{children:t.jsxs(fe,{className:"text-center py-8",children:[t.jsx(Lt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("p",{className:"text-red-600 mb-4",children:_}),t.jsx(de,{onClick:b,children:"Try Again"})]})})]}):t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pe,{className:"h-4 w-48 mx-auto mb-2"}),t.jsx(Pe,{className:"h-4 w-32 mx-auto"})]})})}const jq=wn({patient_id:bs().min(1,"Please select a patient"),patient:wn({id:bs(),name:kt(),mrn:kt(),nationality_id:kt().nullable().optional(),has_medical_alerts:nL().optional()}).optional()}),bq=wn({case_notes:Ax(jq).min(1,"Please add at least one case note").max(20,"Maximum 20 case notes allowed"),department_id:bs().min(1,"Please select a department").or(hL(0)),doctor_id:bs().optional(),location_id:bs().optional(),priority:kt().min(1,"Please select a priority"),purpose:kt().min(10,"Purpose must be at least 10 characters"),needed_date:kt().min(1,"Please select when case notes are needed"),batch_notes:kt().optional()}),Kl=[{id:"case-notes",title:"Add Case Notes",icon:Gs,description:"Add patients whose case notes you need (up to 20)"},{id:"department",title:"Department & Doctor",icon:mr,description:"Choose the department and requesting doctor for all case notes"},{id:"details",title:"Request Details",icon:Je,description:"Specify priority, purpose, and additional information for the batch"},{id:"review",title:"Review & Submit",icon:ns,description:"Review all case notes and submit the batch request"}],Nq=({onSuccess:e,onCancel:n})=>{const{hasPermission:r}=Yt(),{toast:l}=aa(),[o,d]=p.useState(0),[u,m]=p.useState(!1),[g,x]=p.useState(!1),[v,y]=p.useState(null),[N,C]=p.useState(!1),[_,j]=p.useState(null);p.useEffect(()=>{console.log("Debug - currentStep changed to:",o)},[o]);const[b,A]=p.useState([]),[D,S]=p.useState([]),[q,R]=p.useState([]),[k,$]=p.useState([]),M=sa({resolver:na(bq),defaultValues:{case_notes:[{patient_id:0}],department_id:0,doctor_id:void 0,location_id:void 0,priority:void 0,purpose:"",needed_date:void 0,batch_notes:""}}),{control:Q,watch:Z,setValue:z,getValues:O}=M,{fields:Y,append:B,remove:P}=KL({control:Q,name:"case_notes"}),L=Z(["priority","purpose","needed_date"]),X=Z("case_notes");p.useEffect(()=>{if(!r("create_requests")){n?.();return}},[r,n]),p.useEffect(()=>{(async()=>{try{const[he,ce,Te]=await Promise.all([Ds.getDepartments(),Ds.getLocations(),Ds.getPriorities()]);he.success&&A(he.departments),ce.success&&R(ce.locations),Te.success&&$(Te.priorities)}catch(he){console.error("Failed to load resources:",he),l({title:"Error",description:"Failed to load form resources. Please try again.",variant:"destructive"})}})()},[l]),p.useEffect(()=>{(async()=>{try{const he=await Ds.getDoctors();he.success&&S(he.doctors)}catch(he){console.error("Failed to load doctors:",he),S([])}})()},[]);const H=(ve,he)=>{if(console.log(`Debug - Setting patient for case note ${ve}:`,he),he.has_existing_requests&&!he.is_available){l({title:"Patient Not Available",description:he.handover_status==="requested"?"This patient has a pending handover request and cannot be selected.":"This patient is currently held by another CA and cannot be selected.",variant:"destructive"});return}z(`case_notes.${ve}.patient_id`,he.id),z(`case_notes.${ve}.patient`,he),M.clearErrors(`case_notes.${ve}.patient_id`),console.log("Debug - Form values after setting patient:",O())},ie=ve=>{console.log("🔵 BatchRequestForm: handleRequestHandover called with patient:",ve),console.log("🔵 BatchRequestForm: patient.case_note_request_id:",ve.case_note_request_id),j(ve),C(!0)},U=()=>{C(!1),j(null)},le=()=>{Y.length<20&&B({patient_id:0})},K=ve=>{Y.length>1&&P(ve)},F=()=>{switch(o){case 0:console.log("Debug - Case notes values:",X);const ve=Y.every((xs,je)=>{const qe=O(`case_notes.${je}`);return console.log(`Debug - Case note ${je}:`,qe),console.log(`Debug - Patient ID: ${qe.patient_id}, Valid: ${qe.patient_id&&qe.patient_id>0}`),qe.patient_id&&qe.patient_id>0});return console.log(`Debug - Fields count: ${Y.length}, All valid: ${ve}, Can proceed: ${ve&&Y.length>0}`),ve&&Y.length>0;case 1:const he=O("department_id");return he&&he>0;case 2:const[ce,Te,bt]=L;return ce&&ce!==""&&Te&&Te.trim().length>=10&&bt&&bt!=="";default:return!0}},T=()=>{console.log("Debug - goToNext called"),console.log("Debug - currentStep:",o),console.log("Debug - STEPS.length:",Kl.length),console.log("Debug - canGoNext():",F()),console.log("Debug - condition check:",o<Kl.length-1&&F());const ve=M.formState;console.log("Debug - Form errors:",ve.errors),console.log("Debug - Form is valid:",ve.isValid),console.log("Debug - Form is dirty:",ve.isDirty),console.log("Debug - Form values:",O()),o<Kl.length-1&&F()?(console.log("Debug - About to set currentStep to:",o+1),d(he=>(console.log("Debug - setCurrentStep called with prev:",he),he+1))):console.log("Debug - goToNext condition failed")},re=()=>{o>0&&d(ve=>ve-1)},ne=async ve=>{if(!(u||g)){m(!0),y(null),x(!0);try{const he={case_notes:ve.case_notes.map(Te=>({patient_id:Te.patient_id})),department_id:ve.department_id,doctor_id:ve.doctor_id||void 0,location_id:ve.location_id||void 0,priority:ve.priority,purpose:ve.purpose,needed_date:ve.needed_date,batch_notes:ve.batch_notes||void 0},ce=await Ke.createBatchRequest(he);if(ce.success)l({title:"Success",description:`Batch request created successfully with ${ve.case_notes.length} case notes!`,variant:"default"}),e?.();else{const Te=ce.message||"Failed to create batch request";y(Te),l({title:"Error",description:Te,variant:"destructive"})}}catch(he){const ce="An error occurred while creating the batch request. Please try again.";y(ce),l({title:"Error",description:ce,variant:"destructive"}),console.error("Submit error:",he)}finally{m(!1)}}},me=ve=>{const he={low:{variant:"outline",className:"border-gray-300 text-gray-700 bg-gray-50"},normal:{variant:"outline",className:"border-purple-300 text-purple-700 bg-purple-50"},high:{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50"},urgent:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50"}},ce=he[ve.toLowerCase()]||he.normal;return t.jsx(Ee,{variant:ce.variant,className:`ml-2 ${ce.className}`,children:k.find(Te=>Te.value===ve)?.label})},Ne=ve=>{try{return new Date(ve).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch{return ve}};return t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsx("p",{className:"text-gray-600 mt-2",children:"Request access to multiple patient case notes in a single batch (up to 20 case notes)"})}),t.jsx(ue,{className:"mb-8",children:t.jsx(fe,{className:"p-6",children:t.jsx("div",{className:"flex items-center justify-between",children:Kl.map((ve,he)=>{const ce=he===o,Te=he<o,bt=ve.icon;return t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:Ce("w-12 h-12 rounded-full border-2 flex items-center justify-center transition-colors",ce?"border-purple-600 bg-purple-50":Te?"border-green-600 bg-green-50":"border-gray-300 bg-gray-50"),children:t.jsx(bt,{className:Ce("h-5 w-5",ce?"text-purple-600":Te?"text-green-600":"text-gray-400")})}),t.jsx("div",{className:"mt-2 text-center",children:t.jsx("p",{className:Ce("text-sm font-medium",ce?"text-purple-600":Te?"text-green-600":"text-gray-500"),children:ve.title})})]}),he<Kl.length-1&&t.jsx("div",{className:Ce("w-24 h-0.5 mx-4",he<o?"bg-green-300":"bg-gray-300")})]},ve.id)})})})}),t.jsx(nc,{...M,children:t.jsxs("form",{onSubmit:M.handleSubmit(ne),className:"space-y-8",children:[o===0&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Gs,{className:"h-5 w-5"}),t.jsxs("span",{children:["Add Case Notes (",Y.length,"/20)"]})]}),t.jsx(ot,{children:"Add patients whose case notes you need to request. You can add up to 20 case notes in this batch."})]}),t.jsxs(fe,{className:"space-y-6",children:[Y.map((ve,he)=>t.jsxs("div",{className:"border rounded-lg p-4 space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h4",{className:"font-medium text-gray-900",children:["Case Note #",he+1]}),Y.length>1&&t.jsx(de,{type:"button",variant:"ghost",size:"sm",onClick:()=>K(he),className:"text-red-600 hover:text-red-700",children:t.jsx(zo,{className:"h-4 w-4"})})]}),t.jsx(_t,{control:M.control,name:`case_notes.${he}.patient_id`,render:()=>t.jsxs(St,{children:[t.jsx(jt,{children:"Patient Search"}),t.jsx(Rt,{children:t.jsx(Px,{onPatientSelect:ce=>H(he,ce),selectedPatient:O(`case_notes.${he}.patient`),onRequestHandover:ie})}),t.jsx(Ct,{})]})})]},ve.id)),Y.length<20&&t.jsxs(de,{type:"button",variant:"outline",onClick:le,className:"w-full flex items-center space-x-2",children:[t.jsx(Ir,{className:"h-4 w-4"}),t.jsx("span",{children:"Add Another Case Note"})]})]})]}),o===1&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(mr,{className:"h-5 w-5"}),t.jsx("span",{children:"Department & Doctor"})]}),t.jsx(ot,{children:"Select the requesting department and doctor for all case notes in this batch"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsx(_t,{control:M.control,name:"department_id",render:({field:ve})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Department *"}),t.jsxs(ht,{onValueChange:he=>ve.onChange(Number(he)),value:ve.value?.toString()||"",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select a department"})})}),t.jsx(ft,{children:b.map(he=>t.jsxs(we,{value:he.value.toString(),children:[he.label," (",he.code,")"]},he.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"doctor_id",render:({field:ve})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Requesting Doctor"}),t.jsxs(ht,{onValueChange:he=>ve.onChange(he?Number(he):void 0),value:ve.value?.toString()||"",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select a doctor"})})}),t.jsx(ft,{children:D.map(he=>t.jsx(we,{value:he.value.toString(),children:he.label},he.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"location_id",render:({field:ve})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Location"}),t.jsxs(ht,{onValueChange:he=>ve.onChange(he?Number(he):void 0),value:ve.value?.toString()||"",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select a location"})})}),t.jsx(ft,{children:q.map(he=>t.jsxs(we,{value:he.value.toString(),children:[he.label," (",he.type,")"]},he.value))})]}),t.jsx(Ct,{})]})})]})]}),o===2&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Je,{className:"h-5 w-5"}),t.jsx("span",{children:"Request Details"})]}),t.jsx(ot,{children:"Specify the priority, purpose, and when you need all the case notes in this batch"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsx(_t,{control:M.control,name:"priority",render:({field:ve})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Priority *"}),t.jsxs(ht,{onValueChange:he=>z("priority",he),value:ve.value||"",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select priority level"})})}),t.jsx(ft,{children:k.map(he=>t.jsx(we,{value:he.value,children:he.label},he.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"needed_date",render:({field:ve})=>t.jsxs(St,{children:[t.jsx(jt,{children:"When do you need these? *"}),t.jsx(Rt,{children:t.jsx(Ft,{type:"date",value:ve.value||"",onChange:he=>z("needed_date",he.target.value),min:new Date().toISOString().split("T")[0]})}),t.jsx(Is,{children:"Select the date when you need all case notes in this batch to be ready"}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"purpose",render:({field:ve})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Purpose / Reason *"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Please describe why you need access to these case notes...",className:"resize-none",rows:4,value:ve.value||"",onChange:he=>z("purpose",he.target.value)})}),t.jsx(Is,{children:"Provide a clear explanation of why you need the case notes (minimum 10 characters)"}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:M.control,name:"batch_notes",render:({field:ve})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Additional Batch Notes (Optional)"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Any additional information about this batch request...",className:"resize-none",rows:3,...ve})}),t.jsx(Is,{children:"Any additional information that applies to all case notes in this batch"}),t.jsx(Ct,{})]})})]})]}),o===3&&t.jsx("div",{className:"space-y-6",children:t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(ns,{className:"h-5 w-5"}),t.jsx("span",{children:"Review & Submit"})]}),t.jsx(ot,{children:"Please review all the details before submitting your batch request"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[t.jsx(Gs,{className:"h-4 w-4 mr-2"}),"Case Notes (",Y.length," patients)"]}),t.jsx("div",{className:"space-y-3",children:Y.map((ve,he)=>{const ce=O(`case_notes.${he}.patient`);return ce?t.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("h5",{className:"font-medium",children:[he+1,". ",ce.name]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1 mt-1",children:[t.jsxs("p",{children:["MRN: ",ce.mrn]}),t.jsxs("p",{children:["NRIC/PASSPORT: ",ce.nationality_id||"Not available"]})]})]}),ce.has_medical_alerts&&t.jsxs(Ee,{variant:"destructive",children:[t.jsx(Lt,{className:"h-3 w-3 mr-1"}),"Medical Alerts"]})]})},he):null})})]}),t.jsx(di,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[t.jsx(mr,{className:"h-4 w-4 mr-2"}),"Department & Doctor"]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-2",children:[t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Department:"})," ",b.find(ve=>ve.value===O("department_id"))?.label]}),O("doctor_id")&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Doctor:"})," ",D.find(ve=>ve.value===O("doctor_id"))?.label]}),O("location_id")&&t.jsxs("p",{children:[t.jsx("span",{className:"font-medium",children:"Location:"})," ",q.find(ve=>ve.value===O("location_id"))?.label]})]})]}),t.jsx(di,{}),t.jsxs("div",{children:[t.jsxs("h4",{className:"font-medium text-gray-900 mb-3 flex items-center",children:[t.jsx(Je,{className:"h-4 w-4 mr-2"}),"Request Details"]}),t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"font-medium",children:"Priority:"}),me(O("priority"))]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Needed by:"}),t.jsxs("div",{className:"mt-1 flex items-center text-gray-600",children:[t.jsx(hs,{className:"h-4 w-4 mr-2"}),Ne(O("needed_date"))]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Purpose:"}),t.jsx("p",{className:"mt-1 text-gray-600",children:O("purpose")})]}),O("batch_notes")&&t.jsxs("div",{children:[t.jsx("span",{className:"font-medium",children:"Batch Notes:"}),t.jsx("p",{className:"mt-1 text-gray-600",children:O("batch_notes")})]})]})]}),v&&t.jsxs($s,{variant:"destructive",children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsx(Vs,{children:v})]})]})]})}),t.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[t.jsxs(de,{type:"button",variant:"outline",onClick:re,disabled:o===0,className:"flex items-center space-x-2",children:[t.jsx(Ea,{className:"h-4 w-4"}),t.jsx("span",{children:"Previous"})]}),o<Kl.length-1?t.jsxs(de,{type:"button",onClick:()=>{console.log("Debug - Next button clicked"),console.log("Debug - Current step:",o),console.log("Debug - Can go next:",F()),T()},disabled:!F(),className:"flex items-center space-x-2",children:[t.jsx("span",{children:"Next"}),t.jsx(Vr,{className:"h-4 w-4"})]}):t.jsxs("div",{className:"flex items-center space-x-4",children:[g&&!u&&t.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[t.jsx(ns,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Batch request submitted successfully!"})]}),t.jsx(de,{type:"submit",disabled:u||g,className:"flex items-center space-x-2",children:u?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t.jsx("span",{children:"Creating Batch Request..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(hu,{className:"h-4 w-4"}),t.jsx("span",{children:g?"Batch Request Submitted":"Submit Batch Request"})]})})]})]})]})}),t.jsx(Vx,{patient:_,isOpen:N,onClose:()=>C(!1),onSuccess:U})]})};var Gu="Checkbox",[wq,OU]=Sn(Gu),[_q,Ix]=wq(Gu);function Sq(e){const{__scopeCheckbox:n,checked:r,children:l,defaultChecked:o,disabled:d,form:u,name:m,onCheckedChange:g,required:x,value:v="on",internal_do_not_use_render:y}=e,[N,C]=Zr({prop:r,defaultProp:o??!1,onChange:g,caller:Gu}),[_,j]=p.useState(null),[b,A]=p.useState(null),D=p.useRef(!1),S=_?!!u||!!_.closest("form"):!0,q={checked:N,disabled:d,setChecked:C,control:_,setControl:j,name:m,form:u,value:v,hasConsumerStoppedPropagationRef:D,required:x,defaultChecked:fr(o)?!1:o,isFormControl:S,bubbleInput:b,setBubbleInput:A};return t.jsx(_q,{scope:n,...q,children:Rq(y)?y(q):l})}var OS="CheckboxTrigger",zS=p.forwardRef(({__scopeCheckbox:e,onKeyDown:n,onClick:r,...l},o)=>{const{control:d,value:u,disabled:m,checked:g,required:x,setControl:v,setChecked:y,hasConsumerStoppedPropagationRef:N,isFormControl:C,bubbleInput:_}=Ix(OS,e),j=yt(o,v),b=p.useRef(g);return p.useEffect(()=>{const A=d?.form;if(A){const D=()=>y(b.current);return A.addEventListener("reset",D),()=>A.removeEventListener("reset",D)}},[d,y]),t.jsx(Qe.button,{type:"button",role:"checkbox","aria-checked":fr(g)?"mixed":g,"aria-required":x,"data-state":FS(g),"data-disabled":m?"":void 0,disabled:m,value:u,...l,ref:j,onKeyDown:Fe(n,A=>{A.key==="Enter"&&A.preventDefault()}),onClick:Fe(r,A=>{y(D=>fr(D)?!0:!D),_&&C&&(N.current=A.isPropagationStopped(),N.current||A.stopPropagation())})})});zS.displayName=OS;var Bx=p.forwardRef((e,n)=>{const{__scopeCheckbox:r,name:l,checked:o,defaultChecked:d,required:u,disabled:m,value:g,onCheckedChange:x,form:v,...y}=e;return t.jsx(Sq,{__scopeCheckbox:r,checked:o,defaultChecked:d,disabled:m,required:u,onCheckedChange:x,name:l,form:v,value:g,internal_do_not_use_render:({isFormControl:N})=>t.jsxs(t.Fragment,{children:[t.jsx(zS,{...y,ref:n,__scopeCheckbox:r}),N&&t.jsx(US,{__scopeCheckbox:r})]})})});Bx.displayName=Gu;var PS="CheckboxIndicator",LS=p.forwardRef((e,n)=>{const{__scopeCheckbox:r,forceMount:l,...o}=e,d=Ix(PS,r);return t.jsx(la,{present:l||fr(d.checked)||d.checked===!0,children:t.jsx(Qe.span,{"data-state":FS(d.checked),"data-disabled":d.disabled?"":void 0,...o,ref:n,style:{pointerEvents:"none",...e.style}})})});LS.displayName=PS;var qS="CheckboxBubbleInput",US=p.forwardRef(({__scopeCheckbox:e,...n},r)=>{const{control:l,hasConsumerStoppedPropagationRef:o,checked:d,defaultChecked:u,required:m,disabled:g,name:x,value:v,form:y,bubbleInput:N,setBubbleInput:C}=Ix(qS,e),_=yt(r,C),j=A1(d),b=hw(l);p.useEffect(()=>{const D=N;if(!D)return;const S=window.HTMLInputElement.prototype,R=Object.getOwnPropertyDescriptor(S,"checked").set,k=!o.current;if(j!==d&&R){const $=new Event("click",{bubbles:k});D.indeterminate=fr(d),R.call(D,fr(d)?!1:d),D.dispatchEvent($)}},[N,j,d,o]);const A=p.useRef(fr(d)?!1:d);return t.jsx(Qe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??A.current,required:m,disabled:g,name:x,value:v,form:y,...n,tabIndex:-1,ref:_,style:{...n.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});US.displayName=qS;function Rq(e){return typeof e=="function"}function fr(e){return e==="indeterminate"}function FS(e){return fr(e)?"indeterminate":e?"checked":"unchecked"}const Ca=p.forwardRef(({className:e,...n},r)=>t.jsx(Bx,{ref:r,className:Ce("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...n,children:t.jsx(LS,{className:Ce("flex items-center justify-center text-current"),children:t.jsx(CN,{className:"h-4 w-4"})})}));Ca.displayName=Bx.displayName;const Cq=wn({received_case_notes:Ax(bs()).min(0,"At least one case note must be selected"),verification_notes:kt().optional()}),Aq=({isOpen:e,onClose:n,onSuccess:r,batchRequest:l})=>{const{toast:o}=aa(),[d,u]=p.useState(!1),[m,g]=p.useState(null),[x,v]=p.useState([]),y=sa({resolver:na(Cq),defaultValues:{received_case_notes:[],verification_notes:""}}),{watch:N,reset:C,setValue:_}=y,j=N("received_case_notes");p.useEffect(()=>{if(e&&l){const q=l.requests?.filter(k=>k.status==="approved")||[];v(q);const R=q.filter(k=>k.is_received).map(k=>k.id);C({received_case_notes:R,verification_notes:""}),g(null)}},[e,l,C]);const b=(q,R)=>{const k=j||[];R?_("received_case_notes",[...k,q]):_("received_case_notes",k.filter($=>$!==q))},A=async q=>{if(l){u(!0),g(null);try{const R=await Ke.verifyIndividualReceipt(l.id,{received_case_notes:q.received_case_notes,verification_notes:q.verification_notes||void 0});R.success?(o({title:"Verification Complete",description:R.message||"Case notes verified successfully",variant:"default"}),r(),n()):g(R.message||"Failed to verify case notes")}catch(R){console.error("Error verifying individual receipt:",R),g("An error occurred while verifying case notes. Please try again.")}finally{u(!1)}}};if(!l)return null;const D=x.length,S=j?.length||0;return t.jsx(qn,{open:e,onOpenChange:n,children:t.jsxs(vn,{className:"sm:max-w-2xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(yn,{children:[t.jsxs(bn,{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-5 w-5"}),t.jsx("span",{children:"Verify Individual Case Notes"})]}),t.jsxs(Nn,{children:["Mark each case note that you have physically received for batch"," ",t.jsx("span",{className:"font-medium",children:l.batch_number}),"."]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Batch Number:"}),t.jsx("span",{className:"font-mono text-sm",children:l.batch_number})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Approved Case Notes:"}),t.jsxs(Ee,{variant:"secondary",className:"flex items-center space-x-1",children:[t.jsx(Gs,{className:"h-3 w-3"}),t.jsx("span",{children:D})]})]}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Currently Selected:"}),t.jsxs(Ee,{variant:S===D?"default":"secondary",className:"flex items-center space-x-1",children:[t.jsx(Ge,{className:"h-3 w-3"}),t.jsxs("span",{children:[S,"/",D]})]})]})]}),t.jsx(nc,{...y,children:t.jsxs("form",{onSubmit:y.handleSubmit(A),className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx(jt,{className:"text-base font-medium mb-4 block",children:"Select Case Notes Received"}),t.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto border rounded-lg p-3",children:x.map(q=>{const R=j?.includes(q.id)||!1,k=q.is_received;return t.jsxs("div",{className:`flex items-start space-x-3 p-3 rounded-lg border transition-colors ${R?"bg-green-50 border-green-200":"bg-white border-gray-200"}`,children:[t.jsx(Ca,{checked:R,onCheckedChange:$=>b(q.id,$),className:"mt-1"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[t.jsx(Mt,{className:"h-4 w-4 text-gray-500"}),t.jsx("span",{className:"font-medium text-gray-900",children:q.patient.name}),k&&t.jsxs(Ee,{variant:"secondary",className:"text-xs",children:[t.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Already Received"]})]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("span",{children:["MRN: ",q.patient.mrn]}),q.patient.nationality_id&&t.jsxs("span",{children:["NRIC: ",q.patient.nationality_id]})]}),k&&q.received_at&&t.jsxs("div",{className:"text-xs text-green-600",children:["Received: ",new Date(q.received_at).toLocaleString(),q.received_by&&` by ${q.received_by.name}`]})]})]}),t.jsx(Je,{className:"h-4 w-4 text-gray-400 mt-1"})]},q.id)})}),t.jsx(Is,{className:"mt-2",children:"Check each case note that you have physically received. You can submit partial verification if some case notes are not yet available."})]}),S!==D&&D>0&&t.jsxs($s,{variant:"default",className:"border-amber-200 bg-amber-50",children:[t.jsx(Lt,{className:"h-4 w-4 text-amber-600"}),t.jsxs(Vs,{className:"text-amber-800",children:["You have selected ",S," out of ",D," approved case notes. Unselected case notes will remain pending for future verification."]})]}),t.jsx(_t,{control:y.control,name:"verification_notes",render:({field:q})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Verification Notes (Optional)"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Any additional notes about the case notes received...",className:"resize-none",rows:3,...q})}),t.jsx(Is,{children:"Add any relevant information about the received case notes, especially if not all are available."}),t.jsx(Ct,{})]})}),m&&t.jsxs($s,{variant:"destructive",children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsx(Vs,{children:m})]}),t.jsxs(jn,{className:"flex space-x-2",children:[t.jsx(de,{type:"button",variant:"outline",onClick:n,disabled:d,children:"Cancel"}),t.jsx(de,{type:"submit",disabled:d,className:"flex items-center space-x-2",children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),t.jsx("span",{children:"Submitting..."})]}):t.jsxs(t.Fragment,{children:[t.jsx(Ge,{className:"h-4 w-4"}),t.jsx("span",{children:"Submit Verification"})]})})]})]})})]})]})})},kb=()=>{const{toast:e}=aa(),{hasRole:n}=Yt(),[r,l]=p.useState([]),[o,d]=p.useState(!0),[u,m]=p.useState(null),[g,x]=p.useState(""),[v,y]=p.useState("all"),[N,C]=p.useState(!1),[_,j]=p.useState(!1),[b,A]=p.useState(null),[D,S]=p.useState(new Set);p.useEffect(()=>{q()},[]);const q=async()=>{try{d(!0);const O=await Ke.getBatchRequests();if(O&&O.success){const Y=O.batch_requests||[];l(Y);const B=new Set(Y.map(P=>P.id));S(B)}else m(O.message||"Failed to load case note requests")}catch(O){console.error("Error loading case note requests:",O),m(O instanceof Error?O.message:"Failed to load case note requests")}finally{d(!1)}},R=O=>{S(Y=>{const B=new Set(Y);return B.has(O)?B.delete(O):B.add(O),B})},k=O=>{const Y={pending:{variant:"outline",icon:rt,text:"Pending",className:"border-yellow-300 text-yellow-700 bg-yellow-50"},approved:{variant:"outline",icon:Ge,text:"Approved",className:"border-green-300 text-green-700 bg-green-50"},rejected:{variant:"outline",icon:vt,text:"Rejected",className:"border-red-300 text-red-700 bg-red-50"},partially_approved:{variant:"outline",icon:Ge,text:"Partially Approved",className:"border-purple-300 text-purple-700 bg-purple-50"}},B=Y[O]||Y.pending,P=B.icon;return t.jsxs(Ee,{variant:B.variant,className:`flex items-center space-x-1 ${B.className}`,children:[t.jsx(P,{className:"h-3 w-3"}),t.jsx("span",{children:B.text})]})},$=r.filter(O=>{const Y=O.batch_number.toLowerCase().includes(g.toLowerCase())||O.requested_by.name.toLowerCase().includes(g.toLowerCase())||O.requests&&O.requests.some(H=>H.patient.name.toLowerCase().includes(g.toLowerCase())||H.patient.mrn.toLowerCase().includes(g.toLowerCase())||H.patient.nationality_id&&H.patient.nationality_id.toLowerCase().includes(g.toLowerCase())),B=v==="all"||O.status===v,P=O.pending_count>0,L=O.status==="pending",X=n("CA")?P:P||L;return Y&&B&&X}),M=O=>{A(O),j(!0)},Q=()=>{j(!1),A(null),q()},Z=O=>{const Y=O.status==="approved"&&!O.is_verified&&(O.approved_count||0)>0;return console.log(`Debug - Can verify batch ${O.batch_number}:`,{status:O.status,is_verified:O.is_verified,approved_count:O.approved_count,canVerify:Y}),Y},z=O=>O.handover_status==="requested"?t.jsxs(Ee,{variant:"outline",className:"bg-orange-100 text-orange-700 border-orange-200",children:[t.jsx(rt,{className:"h-3 w-3 mr-1"}),"Handover Requested"]}):O.is_available?t.jsxs(Ee,{variant:"default",className:"bg-green-100 text-green-700 border-green-200",children:[t.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Available"]}):t.jsxs(Ee,{variant:"destructive",className:"bg-red-100 text-red-700 border-red-200",children:[t.jsx(vt,{className:"h-3 w-3 mr-1"}),"Unavailable"]});return N?t.jsxs("div",{className:"container mx-auto py-6",children:[t.jsx("div",{className:"flex items-center justify-between mb-6",children:t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Batch Request"})}),t.jsx(Nq,{onSuccess:()=>{C(!1),q(),e({title:"Success",description:"Batch request created successfully",variant:"default"})},onCancel:()=>C(!1)})]}):t.jsxs("div",{className:"container mx-auto py-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Case Note Requests"}),n("CA")&&t.jsxs(de,{onClick:()=>C(!0),children:[t.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create Case Note Request"]})]}),u&&t.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-red-800",children:u})}),t.jsx(ue,{className:"mb-6",children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(Ft,{placeholder:"Search by batch number, requester, or case note details...",value:g,onChange:O=>x(O.target.value),className:"pl-10"})]})}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Xo,{className:"h-4 w-4 text-gray-400"}),t.jsxs(ht,{value:v,onValueChange:y,children:[t.jsx(ut,{className:"w-40",children:t.jsx(pt,{placeholder:"Filter by status"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Statuses"}),t.jsx(we,{value:"pending",children:"Pending"}),t.jsx(we,{value:"approved",children:"Approved"}),t.jsx(we,{value:"rejected",children:"Rejected"}),t.jsx(we,{value:"partially_approved",children:"Partially Approved"})]})]})]})]})})}),o?t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((O,Y)=>t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"animate-pulse",children:[t.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-2"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("div",{className:"h-3 bg-gray-200 rounded w-3/4"}),t.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})})},Y))}):$.length===0?t.jsx(ue,{children:t.jsxs(fe,{className:"text-center py-12",children:[t.jsx("div",{className:"text-gray-400 mb-4",children:t.jsx(rt,{className:"h-12 w-12 mx-auto"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Case Note requests found"}),t.jsx("p",{className:"text-gray-500",children:g||v!=="all"?"Try adjusting your search or filters":n("CA")?"Get started by creating your first case note request":"All case note requests have been processed"}),!g&&v==="all"&&n("CA")&&t.jsxs(de,{onClick:()=>C(!0),className:"mt-4",children:[t.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create Case Note Request"]})]})}):t.jsx("div",{className:"space-y-4",children:$.map(O=>t.jsx(ue,{className:"hover:shadow-lg transition-all duration-200 border-l-4 border-l-purple-500",children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[t.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:t.jsx(xn,{className:"h-6 w-6 text-purple-600"})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"text-xl font-bold text-gray-900",children:O.batch_number}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[t.jsxs("span",{children:["By ",O.requested_by.name]}),t.jsx("span",{children:"•"}),t.jsx("span",{children:new Date(O.submitted_at).toLocaleDateString()}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:[O.requests_count+O.approved_count+O.rejected_count," total"]})]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[k(O.status),t.jsx(de,{variant:"ghost",size:"sm",onClick:()=>R(O.id),className:"ml-2 p-1 h-8 w-8",children:D.has(O.id)?t.jsx(Bp,{className:"h-4 w-4"}):t.jsx(EN,{className:"h-4 w-4"})})]})]}),!D.has(O.id)&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex justify-between items-center mb-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Processing Progress"}),t.jsxs("span",{className:"text-sm text-gray-500",children:[O.approved_count+O.rejected_count,"/",O.requests_count+O.approved_count+O.rejected_count," completed"]})]}),t.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-purple-500 h-3 rounded-full transition-all duration-300",style:{width:`${(O.approved_count+O.rejected_count)/(O.requests_count+O.approved_count+O.rejected_count)*100}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[t.jsxs("div",{className:"bg-green-50 p-3 rounded-lg border border-green-200",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ge,{className:"h-4 w-4 text-green-600"}),t.jsx("span",{className:"text-sm font-medium text-green-700",children:"Approved"})]}),t.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:O.approved_count})]}),t.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border border-red-200",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-4 w-4 text-red-600"}),t.jsx("span",{className:"text-sm font-medium text-red-700",children:"Rejected"})]}),t.jsx("p",{className:"text-2xl font-bold text-red-700 mt-1",children:O.rejected_count})]}),t.jsxs("div",{className:"bg-yellow-50 p-3 rounded-lg border border-yellow-200",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rt,{className:"h-4 w-4 text-yellow-600"}),t.jsx("span",{className:"text-sm font-medium text-yellow-700",children:"Pending"})]}),t.jsx("p",{className:"text-2xl font-bold text-yellow-700 mt-1",children:O.pending_count})]})]}),O.requests&&O.requests.length>0&&t.jsxs("div",{className:"mb-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-3",children:[t.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Latest Pending Case Notes"}),O.has_more_pending&&t.jsxs("span",{className:"text-xs text-purple-600 bg-purple-50 px-2 py-1 rounded-full",children:["+",O.pending_count-O.requests.length," more"]})]}),t.jsx("div",{className:"space-y-2",children:O.requests.map(Y=>t.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[t.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Y.patient.name}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ee,{variant:"secondary",className:"text-xs",children:Y.status}),z(Y)]})]}),t.jsxs("div",{className:"flex items-center space-x-3 text-xs text-gray-500",children:[t.jsxs("span",{children:["MRN: ",Y.patient.mrn]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:[Y.priority," priority"]}),!Y.is_available&&Y.current_holder&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsxs("span",{className:"text-red-600",children:["Held by ",Y.current_holder.name]})]}),Y.handover_status==="requested"&&t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"•"}),t.jsx("span",{className:"text-orange-600",children:"Handover requested"})]})]})]})]},Y.id))})]}),O.status==="approved"&&t.jsxs("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[t.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[t.jsx(xn,{className:"h-5 w-5 text-purple-600"}),t.jsx("span",{className:"font-medium text-purple-700",children:"Receipt Verification"})]}),t.jsxs("div",{className:"flex justify-between text-sm text-purple-700 mb-2",children:[t.jsx("span",{children:"Progress"}),t.jsxs("span",{children:[O.received_count||0,"/",O.approved_count||0," received"]})]}),t.jsx("div",{className:"w-full bg-purple-100 rounded-full h-2",children:t.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${O.approved_count?(O.received_count||0)/O.approved_count*100:0}%`}})}),O.is_verified&&t.jsxs("div",{className:"mt-2 text-xs text-purple-600 flex items-center space-x-1",children:[t.jsx(Ge,{className:"h-3 w-3"}),t.jsx("span",{children:"All case notes verified as received"})]})]}),O.batch_notes&&t.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[t.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Batch Notes:"}),t.jsx("p",{className:"text-gray-700 mt-1 text-sm",children:O.batch_notes})]})]})]}),t.jsxs("div",{className:"flex flex-col items-end space-y-3 ml-6",children:[t.jsx(de,{variant:"outline",size:"sm",asChild:!0,className:"w-full"}),n("CA")&&Z(O)&&t.jsxs(de,{variant:"default",size:"sm",onClick:()=>M(O),className:"w-full bg-green-600 hover:bg-green-700",children:[t.jsx(xn,{className:"h-4 w-4 mr-2"}),"Verify Receipt"]}),O.is_verified&&t.jsxs(Ee,{variant:"secondary",className:"bg-green-50 text-green-700 border-green-200 w-full justify-center",children:[t.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Verified"]})]})]})})},O.id))}),t.jsx(Aq,{isOpen:_,onClose:()=>{j(!1),A(null)},onSuccess:Q,batchRequest:b})]})},Eq=wn({patient_id:bs().min(1,"Please select a patient"),department_id:bs().min(1,"Please select a department"),doctor_id:bs().optional(),location_id:bs().optional(),priority:kt().min(1,"Please select a priority"),purpose:kt().min(10,"Purpose must be at least 10 characters"),needed_date:kt().min(1,"Please select when case notes are needed"),remarks:kt().optional()}),Co=[{id:"patient",title:"Select Patient",description:"Choose the patient for this case note request",icon:Mt},{id:"details",title:"Request Details",description:"Specify the case note details and requirements",icon:Je},{id:"review",title:"Review & Submit",description:"Review your request before submitting",icon:ns}],Tq=({onSuccess:e,onCancel:n})=>{const{toast:r}=aa(),[l,o]=p.useState(1),[d,u]=p.useState(!1),[m,g]=p.useState(null),[x,v]=p.useState(!1),[y,N]=p.useState([]),[C,_]=p.useState([]),[j,b]=p.useState([]),[A,D]=p.useState([]),[S,q]=p.useState(void 0),[R,k]=p.useState(!1),[$,M]=p.useState(null),Q=sa({resolver:na(Eq),defaultValues:{patient_id:0,department_id:0,doctor_id:void 0,location_id:void 0,priority:"",purpose:"",needed_date:"",remarks:""}}),{watch:Z,setValue:z,formState:{errors:O}}=Q,Y=Z();p.useEffect(()=>{B()},[]);const B=async()=>{try{const[F,T,re,ne]=await Promise.all([Ds.getDepartments(),Ds.getLocations(),Ds.getPriorities(),Ds.getDoctors()]);F.success&&N(F.departments),T.success&&b(T.locations),re.success&&D(re.priorities),ne.success&&_(ne.doctors)}catch(F){console.error("Error loading resources:",F),r({title:"Error",description:"Failed to load form resources",variant:"destructive"})}},P=()=>{l<Co.length&&o(F=>F+1)},L=()=>{l>1&&o(F=>F-1)},X=async F=>{if(!(d||x)){u(!0),g(null),v(!0);try{const T={...F,doctor_id:F.doctor_id===0?void 0:F.doctor_id,location_id:F.location_id===0?void 0:F.location_id},re=await Ke.createIndividualRequest(T);if(re.success)r({title:"Success",description:"Case note request created successfully!",variant:"default"}),e?.();else{const ne=re.message||"Failed to create case note request";g(ne),r({title:"Error",description:ne,variant:"destructive"})}}catch(T){const re="An error occurred while creating the case note request. Please try again.";g(re),r({title:"Error",description:re,variant:"destructive"}),console.error("Submit error:",T)}finally{u(!1)}}},H=F=>{const T={low:{variant:"secondary",className:"bg-gray-100 text-gray-800"},normal:{variant:"default",className:"bg-purple-100 text-purple-800"},high:{variant:"default",className:"bg-orange-100 text-orange-800"},urgent:{variant:"destructive",className:"bg-red-100 text-red-800"}},re=T[F]||T.normal;return t.jsx(Ee,{variant:re.variant,className:re.className,children:F.charAt(0).toUpperCase()+F.slice(1)})},ie=F=>F<l?"completed":F===l?"current":"upcoming",U=()=>{switch(l){case 1:return Y.patient_id>0;case 2:return Y.department_id>0&&Y.priority&&Y.purpose.length>=10&&Y.needed_date;default:return!0}},le=F=>{console.log("🔵 Request Handover clicked for patient:",F.name),M(F),k(!0)},K=()=>{k(!1),M(null),r({title:"Success",description:"Handover request submitted successfully!",variant:"default"})};return t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsx("div",{className:"mb-8",children:t.jsx("div",{className:"flex items-center justify-between",children:Co.map((F,T)=>{const re=T+1,ne=ie(re),me=F.icon;return t.jsxs("div",{className:"flex items-center",children:[t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("div",{className:Ce("w-10 h-10 rounded-full flex items-center justify-center border-2 transition-colors",ne==="completed"&&"bg-green-500 border-green-500 text-white",ne==="current"&&"bg-purple-500 border-purple-500 text-white",ne==="upcoming"&&"bg-gray-200 border-gray-300 text-gray-500"),children:ne==="completed"?t.jsx(ns,{className:"h-6 w-6"}):t.jsx(me,{className:"h-5 w-5"})}),t.jsxs("div",{className:"mt-2 text-center",children:[t.jsx("p",{className:Ce("text-sm font-medium",ne==="completed"&&"text-green-600",ne==="current"&&"text-purple-600",ne==="upcoming"&&"text-gray-500"),children:F.title}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:F.description})]})]}),re<Co.length&&t.jsx("div",{className:Ce("w-16 h-0.5 mx-4",ne==="completed"?"bg-green-500":"bg-gray-300")})]},F.id)})})}),t.jsx(nc,{...Q,children:t.jsxs("form",{onSubmit:Q.handleSubmit(X),className:"space-y-6",children:[l===1&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center gap-2",children:[t.jsx(Mt,{className:"h-5 w-5"}),"Select Patient"]}),t.jsx(ot,{children:"Choose the patient for this case note request"})]}),t.jsxs(fe,{className:"space-y-4",children:[t.jsx(Px,{onPatientSelect:F=>{z("patient_id",F.id),q(F)},selectedPatient:S,onRequestHandover:le}),O.patient_id&&t.jsx("p",{className:"text-sm text-red-600",children:O.patient_id.message})]})]}),l===2&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-5 w-5"}),"Request Details"]}),t.jsx(ot,{children:"Specify the case note details and requirements"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(_t,{control:Q.control,name:"department_id",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Department *"}),t.jsxs(ht,{onValueChange:T=>F.onChange(parseInt(T)),value:F.value?.toString(),children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select department"})})}),t.jsx(ft,{children:y.map(T=>t.jsx(we,{value:T.value.toString(),children:T.label},T.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:Q.control,name:"doctor_id",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Doctor (All departments available)"}),t.jsxs(ht,{onValueChange:T=>{T==="none"?F.onChange(void 0):F.onChange(parseInt(T))},value:F.value?.toString()||"none",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select doctor (optional)"})})}),t.jsxs(ft,{children:[t.jsx(we,{value:"none",children:"No doctor specified"}),C.map(T=>t.jsx(we,{value:T.value.toString(),children:T.label},T.value))]})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:Q.control,name:"location_id",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Location"}),t.jsxs(ht,{onValueChange:T=>{T==="none"?F.onChange(void 0):F.onChange(parseInt(T))},value:F.value?.toString()||"none",children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select location (optional)"})})}),t.jsxs(ft,{children:[t.jsx(we,{value:"none",children:"No location specified"}),j.map(T=>t.jsx(we,{value:T.value.toString(),children:T.label},T.value))]})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:Q.control,name:"priority",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Priority *"}),t.jsxs(ht,{onValueChange:F.onChange,value:F.value,children:[t.jsx(Rt,{children:t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select priority"})})}),t.jsx(ft,{children:A.map(T=>t.jsx(we,{value:T.value,children:t.jsxs("div",{className:"flex items-center gap-2",children:[H(T.value),t.jsx("span",{children:T.label})]})},T.value))})]}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:Q.control,name:"needed_date",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Needed Date *"}),t.jsx(Rt,{children:t.jsx(Ft,{type:"date",min:new Date().toISOString().split("T")[0],...F})}),t.jsx(Is,{children:"When do you need the case notes?"}),t.jsx(Ct,{})]})})]}),t.jsx(_t,{control:Q.control,name:"purpose",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Purpose *"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Describe why you need these case notes...",className:"min-h-[100px]",...F})}),t.jsx(Is,{children:"Provide a clear description of why you need these case notes"}),t.jsx(Ct,{})]})}),t.jsx(_t,{control:Q.control,name:"remarks",render:({field:F})=>t.jsxs(St,{children:[t.jsx(jt,{children:"Additional Remarks"}),t.jsx(Rt,{children:t.jsx(ms,{placeholder:"Any additional notes or special requirements...",className:"min-h-[80px]",...F})}),t.jsx(Is,{children:"Optional additional information"}),t.jsx(Ct,{})]})})]})]}),l===3&&t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center gap-2",children:[t.jsx(ns,{className:"h-5 w-5"}),"Review Your Request"]}),t.jsx(ot,{children:"Please review all details before submitting"})]}),t.jsxs(fe,{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Request Summary"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Patient:"}),t.jsx("span",{className:"ml-2 text-gray-900",children:S?`${S.name} (MRN: ${S.mrn})`:"Not selected"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Department:"}),t.jsx("span",{className:"ml-2 text-gray-900",children:y.find(F=>F.value===Y.department_id)?.label||"Not selected"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Doctor:"}),t.jsx("span",{className:"ml-2 text-gray-900",children:Y.doctor_id&&Y.doctor_id>0?C.find(F=>F.value===Y.doctor_id)?.label||"Not selected":"No doctor specified"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Location:"}),t.jsx("span",{className:"ml-2 text-gray-900",children:Y.location_id&&Y.location_id>0?j.find(F=>F.value===Y.location_id)?.label||"Not selected":"No location specified"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Priority:"}),t.jsx("span",{className:"ml-2",children:Y.priority&&H(Y.priority)})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Needed Date:"}),t.jsx("span",{className:"ml-2 text-gray-900",children:Y.needed_date?new Date(Y.needed_date).toLocaleDateString():"Not selected"})]})]}),t.jsxs("div",{className:"mt-4",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Purpose:"}),t.jsx("p",{className:"mt-1 text-gray-900",children:Y.purpose})]}),Y.remarks&&t.jsxs("div",{className:"mt-4",children:[t.jsx("span",{className:"font-medium text-gray-700",children:"Remarks:"}),t.jsx("p",{className:"mt-1 text-gray-900",children:Y.remarks})]})]}),m&&t.jsxs($s,{variant:"destructive",children:[t.jsx(Lt,{className:"h-4 w-4"}),t.jsx(Vs,{children:m})]})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[l>1&&t.jsxs(de,{type:"button",variant:"outline",onClick:L,children:[t.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Previous"]}),n&&t.jsx(de,{type:"button",variant:"outline",onClick:n,children:"Cancel"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[l<Co.length&&t.jsxs(de,{type:"button",onClick:P,disabled:!U(),children:["Next",t.jsx(Vr,{className:"h-4 w-4 ml-2"})]}),l===Co.length&&t.jsx(de,{type:"submit",disabled:d||x,className:"min-w-[120px]",children:d?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(hu,{className:"h-4 w-4 mr-2"}),"Submit Request"]})})]})]})]})}),t.jsx(Vx,{patient:$,isOpen:R,onClose:()=>k(!1),onSuccess:K})]})};function Mb(){const{toast:e}=aa(),{hasRole:n}=Yt(),r=hi(),[l,o]=p.useState([]),[d,u]=p.useState(!0),[m,g]=p.useState(null),[x,v]=p.useState(""),[y,N]=p.useState("all"),[C,_]=p.useState("all"),[j,b]=p.useState("all"),[A,D]=p.useState(!1),[S,q]=p.useState([]);p.useEffect(()=>{if(!n("CA")){e({title:"Access Denied",description:"Only Clinic Assistants can access this page.",variant:"destructive"}),r("/dashboard");return}R(),k()},[n,r,e]);const R=async()=>{try{u(!0);const z=await Ke.getIndividualRequests({search:x||void 0,status:y!=="all"?y:void 0,priority:C!=="all"?C:void 0,department_id:j!=="all"?parseInt(j):void 0});if(z&&z.success){const O=z.data?.data||z.data||[];o(O)}else g(z.message||"Failed to load requests")}catch(z){console.error("Error loading individual requests:",z),g(z instanceof Error?z.message:"Failed to load requests")}finally{u(!1)}},k=async()=>{try{const z=await Ds.getDepartments();z&&z.success&&q(z.departments||[])}catch(z){console.error("Error loading departments:",z)}},$=async z=>{if(confirm("Are you sure you want to delete this request? This action cannot be undone."))try{const O=await Ke.deleteIndividualRequest(z);O&&O.success?(e({title:"Success",description:"Request deleted successfully",variant:"default"}),R()):e({title:"Error",description:O.message||"Failed to delete request",variant:"destructive"})}catch{e({title:"Error",description:"Failed to delete request",variant:"destructive"})}},M=z=>{const O={pending:{variant:"secondary",icon:rt},approved:{variant:"default",icon:Ge},rejected:{variant:"destructive",icon:vt},in_progress:{variant:"default",icon:Je},completed:{variant:"default",icon:Ge}},Y=O[z]||O.pending,B=Y.icon;return t.jsxs(Ee,{variant:Y.variant,className:"flex items-center gap-1",children:[t.jsx(B,{className:"h-3 w-3"}),z.charAt(0).toUpperCase()+z.slice(1)]})},Q=z=>{const O={low:{variant:"secondary",className:"bg-gray-100 text-gray-800"},normal:{variant:"default",className:"bg-purple-100 text-purple-800"},high:{variant:"default",className:"bg-orange-100 text-orange-800"},urgent:{variant:"destructive",className:"bg-red-100 text-red-800"}},Y=O[z]||O.normal;return t.jsx(Ee,{variant:Y.variant,className:Y.className,children:z.charAt(0).toUpperCase()+z.slice(1)})},Z=z=>new Date(z).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return A?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-2",children:t.jsx(Gt,{to:"/individual-requests",children:t.jsxs(de,{variant:"ghost",size:"sm",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Back to Requests"]})})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Individual Case Note Request"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Create a new case note request for a specific patient"})]})}),t.jsx(Tq,{onSuccess:()=>{D(!1),R(),e({title:"Success",description:"Case note request created successfully",variant:"default"})},onCancel:()=>D(!1)})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-2"}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Request Case Notes"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage individual case note requests"})]}),t.jsxs(de,{onClick:()=>D(!0),children:[t.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create New Request"]})]}),m&&t.jsx(ue,{className:"border-red-200 bg-red-50",children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Lt,{className:"h-5 w-5 text-red-600"}),t.jsx("p",{className:"text-red-800",children:m})]})})}),t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Xo,{className:"h-5 w-5"}),t.jsx("span",{children:"Filters"})]})}),t.jsxs(fe,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Ft,{placeholder:"Search by patient name or MRN...",value:x,onChange:z=>v(z.target.value),onKeyPress:z=>z.key==="Enter"&&R(),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs(ht,{value:y,onValueChange:N,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All statuses"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Statuses"}),t.jsx(we,{value:"pending",children:"Pending"}),t.jsx(we,{value:"approved",children:"Approved"}),t.jsx(we,{value:"rejected",children:"Rejected"}),t.jsx(we,{value:"in_progress",children:"In Progress"}),t.jsx(we,{value:"completed",children:"Completed"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),t.jsxs(ht,{value:C,onValueChange:_,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All priorities"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Priorities"}),t.jsx(we,{value:"low",children:"Low"}),t.jsx(we,{value:"normal",children:"Normal"}),t.jsx(we,{value:"high",children:"High"}),t.jsx(we,{value:"urgent",children:"Urgent"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),t.jsxs(ht,{value:j,onValueChange:b,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All departments"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Departments"}),S.map(z=>t.jsx(we,{value:z.value.toString(),children:z.label},z.value))]})]})]})]}),t.jsxs("div",{className:"mt-4 flex gap-2",children:[t.jsxs(de,{onClick:R,className:"flex items-center gap-2",children:[t.jsx(Ss,{className:"h-4 w-4"}),"Apply Filters"]}),t.jsx(de,{variant:"outline",onClick:()=>{v(""),N("all"),_("all"),b("all"),R()},children:"Clear Filters"})]})]})]}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsx(Be,{children:"Case Note Requests"}),t.jsxs(ot,{children:["Showing ",l.length," request",l.length!==1?"s":""]})]}),t.jsx(fe,{children:d?t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((z,O)=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[t.jsx(Pe,{className:"h-12 w-12 rounded-full"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]}),t.jsx(Pe,{className:"h-6 w-20"}),t.jsx(Pe,{className:"h-6 w-24"})]},O))}):m?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Lt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("p",{className:"text-red-600 mb-4",children:m}),t.jsx(de,{onClick:()=>window.location.reload(),children:"Try Again"})]}):l.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:x||y!=="all"||C!=="all"||j!=="all"?"No requests match your current filters. Try adjusting your search criteria.":"You haven't created any case note requests yet."}),!x&&y==="all"&&C==="all"&&j==="all"&&t.jsxs(de,{onClick:()=>D(!0),children:[t.jsx(Ir,{className:"h-4 w-4 mr-2"}),"Create New Request"]})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Patient Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"MRN"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Department"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Priority"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{children:l.map(z=>t.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(rt,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:Z(z.created_at)})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:z.patient.name}),t.jsxs("p",{className:"text-sm text-gray-500",children:["#",z.request_number]})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"text-sm text-gray-600",children:z.patient.mrn})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"text-sm text-gray-600",children:z.department.name})}),t.jsx("td",{className:"py-3 px-4",children:M(z.status)}),t.jsx("td",{className:"py-3 px-4",children:Q(z.priority)}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("div",{className:"flex space-x-2",children:z.status==="pending"&&t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>$(z.id),className:"text-red-600 hover:text-red-700 border-red-200 hover:bg-red-50",children:[t.jsx(zo,{className:"h-4 w-4 mr-2"}),"Delete"]})})})]},z.id))})]})})})]})]})}const Ob={getHandoversNeedingVerification:async()=>{try{return(await Se.get("/handovers/needing-verification")).data}catch(e){return console.error("Error fetching handovers needing verification:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch handovers needing verification"}}},getHandoversNeedingAcknowledgement:async()=>{try{return(await Se.get("/handovers/needing-acknowledgement")).data}catch(e){return console.error("Error fetching handovers needing acknowledgement:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch handovers needing acknowledgement"}}},verifyHandoverReceived:async(e,n)=>{try{return(await Se.post(`/handovers/${e}/verify`,n)).data}catch(r){return console.error("Error verifying handover received:",r),{success:!1,message:r.response?.data?.message||"Failed to verify handover received"}}},verifyHandoverReceipt:async(e,n)=>{try{return(await Se.post(`/handovers/${e}/verify-receipt`,n)).data}catch(r){return console.error("Error verifying handover receipt:",r),{success:!1,message:r.response?.data?.message||"Failed to verify handover receipt"}}},getHandoverHistory:async()=>{try{return(await Se.get("/handovers/history")).data}catch(e){return console.error("Error fetching handover history:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch handover history"}}},getHandoverStats:async()=>{try{return(await Se.get("/handovers/stats")).data}catch(e){return console.error("Error fetching handover stats:",e),{success:!1,message:e.response?.data?.message||"Failed to fetch handover stats"}}}},Dq=()=>{const{hasRole:e}=Yt(),{toast:n}=sl(),[r,l]=p.useState(!0),[o,d]=p.useState(!1),[u,m]=p.useState([]),[g,x]=p.useState(new Set),[v,y]=p.useState(""),[N,C]=p.useState(new Set),[_,j]=p.useState(!0),[b,A]=p.useState({}),[D,S]=p.useState(new Set),[q,R]=p.useState(""),[k,$]=p.useState(!1),[M,Q]=p.useState(""),[Z,z]=p.useState(!1),[O,Y]=p.useState([]),[B,P]=p.useState(new Set),[L,X]=p.useState(""),[H,ie]=p.useState(!1);p.useEffect(()=>{if(!e("CA")){n({title:"Access Denied",description:"Only Clinic Assistants can access this page.",variant:"destructive"});return}},[e,n]);const U=async()=>{try{l(!0);const je=await Ke.getApprovedCaseNotesForVerification();if(je.success){m(je.case_notes||[]);const qe=new Date().toISOString().split("T")[0];C(new Set([qe]))}else n({title:"Error",description:"Failed to load approved case notes",variant:"destructive"})}catch(je){console.error("Error loading approved case notes:",je),n({title:"Error",description:"Failed to load approved case notes",variant:"destructive"})}finally{l(!1)}},le=async()=>{try{j(!0);const je=await Ob.getHandoversNeedingVerification();console.log("Handovers needing verification response:",je),je.success?A(je.handovers||{}):n({title:"Error",description:je.message||"Failed to load handovers needing verification",variant:"destructive"})}catch(je){console.error("Error loading handovers needing verification:",je),n({title:"Error",description:"Failed to load handovers needing verification",variant:"destructive"})}finally{j(!1)}},K=async()=>{try{const je=await Ke.getHandoverRequestsPendingVerification();je&&je.success&&Y(je.handover_requests||[])}catch(je){console.error("Error loading handover requests pending verification:",je)}},F=(je,qe)=>{const De=new Set(D);qe?De.add(je):De.delete(je),S(De)},T=(je,qe)=>{const De=new Set(B);qe?De.add(je):De.delete(je),P(De)},re=async je=>{if(B.size===0){n({title:"No Selection",description:"Please select at least one handover request to verify.",variant:"destructive"});return}try{ie(!0);const qe=Array.from(B).map(V=>Ke.verifyHandoverRequest(V,{action:je,verification_notes:L.trim()||void 0})),De=await Promise.all(qe),Jt=De.filter(V=>V.success).length,Rs=De.length-Jt;Jt>0&&(n({title:"Success",description:`Successfully ${je}ed ${Jt} handover request(s)${Rs>0?`, ${Rs} failed`:""}`,variant:"default"}),P(new Set),X(""),await K()),Rs>0&&n({title:"Verification Failed",description:`${Rs} handover request(s) failed to ${je}. Please try again.`,variant:"destructive"})}catch(qe){console.error("Error verifying handover requests:",qe),n({title:"Error",description:"Failed to verify handover requests",variant:"destructive"})}finally{ie(!1)}},ne=async()=>{if(D.size===0){n({title:"No Selection",description:"Please select at least one handover to verify receipt.",variant:"destructive"});return}try{$(!0);const je=Array.from(D).map(Rs=>Ob.verifyHandoverReceipt(Rs,{receipt_verification_notes:q.trim()||void 0})),qe=await Promise.all(je),De=qe.filter(Rs=>Rs.success).length,Jt=qe.length-De;De>0&&(n({title:"Success",description:`Successfully verified receipt of ${De} handover(s)${Jt>0?`, ${Jt} failed`:""}`,variant:"default"}),S(new Set),R(""),await le()),Jt>0&&n({title:"Verification Failed",description:`${Jt} handover(s) failed to verify. Please try again.`,variant:"destructive"})}catch(je){console.error("Error verifying handover receipt:",je),n({title:"Error",description:"Failed to verify handover receipt",variant:"destructive"})}finally{$(!1)}};p.useEffect(()=>{e("CA")&&(U(),le(),K())},[e]);const me=u.reduce((je,qe)=>{const De=new Date(qe.approved_at).toISOString().split("T")[0];return je[De]||(je[De]=[]),je[De].push(qe),je},{}),Ne=Object.keys(me).sort((je,qe)=>new Date(qe).getTime()-new Date(je).getTime()),ve=(je,qe)=>{const De=new Set(g);qe?De.add(je):De.delete(je),x(De)},he=je=>{const qe=new Set(N);qe.has(je)?qe.delete(je):qe.add(je),C(qe)},ce=async()=>{if(g.size===0){n({title:"No Selection",description:"Please select at least one case note to verify.",variant:"destructive"});return}try{d(!0);const je={case_note_ids:Array.from(g),verification_notes:v.trim()||void 0},qe=await Ke.verifyCaseNotesReceived(je);qe.success?(n({title:"Success",description:`Successfully verified ${g.size} case note(s) as received.`,variant:"default"}),x(new Set),y(""),await U()):n({title:"Error",description:qe.message||"Failed to verify case notes",variant:"destructive"})}catch(je){console.error("Error verifying case notes:",je),n({title:"Error",description:"Failed to verify case notes",variant:"destructive"})}finally{d(!1)}},Te=async()=>{if(g.size===0){n({title:"No Selection",description:"Please select at least one case note to reject.",variant:"destructive"});return}if(!M.trim()){n({title:"Rejection Reason Required",description:"Please provide a reason for rejecting these case notes.",variant:"destructive"});return}try{z(!0);const je={case_note_ids:Array.from(g),rejection_reason:M.trim()},qe=await Ke.rejectCaseNotesNotReceived(je);qe.success?(n({title:"Success",description:`Successfully rejected ${g.size} case note(s) - returned to MR staff for re-request.`,variant:"default"}),x(new Set),y(""),Q(""),await U()):n({title:"Error",description:qe.message||"Failed to reject case notes",variant:"destructive"})}catch(je){console.error("Error rejecting case notes:",je),n({title:"Error",description:"Failed to reject case notes",variant:"destructive"})}finally{z(!1)}},bt=je=>{const qe=new Date(je),De=new Date,Jt=new Date(De);return Jt.setDate(Jt.getDate()-1),qe.toDateString()===De.toDateString()?"Today":qe.toDateString()===Jt.toDateString()?"Yesterday":qe.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric"})},xs=je=>{const qe={low:{variant:"outline",className:"border-gray-300 text-gray-700 bg-gray-50 text-xs"},normal:{variant:"outline",className:"border-purple-300 text-purple-700 bg-purple-50 text-xs"},high:{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50 text-xs"},urgent:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50 text-xs"}},De=qe[je.toLowerCase()]||qe.normal;return t.jsx(Ee,{variant:De.variant,className:De.className,children:je.charAt(0).toUpperCase()+je.slice(1)})};return e("CA")?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Verify Case Notes"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Verify receipt of approved case notes grouped by approval date"})]}),t.jsx("div",{className:"flex gap-2",children:t.jsxs(de,{variant:"outline",onClick:U,disabled:r,children:[t.jsx(Mn,{className:`h-4 w-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})})]}),t.jsxs(AS,{defaultValue:"case-notes",className:"space-y-6",children:[t.jsxs(qx,{className:"grid w-full grid-cols-4",children:[t.jsxs(cr,{value:"case-notes",className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-4 w-4"}),"Verify Case Notes"]}),t.jsxs(cr,{value:"handover-verification",className:"flex items-center gap-2",children:[t.jsx(Ao,{className:"h-4 w-4"}),"Verify Requested Case Notes"]}),t.jsxs(cr,{value:"handover-request-verification",className:"flex items-center gap-2",children:[t.jsx(wo,{className:"h-4 w-4"}),"Verify Handover Requests"]})]}),t.jsxs(dr,{value:"case-notes",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsx(ue,{children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-500 text-white mr-3",children:t.jsx(Je,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Approved"}),t.jsx("p",{className:"text-2xl font-bold",children:u.length})]})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 rounded-lg bg-green-500 text-white mr-3",children:t.jsx(ns,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Already Received"}),t.jsx("p",{className:"text-2xl font-bold",children:u.filter(je=>je.is_received).length})]})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 rounded-lg bg-orange-500 text-white mr-3",children:t.jsx(rt,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Verification"}),t.jsx("p",{className:"text-2xl font-bold",children:u.filter(je=>!je.is_received).length})]})]})})})]}),g.size>0&&t.jsxs(ue,{className:"border-green-200 bg-green-50",children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"text-green-800",children:[t.jsx(xn,{className:"h-5 w-5 inline mr-2"}),"Case Note Verification (",g.size," selected)"]}),t.jsx(ot,{children:"Choose whether to verify receipt or reject as not received"})]}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"verification-notes",children:"Verification Notes (Optional)"}),t.jsx(ms,{id:"verification-notes",placeholder:"Add any notes about the verification (e.g., condition of files, any discrepancies...)",value:v,onChange:je=>y(je.target.value),className:"mt-1",rows:3})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"rejection-reason",className:"text-red-600",children:"Rejection Reason (Required if rejecting) *"}),t.jsx(ms,{id:"rejection-reason",placeholder:"Explain why these case notes cannot be verified (e.g., missing files, incorrect documents, etc.)",value:M,onChange:je=>Q(je.target.value),className:"mt-1 border-red-200 focus:border-red-500",rows:3})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(de,{onClick:ce,disabled:o||Z,className:"bg-green-600 hover:bg-green-700",children:[o?t.jsx(Tn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(ns,{className:"h-4 w-4 mr-2"}),"Verify Receipt"]}),t.jsxs(de,{onClick:Te,disabled:o||Z||!M.trim(),variant:"destructive",className:"bg-red-600 hover:bg-red-700",children:[Z?t.jsx(Tn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reject (Not Received)"]}),t.jsx(de,{variant:"outline",onClick:()=>{x(new Set),y(""),Q("")},disabled:o||Z,children:"Clear Selection"})]}),M.trim()&&t.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:[t.jsxs("div",{className:"flex items-center gap-2 text-red-700",children:[t.jsx(vt,{className:"h-4 w-4"}),t.jsx("span",{className:"text-sm font-medium",children:"Warning:"})]}),t.jsx("p",{className:"text-sm text-red-600 mt-1",children:"Rejecting these case notes will return them to MR staff for re-request. This action cannot be undone."})]})]})]}),r?t.jsx(ue,{children:t.jsx(fe,{className:"p-8",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(Tn,{className:"h-8 w-8 animate-spin mr-3"}),t.jsx("span",{children:"Loading approved case notes..."})]})})}):Ne.length===0?t.jsx(ue,{children:t.jsx(fe,{className:"p-8",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Je,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Approved Case Notes"}),t.jsx("p",{children:"There are no approved case notes waiting for verification at this time."})]})})}):t.jsx("div",{className:"space-y-4",children:Ne.map(je=>{const qe=me[je],De=qe.filter(V=>!V.is_received).length,Jt=qe.filter(V=>V.is_received).length,Rs=N.has(je);return t.jsxs(ue,{children:[t.jsx(Ie,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>he(je),children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsxs(Be,{className:"text-lg",children:[t.jsx(hs,{className:"h-5 w-5 inline mr-2"}),bt(je)]}),t.jsxs(ot,{children:[qe.length," case note(s) • ",Jt," received • ",De," pending"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[De>0&&t.jsxs(Ee,{variant:"outline",className:"text-orange-600 border-orange-200",children:[De," pending"]}),Jt>0&&t.jsxs(Ee,{variant:"outline",className:"text-green-600 border-green-200",children:[Jt," received"]})]})]})}),Rs&&t.jsx(fe,{children:t.jsx("div",{className:"space-y-3",children:qe.map(V=>t.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border ${V.is_received?"bg-green-50 border-green-200":"bg-white border-gray-200 hover:bg-gray-50"}`,children:[t.jsx(Ca,{id:`case-note-${V.id}`,checked:g.has(V.id),onCheckedChange:te=>ve(V.id,te),disabled:V.is_received}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(It,{htmlFor:`case-note-${V.id}`,className:"font-medium cursor-pointer",children:V.patient.name}),t.jsxs(Ee,{variant:"outline",className:"text-xs",children:["MRN: ",V.patient.mrn]}),xs(V.priority),V.batch_number&&t.jsxs(Ee,{variant:"outline",className:"text-xs",children:["Batch: ",V.batch_number]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("div",{children:["Request: ",V.request_number]}),t.jsxs("div",{children:["Purpose: ",V.purpose]}),V.department&&t.jsxs("div",{children:["Department: ",V.department.name]}),V.doctor&&t.jsxs("div",{children:["Doctor: ",V.doctor.name]})]}),V.is_received&&t.jsxs("div",{className:"text-xs text-green-600 mt-1",children:["✓ Received by ",V.received_by?.name||"N/A"," on"," ",V.received_at?new Date(V.received_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}):"Unknown date"]})]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[t.jsxs("div",{children:["Approved by ",V.approved_by?.name||"N/A"]}),t.jsx("div",{children:new Date(V.approved_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]}),V.approval_remarks&&t.jsx("div",{className:"col-span-full mt-2 p-2 bg-purple-50 border border-purple-200 rounded-md",children:t.jsxs("div",{className:"flex items-start gap-2",children:[t.jsx(wo,{className:"h-4 w-4 text-purple-600 mt-0.5 flex-shrink-0"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"text-xs font-medium text-purple-800 mb-1",children:"MR Staff Approval Notes:"}),t.jsx("div",{className:"text-xs text-purple-700",children:V.approval_remarks})]})]})})]},V.id))})})]},je)})})]}),t.jsxs(dr,{value:"handover-verification",className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs(de,{variant:"outline",onClick:le,disabled:_,children:[t.jsx(Mn,{className:`h-4 w-4 mr-2 ${_?"animate-spin":""}`}),"Refresh"]})}),D.size>0&&t.jsxs(ue,{className:"border-green-200 bg-green-50",children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"text-green-800",children:[t.jsx(Ao,{className:"h-5 w-5 inline mr-2"}),"Verify Receipt (",D.size," selected)"]}),t.jsx(ot,{children:"Confirm that you have received these case notes from the handover"})]}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"receipt-verification-notes",children:"Receipt Verification Notes (Optional)"}),t.jsx(ms,{id:"receipt-verification-notes",placeholder:"Add any notes about the receipt verification...",value:q,onChange:je=>R(je.target.value),className:"mt-1",rows:3})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(de,{onClick:ne,disabled:k,className:"bg-green-600 hover:bg-green-700",children:[k?t.jsx(Tn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(Ao,{className:"h-4 w-4 mr-2"}),"Verify Receipt"]}),t.jsx(de,{variant:"outline",onClick:()=>{S(new Set),R("")},disabled:k,children:"Clear Selection"})]})]})]}),_?t.jsx(ue,{children:t.jsx(fe,{className:"p-8",children:t.jsxs("div",{className:"flex items-center justify-center",children:[t.jsx(Tn,{className:"h-8 w-8 animate-spin mr-3"}),t.jsx("span",{children:"Loading handovers needing receipt verification..."})]})})}):Object.keys(b).length===0?t.jsx(ue,{children:t.jsx(fe,{className:"p-8",children:t.jsxs("div",{className:"text-center text-gray-500",children:[t.jsx(Ao,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Handovers Needing Receipt Verification"}),t.jsx("p",{children:"You don't have any handovers waiting for receipt verification."})]})})}):t.jsx("div",{className:"space-y-4",children:Object.entries(b).map(([je,qe])=>t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"text-lg",children:[t.jsx(hs,{className:"h-5 w-5 inline mr-2"}),bt(je)]}),t.jsxs(ot,{children:[qe.length," handover(s) Acknowledge on this date"]})]}),t.jsx(fe,{children:t.jsx("div",{className:"space-y-3",children:qe.filter(De=>De.caseNoteRequest&&De.handedOverTo).map(De=>t.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg border ${D.has(De.id)?"border-green-500 bg-green-50":"border-gray-200 hover:bg-gray-50"}`,children:[t.jsx(Ca,{id:`handover-ver-${De.id}`,checked:D.has(De.id),onCheckedChange:Jt=>F(De.id,Jt)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(It,{htmlFor:`handover-ver-${De.id}`,className:"font-medium cursor-pointer",children:De.caseNoteRequest?.patient?.name||"Unknown Patient"}),t.jsxs(Ee,{variant:"outline",className:"text-xs",children:["MRN: ",De.caseNoteRequest?.patient?.mrn||"N/A"]}),xs(De.caseNoteRequest?.priority||"normal")]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("div",{children:["Request: ",De.caseNoteRequest?.request_number||"N/A"]}),t.jsxs("div",{children:["Purpose: ",De.caseNoteRequest?.purpose||"N/A"]}),t.jsxs("div",{children:["Department: ",De.caseNoteRequest?.department?.name||"Unknown Department"]}),t.jsxs("div",{children:["To: ",De.handedOverTo?.name||"Unknown User"]}),De.handoverDoctor&&t.jsxs("div",{children:["Doctor: ",De.handoverDoctor.name]})]}),De.handover_reason&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1 p-2 bg-gray-100 rounded",children:[t.jsx("strong",{children:"Reason:"})," ",De.handover_reason]}),De.Acknowledge_at&&t.jsxs("div",{className:"text-xs text-purple-600 mt-1",children:["✓ Acknowledge by ",De.handedOverTo.name," on"," ",new Date(De.Acknowledge_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]}),t.jsxs("div",{className:"text-xs text-gray-500",children:[t.jsx("div",{children:"Requested at"}),t.jsx("div",{children:new Date(De.created_at).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})})]})]},De.id))})})]},je))})]}),t.jsxs(dr,{value:"handover-request-verification",className:"space-y-6",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(ue,{children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-500 text-white mr-3",children:t.jsx(wo,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Verification"}),t.jsx("p",{className:"text-2xl font-bold",children:O.length})]})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:"p-2 rounded-lg bg-purple-500 text-white mr-3",children:t.jsx(ns,{className:"h-4 w-4"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Selected"}),t.jsx("p",{className:"text-2xl font-bold",children:B.size})]})]})})})]}),B.size>0&&t.jsxs(ue,{className:"border-purple-200 bg-purple-50",children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"text-purple-800",children:[t.jsx(wo,{className:"h-5 w-5 inline mr-2"}),"Handover Request Verification (",B.size," selected)"]}),t.jsx(ot,{children:"Verify or reject the approved handover requests"})]}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"handover-request-verification-notes",children:"Verification Notes (Optional)"}),t.jsx(ms,{id:"handover-request-verification-notes",placeholder:"Add any notes about the verification...",value:L,onChange:je=>X(je.target.value),className:"mt-1",rows:3})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(de,{onClick:()=>re("approve"),disabled:H,className:"bg-green-600 hover:bg-green-700",children:[H?t.jsx(Tn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(ns,{className:"h-4 w-4 mr-2"}),"Approve Selected (",B.size,")"]}),t.jsxs(de,{onClick:()=>re("reject"),disabled:H,variant:"destructive",children:[H?t.jsx(Tn,{className:"h-4 w-4 mr-2 animate-spin"}):t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reject Selected (",B.size,")"]})]})]})]}),O.length>0?t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Handover Requests Pending Verification"}),t.jsxs(de,{variant:"outline",size:"sm",onClick:K,disabled:H,children:[t.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Refresh"]})]}),O.map(je=>t.jsx(ue,{className:"border-purple-200",children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx(Ca,{id:`handover-request-${je.id}`,checked:B.has(je.id),onCheckedChange:qe=>T(je.id,qe)}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx(It,{htmlFor:`handover-request-${je.id}`,className:"font-medium cursor-pointer",children:je.caseNote?.patient?.name||"Unknown Patient"}),t.jsxs(Ee,{variant:"outline",className:"text-xs",children:["MRN: ",je.caseNote?.patient?.mrn||"N/A"]}),t.jsx(Ee,{variant:"outline",className:"text-xs bg-purple-100 text-purple-800",children:je.priority})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[t.jsxs("div",{children:["Request: ",je.caseNote?.request_number||"N/A"]}),t.jsxs("div",{children:["Purpose: ",je.caseNote?.purpose||"N/A"]}),t.jsxs("div",{children:["Department: ",je.department?.name||"Unknown Department"]}),t.jsxs("div",{children:["Current Holder: ",je.currentHolder?.name||"Unknown User"]}),je.doctor&&t.jsxs("div",{children:["Doctor: ",je.doctor.name]})]}),je.reason&&t.jsxs("div",{className:"text-xs text-gray-500 mt-1 p-2 bg-gray-100 rounded",children:[t.jsx("strong",{children:"Reason:"})," ",je.reason]}),je.response_notes&&t.jsxs("div",{className:"text-xs text-purple-600 mt-1 p-2 bg-purple-100 rounded",children:[t.jsx("strong",{children:"Response:"})," ",je.response_notes]}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Approved on ",new Date(je.responded_at).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})]})]})]})})},je.id))]}):t.jsx(ue,{children:t.jsxs(fe,{className:"p-8 text-center",children:[t.jsx(wo,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Handover Requests Pending Verification"}),t.jsx("p",{className:"text-gray-600",children:"All your handover requests have been processed or are still pending approval."})]})})]})]})]}):null},kq=(e,n)=>{if(n)return t.jsxs(Ee,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-200",children:[t.jsx(rt,{className:"h-3 w-3"}),t.jsx("span",{children:"WAITING FOR MR STAFF RETURN VERIFICATION"})]});const r={pending:{icon:rt,className:"bg-yellow-100 text-yellow-800 border-yellow-200"},approved:{icon:Ge,className:"bg-green-100 text-green-800 border-green-200"},in_progress:{icon:rt,className:"bg-purple-100 text-purple-800 border-purple-200"},completed:{icon:Ge,className:"bg-emerald-100 text-emerald-800 border-emerald-200"},rejected:{icon:Lt,className:"bg-red-100 text-red-800 border-red-200"}},l=r[e]||r.pending,o=l.icon;return t.jsxs(Ee,{variant:"outline",className:`flex items-center space-x-1 ${l.className}`,children:[t.jsx(o,{className:"h-3 w-3"}),t.jsx("span",{children:e.replace("_"," ").toUpperCase()})]})},Mq=(e,n,r,l,o)=>o?t.jsxs("div",{className:"space-y-1",children:[t.jsxs(Ee,{variant:"outline",className:"bg-orange-100 text-orange-800 border-orange-200 font-semibold",children:[t.jsx(rt,{className:"h-3 w-3 mr-1"}),"Pending MR Verification"]}),t.jsx("p",{className:"text-xs text-orange-600 font-medium",children:"Waiting for approval"})]}):n?t.jsxs("div",{className:"space-y-1",children:[t.jsxs(Ee,{variant:"outline",className:"bg-red-100 text-red-800 border-red-200 font-semibold",children:[t.jsx(Lt,{className:"h-3 w-3 mr-1"}),"Return Rejected"]}),l&&t.jsx("p",{className:"text-xs text-red-600 font-medium",children:new Date(l).toLocaleDateString()})]}):e?t.jsxs("div",{className:"space-y-1",children:[t.jsxs(Ee,{variant:"outline",className:"bg-green-100 text-green-800 border-green-200",children:[t.jsx(Ge,{className:"h-3 w-3 mr-1"}),"Returned"]}),r&&t.jsx("p",{className:"text-xs text-gray-500",children:new Date(r).toLocaleDateString()})]}):t.jsxs(Ee,{variant:"outline",className:"bg-purple-100 text-purple-800 border-purple-200 font-semibold",children:[t.jsx(ri,{className:"h-3 w-3 mr-1"}),"Available for Return"]});function Oq({request:e,isOpen:n,onClose:r,onReturn:l,isReReturn:o=!1}){const[d,u]=p.useState(""),[m,g]=p.useState(!1),x=async()=>{if(!d.trim()){alert("Please provide return notes before submitting.");return}g(!0);try{await l(e.id,d.trim()),u(""),r()}catch(y){console.error("Error returning case note:",y)}finally{g(!1)}},v=()=>{u(""),r()};return t.jsx(qn,{open:n,onOpenChange:r,children:t.jsxs(vn,{className:"sm:max-w-md",children:[t.jsxs(yn,{children:[t.jsx(bn,{className:"flex items-center space-x-2",children:o?t.jsxs(t.Fragment,{children:[t.jsx(Mn,{className:"h-5 w-5 text-orange-600"}),t.jsx("span",{children:"Re-return Case Note"})]}):t.jsxs(t.Fragment,{children:[t.jsx(ri,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Return Case Note"})]})}),t.jsx(Nn,{children:o?`Re-return case note for ${e.patient?.name} (${e.request_number})`:`Return case note for ${e.patient?.name} (${e.request_number})`})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsx("div",{className:"bg-gray-50 p-3 rounded-lg",children:t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Patient:"}),t.jsx("p",{className:"text-gray-900",children:e.patient?.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"MRN:"}),t.jsx("p",{className:"text-gray-900",children:e.patient?.mrn})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Request #:"}),t.jsx("p",{className:"text-gray-900",children:e.request_number})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),t.jsx("p",{className:"text-gray-900",children:e.status})]})]})}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Return Notes ",!o&&t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(ms,{placeholder:o?"Explain why you're re-returning this case note...":"Provide notes about the case note return...",value:d,onChange:y=>u(y.target.value),className:"min-h-[100px]",required:!o}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:o?"Please explain the reason for re-returning this case note.":"Please provide details about the case note return."})]}),o&&e.rejection_reason&&t.jsxs("div",{className:"bg-red-50 p-3 rounded-lg border-l-2 border-red-300",children:[t.jsx("p",{className:"text-sm font-medium text-red-800 mb-1",children:"Previous Rejection Reason:"}),t.jsx("p",{className:"text-sm text-red-700",children:e.rejection_reason})]})]}),t.jsxs(jn,{className:"flex space-x-2",children:[t.jsx(de,{variant:"outline",onClick:v,disabled:m,children:"Cancel"}),t.jsx(de,{onClick:x,disabled:m||!o&&!d.trim(),className:o?"bg-orange-600 hover:bg-orange-700":"",children:m?t.jsxs(t.Fragment,{children:[t.jsx(Mn,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):t.jsxs(t.Fragment,{children:[o?t.jsx(Mn,{className:"h-4 w-4 mr-2"}):t.jsx(ri,{className:"h-4 w-4 mr-2"}),o?"Re-return":"Return"," Case Note"]})})]})]})})}function zq(){const{user:e}=Yt(),{toast:n}=sl(),[r,l]=p.useState([]),[o,d]=p.useState([]),[u,m]=p.useState(!0),[g,x]=p.useState(null),[v,y]=p.useState(""),[N,C]=p.useState("all"),[_,j]=p.useState("all"),[b,A]=p.useState("all"),[D,S]=p.useState(!1),[q,R]=p.useState(null),[k,$]=p.useState(!1),[M,Q]=p.useState(new Set),[Z,z]=p.useState(!1),[O,Y]=p.useState(""),[B,P]=p.useState(!1);p.useEffect(()=>{(async()=>{if(e){m(!0),x(null);try{console.log("🚀 Making API call to getReturnableCaseNotes...");const re=await Ke.getReturnableCaseNotes();if(console.log("📡 API Response received:",re),re.success&&re.requests){const ne=re.requests;console.log("📊 Backend filtered results:",{totalRequests:ne.length,requestsDetails:ne.map(Ne=>({id:Ne.id,status:Ne.status,is_received:Ne.is_received,is_returned:Ne.is_returned,is_rejected_return:Ne.is_rejected_return,patient_name:Ne.patient?.name}))}),console.log("📊 Return Case Notes Results:",{totalRequests:re.requests?.length||0,returnableRequests:ne.length,currentUserId:e.id,returnableRequestsDetails:ne.map(Ne=>({id:Ne.id,status:Ne.status,is_received:Ne.is_received,patient_name:Ne.patient?.name}))}),console.log("📝 Setting requests state with:",ne.length,"case notes"),l(ne);const me=ne.filter(Ne=>{const ve=Ne.status==="pending_return_verification",he=Ne.returned_by_user_id===e?.id,ce=Ne.is_returned===!0,Te=!!Ne.return_notes,bt=ve||he&&ce&&Te;return console.log("🔍 Checking if case note is pending return:",{id:Ne.id,status:Ne.status,returned_by_user_id:Ne.returned_by_user_id,current_user_id:e?.id,is_returned:Ne.is_returned,return_notes:Ne.return_notes,hasPendingReturnStatus:ve,wasReturnedByCurrentUser:he,hasReturnedEvent:ce,hasReturnNotes:Te,isPendingReturn:bt}),bt});console.log("📊 Pending return case notes identified:",me.length),console.log("📊 Pending return case notes details:",me.map(Ne=>({id:Ne.id,status:Ne.status,patient_name:Ne.patient?.name,returned_by_user_id:Ne.returned_by_user_id}))),d(me)}else re.success&&!re.requests?(console.log("⚠️ API call successful but no requests data"),x("No requests data received"),l([]),d([])):(console.log("❌ API call failed:",re),x("Failed to load requests"),l([]),d([]))}catch(re){console.error("💥 Error loading requests:",re),console.error("💥 Error details:",{message:re.message,response:re.response?.data,status:re.response?.status}),x("Failed to load requests")}finally{m(!1)}}})()},[e]);const L=[...r,...o.map(T=>({...T,is_pending_return:!0,patient:T.patient,department:T.department,doctor:T.doctor,location:T.location}))];console.log("📊 Combined requests:",{regularRequests:r.length,pendingReturnRequests:o.length,totalCombined:L.length,pendingReturnIds:o.map(T=>T.id)});const X=L.filter(T=>{console.log("🔍 Filtering request:",{id:T.id,patient_name:T.patient?.name,status:T.status,searchTerm:v,statusFilter:N,returnStatusFilter:_,commentFilter:b});const re=v===""||T.patient?.name?.toLowerCase().includes(v.toLowerCase())||T.patient?.mrn?.toLowerCase().includes(v.toLowerCase())||T.request_number?.toLowerCase().includes(v.toLowerCase());let ne=!0;N!=="all"&&(N==="waiting_for_mr_return_verification"?(ne=T.is_pending_return===!0,console.log("🔍 Status filter - waiting_for_mr_return_verification:",{id:T.id,is_pending_return:T.is_pending_return,matchesStatus:ne})):(ne=T.status===N,console.log("🔍 Status filter - other status:",{id:T.id,status:T.status,filterStatus:N,matchesStatus:ne})));let me=!0;_!=="all"&&(_==="available"?me=!T.is_returned&&!T.is_rejected_return:_==="returned"?me=T.is_returned===!0:_==="rejected"?me=T.is_rejected_return===!0:_==="pending_verification"&&(me=T.is_pending_return===!0),console.log("🔍 Return status filter:",{id:T.id,returnStatusFilter:_,is_returned:T.is_returned,is_rejected_return:T.is_rejected_return,is_pending_return:T.is_pending_return,matchesReturnStatus:me}));let Ne=!0;b!=="all"&&(b==="has_return_notes"?Ne=!!T.return_notes:b==="has_rejection_reason"?Ne=!!T.rejection_reason:b==="no_comments"&&(Ne=!T.return_notes&&!T.rejection_reason),console.log("🔍 Comment filter:",{id:T.id,commentFilter:b,return_notes:T.return_notes,rejection_reason:T.rejection_reason,matchesCommentFilter:Ne}));const ve=re&&ne&&me&&Ne;return console.log("✅ Filter result for request",T.id,":",{matchesSearch:re,matchesStatus:ne,matchesReturnStatus:me,matchesCommentFilter:Ne,finalResult:ve}),ve}),H=X.filter(T=>{const re=T.is_pending_return===!0,ne=T.is_received===!0&&(!T.is_returned||T.is_rejected_return);return console.log("🔍 Checking if case note is returnable:",{id:T.id,is_pending_return:T.is_pending_return,is_received:T.is_received,is_returned:T.is_returned,is_rejected_return:T.is_rejected_return,isPendingReturn:re,isRegularReturnable:ne,finalResult:re||ne}),re||ne}),ie=(T,re)=>{const ne=new Set(M);re?ne.add(T):ne.delete(T),Q(ne)},U=T=>{if(T){const re=H.map(ne=>ne.id);Q(new Set(re))}else Q(new Set)},le=async()=>{if(M.size===0){n({title:"No Selection",description:"Please select at least one case note to return.",variant:"destructive"});return}if(!O.trim()){n({title:"Return Notes Required",description:"Please provide return notes for the batch.",variant:"destructive"});return}try{P(!0);const T=await Ke.returnCaseNotes({case_note_ids:Array.from(M),return_notes:O.trim()});T.success?(n({title:"Success",description:`Successfully returned ${M.size} case note(s)`,variant:"default"}),Q(new Set),Y(""),z(!1),window.location.reload()):n({title:"Return Failed",description:T.message||"Failed to return case notes",variant:"destructive"})}catch(T){console.error("Error returning case notes:",T),n({title:"Error",description:"Failed to return case notes. Please try again.",variant:"destructive"})}finally{P(!1)}},K=async(T,re)=>{try{const ne=await Ke.returnCaseNotes({case_note_ids:[T],return_notes:re});ne.success?(n({title:"Success",description:"Case note returned successfully",variant:"default"}),window.location.reload()):n({title:"Return Failed",description:ne.message||"Failed to return case note",variant:"destructive"})}catch(ne){console.error("Error returning case note:",ne),n({title:"Error",description:"Failed to return case note. Please try again.",variant:"destructive"})}},F=(T,re=!1)=>{R(T),$(re),S(!0)};return e?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("div",{className:"flex items-center space-x-2 mb-2",children:t.jsx(Gt,{to:"/dashboard",children:t.jsxs(de,{variant:"ghost",size:"sm",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})}),t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Return Case Notes"}),t.jsx("p",{className:"text-gray-600 mt-2",children:"Manage case note returns - return completed case notes, view return status, and handle rejected returns"}),t.jsxs("div",{className:"flex items-center space-x-4 mt-4 text-sm",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),t.jsxs("span",{children:["Available: ",r.filter(T=>T.is_received&&!T.is_returned&&!T.is_rejected_return).length]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),t.jsxs("span",{children:["Pending MR Verification: ",o.length]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),t.jsxs("span",{children:["Returned: ",r.filter(T=>T.is_returned).length]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),t.jsxs("span",{children:["Rejected: ",r.filter(T=>T.is_rejected_return).length]})]})]})]})}),t.jsxs(ue,{children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center space-x-2",children:[t.jsx(Xo,{className:"h-5 w-5"}),t.jsx("span",{children:"Filters"})]})}),t.jsx(fe,{children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),t.jsxs("div",{className:"relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),t.jsx(Ft,{placeholder:"Search by patient name, MRN, or request number...",value:v,onChange:T=>y(T.target.value),className:"pl-10"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),t.jsxs(ht,{value:N,onValueChange:C,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All statuses"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Statuses"}),t.jsx(we,{value:"completed",children:"Completed"}),t.jsx(we,{value:"pending",children:"Pending"}),t.jsx(we,{value:"approved",children:"Approved"}),t.jsx(we,{value:"rejected",children:"Rejected"}),t.jsx(we,{value:"waiting_for_mr_return_verification",children:"Waiting for MR Staff Return Verification"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Return Status"}),t.jsxs(ht,{value:_,onValueChange:j,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All return statuses"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Return Statuses"}),t.jsx(we,{value:"available",children:"Available for Return"}),t.jsx(we,{value:"returned",children:"Returned"}),t.jsx(we,{value:"rejected",children:"Return Rejected"}),t.jsx(we,{value:"pending_verification",children:"Pending MR Verification"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Comments"}),t.jsxs(ht,{value:b,onValueChange:A,children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"All comments"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Comments"}),t.jsx(we,{value:"has_return_notes",children:"Has Return Notes"}),t.jsx(we,{value:"has_rejection_reason",children:"Has Rejection Reason"}),t.jsx(we,{value:"no_comments",children:"No Comments"})]})]})]})]})})]}),H.length>0&&t.jsx(ue,{className:"border-purple-200 bg-purple-50",children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Ca,{id:"select-all",checked:H.length>0&&M.size===H.length,onCheckedChange:T=>U(T)}),t.jsxs("label",{htmlFor:"select-all",className:"text-sm font-medium cursor-pointer",children:["Select All (",H.length," returnable)"]})]}),t.jsxs("div",{className:"text-sm text-gray-600",children:[M.size," of ",H.length," selected"]})]}),t.jsx("div",{className:"flex items-center space-x-2",children:M.size>0&&t.jsxs(t.Fragment,{children:[t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>Q(new Set),children:[t.jsx(zo,{className:"h-4 w-4 mr-2"}),"Clear Selection"]}),t.jsxs(de,{onClick:()=>z(!0),disabled:M.size===0,className:"bg-green-600 hover:bg-green-700",size:"sm",children:[t.jsx(xn,{className:"h-4 w-4 mr-2"}),"Return Selected (",M.size,")"]})]})})]})})}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsx(Be,{children:"Case Note Returns & Rejected Returns"}),t.jsxs(ot,{children:["Showing ",X.length," of ",L.length," case notes",H.length>0&&t.jsxs("span",{className:"ml-2 text-purple-600 font-medium",children:["• ",H.length," available for return"]})]})]}),t.jsx(fe,{children:u?t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((T,re)=>t.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[t.jsx(Pe,{className:"h-12 w-12 rounded-full"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]}),t.jsx(Pe,{className:"h-6 w-20"}),t.jsx(Pe,{className:"h-6 w-24"})]},re))}):g?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Lt,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),t.jsx("p",{className:"text-red-600 mb-4",children:g}),t.jsx(de,{onClick:()=>window.location.reload(),children:"Try Again"})]}):X.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No case notes available for return"}),t.jsxs("div",{className:"mt-4 p-4 bg-gray-100 rounded-lg text-left max-w-2xl mx-auto",children:[t.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"Debug Information:"}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("p",{children:["• Total requests loaded: ",r.length]}),t.jsxs("p",{children:["• Current user ID: ",e?.id]}),t.jsxs("p",{children:['• Search term: "',v,'"']}),t.jsxs("p",{children:["• Status filter: ",N]}),t.jsxs("p",{children:["• Return status filter: ",_]}),t.jsxs("p",{children:["• Comment filter: ",b]}),r.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("p",{className:"font-medium",children:"Sample requests:"}),r.slice(0,3).map(T=>t.jsxs("div",{className:"ml-4 text-xs",children:["ID: ",T.id,", Status: ",T.status,", Returned: ",T.is_returned?"Yes":"No",", Rejected: ",T.is_rejected_return?"Yes":"No",", Received: ",T.is_received?"Yes":"No"]},T.id))]})]})]}),t.jsx("div",{className:"mt-4",children:t.jsx(Gt,{to:"/my-requests",children:t.jsxs(de,{children:[t.jsx(Je,{className:"h-4 w-4 mr-2"}),"View My Case Notes"]})})})]}):t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b",children:[t.jsx("th",{className:"text-left py-3 px-2 font-medium text-gray-700 w-12",children:"Select"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Date"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Patient Name"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"MRN"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Return Status"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Comments"}),t.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-700",children:"Actions"})]})}),t.jsx("tbody",{children:X.map(T=>{const re=T.is_received===!0&&(!T.is_returned||T.is_rejected_return);return t.jsxs("tr",{className:`border-b hover:bg-gray-50 ${T.is_rejected_return?"bg-red-50":T.is_returned?"bg-green-50":"bg-purple-50"} ${M.has(T.id)?"ring-2 ring-purple-500":""}`,children:[t.jsx("td",{className:"py-3 px-2",children:re?t.jsx(Ca,{id:`select-${T.id}`,checked:M.has(T.id),onCheckedChange:ne=>ie(T.id,ne)}):t.jsx("div",{className:"w-4 h-4"})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(hs,{className:"h-4 w-4 text-gray-400"}),t.jsx("span",{className:"text-sm text-gray-600",children:new Date(T.created_at).toLocaleDateString()})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:T.patient?.name||"N/A"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["#",T.request_number]})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsx("span",{className:"text-sm text-gray-600",children:T.patient?.mrn||"N/A"})}),t.jsx("td",{className:"py-3 px-4",children:kq(T.status,T.is_pending_return)}),t.jsx("td",{className:"py-3 px-4",children:Mq(T.is_returned||!1,T.is_rejected_return||!1,T.returned_at,T.rejected_at,T.is_pending_return)}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"max-w-xs",children:[T.return_notes&&t.jsxs("div",{className:"mb-2",children:[t.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1",children:"Return Notes:"}),t.jsx("p",{className:"text-sm text-gray-700 bg-purple-50 p-2 rounded border-l-2 border-purple-300",children:T.return_notes}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[T.returned_by&&t.jsxs("p",{children:["Returned by: ",t.jsx("span",{className:"font-medium",children:T.returned_by.name})]}),T.returned_at&&t.jsxs("p",{children:["Returned on: ",t.jsx("span",{className:"font-medium",children:new Date(T.returned_at).toLocaleString()})]})]})]}),T.is_rejected_return&&T.rejection_reason&&t.jsxs("div",{children:[t.jsx("p",{className:"text-xs font-medium text-red-500 mb-1",children:"Rejection Reason:"}),t.jsx("p",{className:"text-sm text-gray-700 bg-red-50 p-2 rounded border-l-2 border-red-300",children:T.rejection_reason}),t.jsxs("div",{className:"text-xs text-gray-500 mt-1 space-y-1",children:[T.rejected_by&&t.jsxs("p",{children:["Rejected by: ",t.jsx("span",{className:"font-medium",children:T.rejected_by.name})]}),T.rejected_at&&t.jsxs("p",{children:["Rejected on: ",t.jsx("span",{className:"font-medium",children:new Date(T.rejected_at).toLocaleString()})]})]})]}),!T.return_notes&&!T.rejection_reason&&t.jsx("span",{className:"text-sm text-gray-400 italic",children:"No comments"})]})}),t.jsx("td",{className:"py-3 px-4",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(Gt,{to:`/requests/${T.id}`,children:t.jsxs(de,{variant:"outline",size:"sm",children:[t.jsx(ei,{className:"h-4 w-4 mr-2"}),"View Details"]})}),T.is_received===!0&&!T.is_returned&&!T.is_rejected_return&&t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>F(T,!1),className:"bg-green-50 border-green-200 text-green-700 hover:bg-green-100",children:[t.jsx(ri,{className:"h-4 w-4 mr-2"}),"Return Case Note"]}),T.is_rejected_return&&t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>F(T,!0),className:"bg-orange-200 border-orange-300 text-orange-800 hover:bg-orange-300",children:[t.jsx(Mn,{className:"h-4 w-4 mr-2"}),"Re-return"]})]})})]},T.id)})})]})})})]}),q&&t.jsx(Oq,{request:q,isOpen:D,onClose:()=>{S(!1),R(null),$(!1)},onReturn:K,isReReturn:k}),t.jsx(qn,{open:Z,onOpenChange:z,children:t.jsxs(vn,{className:"sm:max-w-2xl",children:[t.jsxs(yn,{children:[t.jsxs(bn,{className:"flex items-center space-x-2",children:[t.jsx(xn,{className:"h-5 w-5 text-green-600"}),t.jsx("span",{children:"Return Selected Case Notes"})]}),t.jsxs(Nn,{children:["Return ",M.size," selected case note(s)"]})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"max-h-60 overflow-y-auto border rounded-lg",children:[t.jsx("div",{className:"bg-gray-50 p-3 border-b",children:t.jsxs("h4",{className:"font-medium text-gray-800",children:["Selected Case Notes (",M.size,")"]})}),t.jsx("div",{className:"p-3 space-y-2",children:Array.from(M).map(T=>{const re=r.find(ne=>ne.id===T);return re?t.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("div",{className:"font-medium text-sm",children:re.patient?.name}),t.jsxs("div",{className:"text-xs text-gray-600",children:["MRN: ",re.patient?.mrn," • #",re.request_number]})]}),t.jsx(de,{variant:"ghost",size:"sm",onClick:()=>ie(T,!1),className:"text-red-600 hover:text-red-700",children:t.jsx(zo,{className:"h-4 w-4"})})]},T):null})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Return Notes ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx(ms,{placeholder:"Provide notes for the batch return...",value:O,onChange:T=>Y(T.target.value),className:"min-h-[100px]",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These notes will be applied to all selected case notes in this batch return."})]})]}),t.jsxs(jn,{className:"flex space-x-2",children:[t.jsx(de,{variant:"outline",onClick:()=>{z(!1),Y("")},disabled:B,children:"Cancel"}),t.jsx(de,{onClick:le,disabled:B||!O.trim(),className:"bg-green-600 hover:bg-green-700",children:B?t.jsxs(t.Fragment,{children:[t.jsx(Mn,{className:"h-4 w-4 mr-2 animate-spin"}),"Returning..."]}):t.jsxs(t.Fragment,{children:[t.jsx(xn,{className:"h-4 w-4 mr-2"}),"Return ",M.size," Case Note(s)"]})})]})]})})]}):t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx(Pe,{className:"h-4 w-48 mx-auto mb-2"}),t.jsx(Pe,{className:"h-4 w-32 mx-auto"})]})})}const Pq=()=>{const{hasRole:e}=Yt(),{toast:n}=sl(),[r,l]=p.useState(!0),[o,d]=p.useState(!1),[u,m]=p.useState([]),[g,x]=p.useState(""),[v,y]=p.useState([]),[N,C]=p.useState(null),[_,j]=p.useState(!1),[b,A]=p.useState("approve"),[D,S]=p.useState("");p.useEffect(()=>{if(!e("MR_STAFF")){n({title:"Access Denied",description:"Only Medical Records Staff can access this page.",variant:"destructive"});return}},[e,n]);const q=async()=>{try{l(!0);const z=await Ke.getRequests({page:1,per_page:1e3,sort_by:"created_at",sort_order:"desc"});if(z.success){const O=z.requests.data,Y=new Map;O.forEach(P=>{if(!P.patient||!P.requested_by){console.log("Skipping request due to missing data:",{id:P.id,hasPatient:!!P.patient,hasRequestedBy:!!P.requested_by});return}if(P.status!=="pending"){console.log("Skipping request due to non-pending status:",{id:P.id,status:P.status,rejection_reason:P.rejection_reason});return}console.log("Processing request:",{id:P.id,status:P.status,rejection_reason:P.rejection_reason,isReturned:!!P.rejection_reason});const L=P.requested_by.id,X=P.requested_by.name,H=P.requested_by.email;Y.has(L)||Y.set(L,{ca_id:L,ca_name:X,ca_email:H,requests:[],total_requests:0,pending_count:0,approved_count:0,rejected_count:0,latest_request_date:P.created_at});const ie=Y.get(L),U={id:P.id,request_number:P.request_number,patient:{id:P.patient.id,name:P.patient.name,mrn:P.patient.mrn},priority:P.priority,status:P.status,purpose:P.purpose,created_at:P.created_at,needed_date:P.needed_date,department:{name:P.department?.name||"Unknown Department"},doctor:P.doctor?{name:P.doctor.name}:void 0,batch_id:P.batch_id,batch_number:P.batch_number,requested_by:P.requested_by,rejection_reason:P.rejection_reason,rejected_at:P.rejected_at,rejected_by_user_id:P.rejected_by_user_id,rejected_by:P.rejected_by};P.rejection_reason&&console.log("Found request with rejection:",{id:P.id,rejection_reason:P.rejection_reason,rejected_by:P.rejected_by,transformed:U.rejection_reason}),ie.requests.push(U),ie.total_requests++,ie.pending_count++,new Date(P.created_at)>new Date(ie.latest_request_date)&&(ie.latest_request_date=P.created_at)});const B=Array.from(Y.values()).sort((P,L)=>new Date(L.latest_request_date).getTime()-new Date(P.latest_request_date).getTime());m(B)}else n({title:"Error",description:"Failed to load case note requests",variant:"destructive"})}catch(z){console.error("Error loading case note requests:",z),n({title:"Error",description:"Failed to load case note requests",variant:"destructive"})}finally{l(!1)}};p.useEffect(()=>{e("MR_STAFF")&&q()},[e]);const R=u.filter(z=>z.ca_name.toLowerCase().includes(g.toLowerCase())||z.ca_email.toLowerCase().includes(g.toLowerCase())),k=z=>{C(z),y([])},$=(z,O)=>{y(O?Y=>[...Y,z]:Y=>Y.filter(B=>B!==z))},M=async()=>{if(v.length===0){n({title:"No Selection",description:"Please select at least one case note to process.",variant:"destructive"});return}try{d(!0);const z=v.map(P=>b==="approve"?Ke.approveRequest(P,D):Ke.rejectRequest(P,D)),O=await Promise.all(z),Y=O.filter(P=>P.success).length,B=O.length-Y;if(Y>0){n({title:`${b==="approve"?"Approval":"Rejection"} Successful`,description:`Successfully processed ${Y} case note(s)${B>0?`, ${B} failed`:""}`,variant:"default"}),y([]),S(""),j(!1);const P=N?.ca_id;C(null),P?await Q(P):await q()}B>0&&n({title:`${b==="approve"?"Approval":"Rejection"} Failed`,description:`${B} case note(s) failed to process. Please try again.`,variant:"destructive"})}catch(z){console.error("Error processing case notes:",z),n({title:"Error",description:"Failed to process case notes. Please try again.",variant:"destructive"})}finally{d(!1)}},Q=async z=>{try{const O=await Ke.getRequests({page:1,per_page:1e3,sort_by:"created_at",sort_order:"desc"});if(O.success){const Y=O.requests.data,B=u.map(P=>{if(P.ca_id===z){const X=Y.filter(K=>K.requested_by?.id===z&&K.patient).map(K=>({id:K.id,request_number:K.request_number,patient:{id:K.patient.id,name:K.patient.name,mrn:K.patient.mrn},priority:K.priority,status:K.status,purpose:K.purpose,created_at:K.created_at,needed_date:K.needed_date,department:{name:K.department?.name||"Unknown Department"},doctor:K.doctor?{name:K.doctor.name}:void 0,batch_id:K.batch_id,batch_number:K.batch_number,requested_by:K.requested_by})),H=X.filter(K=>K.status==="pending").length,ie=X.filter(K=>K.status==="approved").length,U=X.filter(K=>K.status==="rejected").length,le=X.length>0?X.reduce((K,F)=>new Date(F.created_at)>new Date(K)?F.created_at:K,X[0].created_at):P.latest_request_date;return{...P,requests:X,total_requests:X.length,pending_count:H,approved_count:ie,rejected_count:U,latest_request_date:le}}return P});m(B)}}catch(O){console.error("Error refreshing CA group data:",O)}},Z=z=>{const O={low:{variant:"outline",className:"border-gray-300 text-gray-700 bg-gray-50 text-xs"},normal:{variant:"outline",className:"border-purple-300 text-purple-700 bg-purple-50 text-xs"},high:{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50 text-xs"},urgent:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50 text-xs"}},Y=O[z.toLowerCase()]||O.normal;return t.jsx(Ee,{variant:Y.variant,className:Y.className,children:z.charAt(0).toUpperCase()+z.slice(1)})};return e("MR_STAFF")?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Pending & Returned Case Note Requests"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Review and approve pending case note requests from Clinic Assistants. Returned case notes (in red) were rejected by CAs during verification."})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("div",{className:"text-sm text-gray-500",children:"CAs with Pending Requests"}),t.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:u.length})]})]}),t.jsx(ue,{children:t.jsx(fe,{className:"pt-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(Ft,{placeholder:"Search by CA name or email...",value:g,onChange:z=>x(z.target.value),className:"pl-10"})]})})}),r?t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((z,O)=>t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Pe,{className:"h-12 w-12 rounded-full"}),t.jsxs("div",{className:"space-y-2 flex-1",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]}),t.jsx(Pe,{className:"h-8 w-20"})]})})},O))}):R.length===0?t.jsx(ue,{children:t.jsxs(fe,{className:"text-center py-12",children:[t.jsx(Je,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Case Note Requests Found"}),t.jsx("p",{className:"text-gray-500",children:g?"No CAs found matching your search.":"No case note requests have been submitted yet."})]})}):t.jsx("div",{className:"space-y-4",children:R.map(z=>t.jsx(ue,{className:"hover:shadow-md transition-shadow border border-gray-200",children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:t.jsx(Mt,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 cursor-pointer hover:text-purple-600 transition-colors",onClick:()=>k(z),children:z.ca_name}),t.jsx("p",{className:"text-sm text-gray-500",children:z.ca_email}),t.jsxs("div",{className:"flex items-center space-x-4 mt-1 text-xs text-gray-500",children:[t.jsxs("span",{children:["Latest: ",new Date(z.latest_request_date).toLocaleDateString()]}),t.jsx("span",{children:"•"}),t.jsxs("span",{children:[z.total_requests," requests"]})]})]})]}),t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsxs(Ee,{variant:"secondary",className:"bg-yellow-50 text-yellow-700 border-yellow-200",children:[z.pending_count," pending"]}),z.requests.filter(O=>O.status==="pending"&&O.rejection_reason).length>0&&t.jsxs(Ee,{variant:"destructive",className:"bg-red-50 text-red-700 border-red-200",children:[z.requests.filter(O=>O.status==="pending"&&O.rejection_reason).length," returned"]}),t.jsx(de,{variant:"default",size:"sm",onClick:()=>k(z),className:"bg-purple-600 hover:bg-purple-700",children:"Review"})]})]})})},z.ca_id))}),t.jsx(qn,{open:!!N,onOpenChange:()=>C(null),children:t.jsxs(vn,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[t.jsxs(yn,{children:[t.jsxs(bn,{children:["Review Case Notes - ",N?.ca_name]}),t.jsx(Nn,{children:"Review and approve pending case note requests from this Clinic Assistant. Returned case notes (in red) were rejected during verification."})]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[t.jsxs("div",{className:"flex items-center space-x-6",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Pending case notes:"}),t.jsx("span",{className:"ml-2 font-medium text-gray-900",children:N?.pending_count})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Returned case notes:"}),t.jsx("span",{className:"ml-2 font-medium text-red-600",children:N?.requests.filter(z=>z.status==="pending"&&z.rejection_reason).length||0})]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500",children:"Total requests:"}),t.jsx("span",{className:"ml-2 font-medium text-gray-900",children:N?.total_requests})]})]}),t.jsx("div",{className:"space-y-3",children:N?.requests.filter(z=>z.status==="pending").length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Ge,{className:"h-12 w-12 mx-auto mb-4 text-green-300"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Pending Case Notes"}),t.jsx("p",{className:"text-gray-500",children:"All case notes from this CA have been processed."})]}):N?.requests.filter(z=>z.status==="pending").map(z=>t.jsx("div",{className:`p-4 border rounded-lg ${z.rejection_reason?"border-red-300 bg-red-50":"border-yellow-300 bg-yellow-50"}`,children:t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Ca,{checked:v.includes(z.id),onCheckedChange:O=>$(z.id,O),className:"mt-1"}),t.jsxs("div",{className:"flex-1",children:[z.rejection_reason&&t.jsxs("div",{className:"mb-3 p-3 bg-red-100 border border-red-200 rounded-md",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(vt,{className:"h-4 w-4 text-red-600"}),t.jsx("span",{className:"text-sm font-semibold text-red-800",children:"Case Note Returned by CA"})]}),t.jsxs("div",{className:"text-sm text-red-700",children:[t.jsx("div",{className:"font-medium mb-1",children:"Rejection Reason:"}),t.jsxs("div",{className:"italic",children:['"',z.rejection_reason,'"']}),t.jsxs("div",{className:"text-xs mt-2 text-red-600",children:["Returned by: ",z.rejected_by?.name||"Unknown CA"," on"," ",z.rejected_at?new Date(z.rejected_at).toLocaleDateString():"Unknown date"]})]})]}),t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium",children:z.patient.name}),t.jsxs("div",{className:"flex gap-2",children:[Z(z.priority),z.batch_number&&t.jsxs(Ee,{variant:"outline",className:"text-xs",children:["Batch: ",z.batch_number]})]})]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{children:["MRN: ",z.patient.mrn]}),t.jsxs("div",{children:["Request: ",z.request_number]}),t.jsxs("div",{children:["Department: ",z.department.name]}),t.jsxs("div",{children:["Purpose: ",z.purpose]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs("span",{className:"flex items-center text-xs",children:[t.jsx(hs,{className:"h-3 w-3 mr-1"}),"Created: ",new Date(z.created_at).toLocaleDateString()]}),t.jsxs("span",{className:"flex items-center text-xs",children:[t.jsx(rt,{className:"h-3 w-3 mr-1"}),"Needed: ",new Date(z.needed_date).toLocaleDateString()]})]})]})]})]})},z.id))})]}),t.jsxs(jn,{className:"flex justify-between",children:[t.jsx("div",{className:"text-sm text-gray-500",children:v.length>0&&t.jsxs("span",{children:[v.length," case note(s) selected"]})}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(de,{variant:"outline",onClick:()=>C(null),children:"Close"}),v.length>0&&t.jsxs(t.Fragment,{children:[t.jsxs(de,{variant:"default",onClick:()=>{A("approve"),j(!0)},className:"flex items-center space-x-2",children:[t.jsx(Ge,{className:"h-4 w-4"}),t.jsx("span",{children:"Approve Selected"})]}),t.jsxs(de,{variant:"destructive",onClick:()=>{A("reject"),j(!0)},className:"flex items-center space-x-2",children:[t.jsx(vt,{className:"h-4 w-4"}),t.jsx("span",{children:"Reject Selected"})]})]})]})]})]})}),t.jsx(qn,{open:_,onOpenChange:z=>{o||j(z)},children:t.jsxs(vn,{className:"max-w-md",children:[t.jsx(yn,{children:t.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[t.jsx("div",{className:`p-2 rounded-lg ${b==="approve"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:b==="approve"?t.jsx(Ge,{className:"h-6 w-6"}):t.jsx(vt,{className:"h-6 w-6"})}),t.jsxs("div",{children:[t.jsxs(bn,{className:"text-xl",children:[b==="approve"?"Approve":"Reject"," Case Notes"]}),t.jsx(Nn,{className:"mt-1",children:b==="approve"?"Approve the selected case notes. They will move to the CA's verification workflow.":"Reject the selected case notes. The CA will be notified of the rejection."})]})]})}),t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:`p-4 rounded-lg border ${b==="approve"?"bg-green-50 border-green-200":"bg-red-50 border-red-200"}`,children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Selected case notes:"}),t.jsx("p",{className:`text-2xl font-bold ${b==="approve"?"text-green-700":"text-red-700"}`,children:v.length})]}),t.jsx("div",{className:`p-3 rounded-lg ${b==="approve"?"bg-green-100":"bg-red-100"}`,children:b==="approve"?t.jsx(Ge,{className:"h-8 w-8 text-green-600"}):t.jsx(vt,{className:"h-8 w-8 text-red-600"})})]})}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs(It,{htmlFor:"approval-notes",className:"text-sm font-medium text-gray-700",children:[b==="approve"?"Approval":"Rejection"," Notes",t.jsx("span",{className:"text-gray-400 font-normal ml-1",children:"(Optional)"})]}),t.jsx(ms,{id:"approval-notes",placeholder:`Add ${b==="approve"?"approval":"rejection"} notes...`,value:D,onChange:z=>S(z.target.value),rows:4,disabled:o,className:"resize-none"}),t.jsx("p",{className:"text-xs text-gray-500",children:"These notes will be visible to the Clinic Assistant and included in the case note history."})]}),t.jsx("div",{className:`p-3 rounded-lg ${b==="approve"?"bg-purple-50 border border-purple-200":"bg-orange-50 border border-orange-200"}`,children:t.jsxs("div",{className:"flex items-start space-x-2",children:[t.jsx("div",{className:`p-1 rounded ${b==="approve"?"bg-purple-100":"bg-orange-100"}`,children:b==="approve"?t.jsx(Ge,{className:"h-4 w-4 text-purple-600"}):t.jsx(vt,{className:"h-4 w-4 text-orange-600"})}),t.jsxs("div",{className:"text-sm",children:[t.jsx("p",{className:`font-medium ${b==="approve"?"text-purple-800":"text-orange-800"}`,children:b==="approve"?"Ready to Approve":"Ready to Reject"}),t.jsxs("p",{className:`text-xs ${b==="approve"?"text-purple-600":"text-orange-600"}`,children:[v.length," case note(s) will be ",b==="approve"?"approved":"rejected","."]})]})]})})]}),t.jsxs(jn,{className:"flex-col sm:flex-row gap-3",children:[t.jsx(de,{variant:"outline",onClick:()=>j(!1),disabled:o,className:"w-full sm:w-auto",children:"Cancel"}),t.jsxs(de,{variant:b==="approve"?"default":"destructive",onClick:M,disabled:o,className:`w-full sm:w-auto flex items-center space-x-2 ${b==="approve"?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"}`,children:[o?t.jsx(Tn,{className:"h-4 w-4 animate-spin"}):b==="approve"?t.jsx(Ge,{className:"h-4 w-4"}):t.jsx(vt,{className:"h-4 w-4"}),t.jsx("span",{children:o?"Processing...":`${b==="approve"?"Approve":"Reject"} Case Notes`})]})]})]})})]}):t.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-red-100 rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-4",children:t.jsx(Mt,{className:"h-6 w-6 text-red-600"})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600",children:"Only Medical Records Staff can access this page."})]})})},Lq=()=>{const{toast:e}=aa(),{user:n}=Yt(),[r,l]=p.useState([]),[o,d]=p.useState(null),[u,m]=p.useState([]),[g,x]=p.useState(""),[v,y]=p.useState(""),[N,C]=p.useState(!1),[_,j]=p.useState(!1);p.useEffect(()=>{console.log("Current user:",n),console.log("User roles:",n?.roles)},[n]),p.useEffect(()=>{b()},[]);const b=async()=>{try{C(!0),console.log("Loading returned submissions..."),console.log("Auth token:",localStorage.getItem("cnrs_token")?"Present":"Missing");const k=await fetch("/api/case-notes/returned-submissions",{headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`,"Content-Type":"application/json"}});if(console.log("API Response status:",k.status),console.log("API Response headers:",Object.fromEntries(k.headers.entries())),k.ok){const $=await k.json();if(console.log("API Response data:",$),$.success){console.log("Setting return submissions:",$.submissions);const M=$.submissions||[];l(M),o&&!M.find(Q=>Q.ca_user_id===o.ca_user_id)&&d(null)}else console.error("API Error:",$.message),e({title:"Error",description:$.message||"Failed to load returned case notes",variant:"destructive"})}else{const $=await k.text();throw console.error("HTTP Error:",k.status,$),new Error(`HTTP ${k.status}: ${$}`)}}catch(k){console.error("Error loading returned case notes:",k),e({title:"Error",description:"Failed to load returned case notes",variant:"destructive"})}finally{C(!1)}},A=k=>{d(k),m([]),x(""),y("")},D=()=>{d(null),m([]),x(""),y("")},S=(k,$)=>{m($?M=>[...M,k]:M=>M.filter(Q=>Q!==k))},q=async()=>{if(u.length===0){e({title:"Warning",description:"Please select at least one case note to verify",variant:"destructive"});return}try{j(!0);const k=await fetch("/api/case-notes/verify-returned",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`,"Content-Type":"application/json"},body:JSON.stringify({case_note_ids:u,verification_notes:g,action:"verify"})});if(k.ok){const $=await k.json();if($.success){if(e({title:"Success",description:`Successfully verified ${u.length} case note(s)`,variant:"success"}),await b(),o){const M=r.find(Q=>Q.ca_user_id===o.ca_user_id);M&&M.case_notes.length>0?d(M):(d(null),e({title:"Info",description:"All case notes for this CA have been processed. Returning to main list.",variant:"default"}))}m([]),x("")}else e({title:"Error",description:$.message||"Failed to verify case notes",variant:"destructive"})}else{const $=await k.json();throw new Error($.message||"Failed to verify case notes")}}catch(k){console.error("Error verifying case notes:",k),e({title:"Error",description:k instanceof Error?k.message:"Failed to verify case notes",variant:"destructive"})}finally{j(!1)}},R=async()=>{if(u.length===0){e({title:"Warning",description:"Please select at least one case note to reject",variant:"destructive"});return}if(!v.trim()){e({title:"Warning",description:"Please provide a rejection reason",variant:"destructive"});return}try{j(!0);const k=await fetch("/api/case-notes/verify-returned",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`,"Content-Type":"application/json"},body:JSON.stringify({case_note_ids:u,rejection_reason:v,action:"reject"})});if(k.ok){const $=await k.json();if($.success){if(e({title:"Rejected",description:`Successfully rejected ${u.length} case note(s)`,variant:"destructive"}),await b(),o){const M=r.find(Q=>Q.ca_user_id===o.ca_user_id);M&&M.case_notes.length>0?d(M):(d(null),e({title:"Info",description:"All case notes for this CA have been processed. Returning to main list.",variant:"default"}))}m([]),y("")}else e({title:"Error",description:$.message||"Failed to reject case notes",variant:"destructive"})}else{const $=await k.json();throw new Error($.message||"Failed to reject case notes")}}catch(k){console.error("Error rejecting case notes:",k),e({title:"Error",description:k instanceof Error?k.message:"Failed to reject case notes",variant:"destructive"})}finally{j(!1)}};return N?t.jsx("div",{className:"container mx-auto p-6",children:t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading returned case notes..."})]})})}):o?t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsxs(de,{variant:"outline",onClick:D,className:"mb-4",children:[t.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Back to List"]}),t.jsxs("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:["Returned Case Notes - ",o.ca_name]}),t.jsxs("p",{className:"text-gray-600",children:["Submitted on ",new Date(o.submission_date).toLocaleString()]})]}),t.jsx("div",{className:"grid gap-4",children:o.case_notes.map(k=>t.jsx(ue,{className:"border-l-4 border-l-purple-500",children:t.jsx(fe,{className:"p-4",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[t.jsx(Ca,{checked:u.includes(k.id),onCheckedChange:$=>S(k.id,$)}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:k.patient.name}),t.jsxs("p",{className:"text-sm text-gray-600",children:["MRN: ",k.patient.mrn," • ",k.department.name]})]})]}),t.jsxs("div",{className:"ml-8 space-y-2",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Mt,{className:"h-4 w-4"}),t.jsxs("span",{children:["Doctor: ",k.doctor.name]})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(hs,{className:"h-4 w-4"}),t.jsxs("span",{children:["Returned: ",new Date(k.returned_at).toLocaleString()]})]}),k.return_notes&&t.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[t.jsx(Je,{className:"h-4 w-4 mt-0.5"}),t.jsxs("span",{children:["Notes: ",k.return_notes]})]})]})]}),t.jsx(Ee,{variant:"secondary",children:k.status})]})})},k.id))}),u.length>0&&t.jsxs(ue,{className:"mt-6",children:[t.jsx(Ie,{children:t.jsx(Be,{children:"Action Required"})}),t.jsxs(fe,{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Verification Notes (Optional)"}),t.jsx(ms,{placeholder:"Add any notes about the verification process...",value:g,onChange:k=>x(k.target.value),rows:3})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Rejection Reason (Required for rejection)"}),t.jsx(ms,{placeholder:"Explain why these case notes are being rejected...",value:v,onChange:k=>y(k.target.value),rows:3})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsxs(de,{onClick:q,disabled:_,className:"flex-1 bg-green-600 hover:bg-green-700",children:[t.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Verify Selected (",u.length,")"]}),t.jsxs(de,{onClick:R,disabled:_||!v.trim(),variant:"destructive",className:"flex-1",children:[t.jsx(vt,{className:"h-4 w-4 mr-2"}),"Reject Selected (",u.length,")"]})]})]})]})]}):t.jsxs("div",{className:"container mx-auto p-6",children:[t.jsxs("div",{className:"mb-6",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Returned Case Notes"}),t.jsx("p",{className:"text-gray-600",children:"Review and verify case notes returned by CA users"})]}),r.length===0?t.jsx(ue,{children:t.jsxs(fe,{className:"p-8 text-center",children:[t.jsx(Je,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No returned case notes"}),t.jsx("p",{className:"text-gray-600",children:"There are currently no case notes waiting for verification."})]})}):t.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:r.map(k=>t.jsxs(ue,{className:"cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-purple-500",onClick:()=>A(k),children:[t.jsx(Ie,{children:t.jsxs(Be,{className:"flex items-center gap-2",children:[t.jsx(Mt,{className:"h-5 w-5 text-purple-600"}),k.ca_name]})}),t.jsx(fe,{children:t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(hs,{className:"h-4 w-4"}),t.jsx("span",{children:new Date(k.submission_date).toLocaleString()})]}),t.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[t.jsx(Je,{className:"h-4 w-4"}),t.jsxs("span",{children:[k.total_count," case note(s) returned"]})]}),t.jsx(Ee,{variant:"outline",className:"w-fit",children:"Pending Verification"})]})})]},k.ca_user_id))})]})},qq=()=>{const{hasRole:e}=Yt(),{toast:n}=sl(),[r,l]=p.useState(!1),[o,d]=p.useState(""),[u,m]=p.useState([]),[g,x]=p.useState(null),[v,y]=p.useState([]),[N,C]=p.useState(!1);p.useEffect(()=>{if(!e("MR_STAFF")){n({title:"Access Denied",description:"Only Medical Records Staff can access this page.",variant:"destructive"});return}},[e,n]);const _=async()=>{if(!o.trim()){m([]);return}try{l(!0);const R=await Ke.searchCaseNotes(o);R.success?m(R.case_notes||[]):n({title:"Search Error",description:R.message||"Failed to search case notes",variant:"destructive"})}catch(R){console.error("Error searching case notes:",R),n({title:"Error",description:"Failed to search case notes",variant:"destructive"})}finally{l(!1)}},j=async R=>{try{C(!0);const k=await Ke.getCaseNoteTimeline(R);if(k.success){const M=k.events||[];console.log("Timeline events received:",{caseNoteId:R,eventsCount:M.length,events:M.map(Q=>({id:Q.id,event_type:Q.event_type,description:Q.description,user:Q.user?.name,metadata:Q.metadata}))}),y(M)}else n({title:"Error",description:k.message||"Failed to load timeline events",variant:"destructive"})}catch(k){console.error("Error loading timeline events:",k),n({title:"Error",description:"Failed to load timeline events",variant:"destructive"})}finally{C(!1)}},b=async R=>{y([]),x(R),console.log("Loading timeline for case note:",{id:R.id,requestNumber:R.request_number,patientName:R.patient.name}),await j(R.id)},A=R=>{const k={low:{variant:"outline",className:"border-gray-300 text-gray-700 bg-gray-50 text-xs"},normal:{variant:"outline",className:"border-purple-300 text-purple-700 bg-purple-50 text-xs"},high:{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50 text-xs"},urgent:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50 text-xs"}},$=k[R.toLowerCase()]||k.normal;return t.jsx(Ee,{variant:$.variant,className:$.className,children:R.charAt(0).toUpperCase()+R.slice(1)})},D=R=>{const k={pending:{variant:"outline",className:"border-yellow-300 text-yellow-700 bg-yellow-50 text-xs"},approved:{variant:"outline",className:"border-green-300 text-green-700 bg-green-50 text-xs"},rejected:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50 text-xs"},completed:{variant:"outline",className:"border-emerald-300 text-emerald-700 bg-emerald-50 text-xs"}},$=k[R.toLowerCase()]||k.pending;return t.jsx(Ee,{variant:$.variant,className:$.className,children:R.charAt(0).toUpperCase()+R.slice(1)})},S=R=>{switch(R){case"created":return t.jsx(Je,{className:"h-4 w-4"});case"approved":return t.jsx(Ge,{className:"h-4 w-4"});case"rejected":return t.jsx(vt,{className:"h-4 w-4"});case"handover_requested":return t.jsx(Vr,{className:"h-4 w-4"});case"handover_approved":return t.jsx(Ge,{className:"h-4 w-4"});case"handover_rejected":return t.jsx(vt,{className:"h-4 w-4"});case"handed_over":return t.jsx(Vr,{className:"h-4 w-4"});case"Acknowledge":return t.jsx(xn,{className:"h-4 w-4"});case"received":return t.jsx(Ge,{className:"h-4 w-4"});case"completed":return t.jsx(Ge,{className:"h-4 w-4"});case"updated":return t.jsx(Lt,{className:"h-4 w-4"});case"status_changed":return t.jsx(Lt,{className:"h-4 w-4"});default:return t.jsx(rt,{className:"h-4 w-4"})}},q=R=>{switch(R){case"created":return"text-purple-600 bg-purple-100";case"handover_requested":return"text-purple-600 bg-purple-100";case"submitted":return"text-purple-600 bg-purple-100";case"approved":return"text-green-600 bg-green-100";case"handover_approved":return"text-green-600 bg-green-100";case"handover_verified":return"text-green-600 bg-green-100";case"handover_receipt_verified":return"text-green-600 bg-green-100";case"returned_verified":return"text-green-600 bg-green-100";case"received":return"text-green-600 bg-green-100";case"Acknowledge":return"text-green-600 bg-green-100";case"completed":return"text-emerald-600 bg-emerald-100";case"rejected":return"text-red-600 bg-red-100";case"handover_rejected":return"text-red-600 bg-red-100";case"rejected_not_received":return"text-red-600 bg-red-100";case"returned_rejected":return"text-red-600 bg-red-100";case"handed_over":return"text-orange-600 bg-orange-100";case"status_changed":return"text-orange-600 bg-orange-100";case"in_progress":return"text-purple-600 bg-purple-100";case"updated":return"text-purple-600 bg-purple-100";default:return"text-gray-600 bg-gray-100"}};return e("MR_STAFF")?t.jsxs("div",{className:"space-y-6",children:[t.jsx("div",{className:"flex items-center justify-between",children:t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Case Note Timeline"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Search and track the complete journey of case notes"})]})}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{className:"flex items-center gap-2",children:[t.jsx(Ss,{className:"h-5 w-5"}),"Search Case Notes"]}),t.jsx(ot,{children:"Search by patient name, MRN, or nationality ID"})]}),t.jsx(fe,{children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Ft,{placeholder:"Enter patient name, MRN, or nationality ID...",value:o,onChange:R=>d(R.target.value),onKeyPress:R=>R.key==="Enter"&&_(),className:"flex-1"}),t.jsxs(de,{onClick:_,disabled:r,children:[r?t.jsx(Tn,{className:"h-4 w-4 animate-spin"}):t.jsx(Ss,{className:"h-4 w-4"}),"Search"]})]})})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsx(Be,{children:"Search Results"}),t.jsxs(ot,{children:[u.length," case note(s) found"]})]}),t.jsx(fe,{children:u.length===0?t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(Ss,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Case Notes Found"}),t.jsx("p",{children:"Try searching with different criteria"})]}):t.jsx("div",{className:"space-y-3",children:u.map(R=>t.jsxs("div",{className:`p-4 border rounded-lg cursor-pointer transition-colors ${g?.id===R.id?"border-purple-500 bg-purple-50":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>b(R),children:[t.jsxs("div",{className:"flex items-center justify-between mb-2",children:[t.jsx("h4",{className:"font-medium text-gray-900",children:R.patient.name}),t.jsxs("div",{className:"flex gap-2",children:[A(R.priority),D(R.status)]})]}),t.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[t.jsxs("div",{children:["MRN: ",R.patient.mrn]}),t.jsxs("div",{children:["Nationality ID: ",R.patient.nationality_id]}),t.jsxs("div",{children:["Request: ",R.request_number]}),t.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[t.jsxs("span",{className:"flex items-center text-xs",children:[t.jsx(hs,{className:"h-3 w-3 mr-1"}),new Date(R.created_at).toLocaleDateString()]}),t.jsxs("span",{className:"flex items-center text-xs",children:[t.jsx(Mt,{className:"h-3 w-3 mr-1"}),R.requested_by.name]})]})]})]},R.id))})})]}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsx(Be,{children:"Case Note Details & Timeline"}),t.jsx(ot,{children:g?`Tracking: ${g.patient.name}`:"Select a case note to view details"})]}),t.jsx(fe,{children:g?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Case Note Information"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Patient:"}),t.jsx("p",{className:"text-gray-900",children:g.patient.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"MRN:"}),t.jsx("p",{className:"text-gray-900",children:g.patient.mrn})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Nationality ID:"}),t.jsx("p",{className:"text-gray-900",children:g.patient.nationality_id})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Request Number:"}),t.jsx("p",{className:"text-gray-900",children:g.request_number})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Status:"}),D(g.status)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Priority:"}),A(g.priority)]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Department:"}),t.jsx("p",{className:"text-gray-900",children:g.department.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Purpose:"}),t.jsx("p",{className:"text-gray-900",children:g.purpose})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Requested By:"}),t.jsx("p",{className:"text-gray-900",children:g.requested_by.name})]}),t.jsxs("div",{children:[t.jsx("span",{className:"font-medium text-gray-600",children:"Created:"}),t.jsx("p",{className:"text-gray-900",children:new Date(g.created_at).toLocaleString()})]})]})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Timeline"}),N?t.jsx("div",{className:"space-y-3",children:[...Array(5)].map((R,k)=>t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx(Pe,{className:"h-8 w-8 rounded-full"}),t.jsxs("div",{className:"flex-1 space-y-2",children:[t.jsx(Pe,{className:"h-4 w-3/4"}),t.jsx(Pe,{className:"h-3 w-1/2"})]})]},k))}):v.length===0?t.jsxs("div",{className:"text-center py-4 text-gray-500",children:[t.jsx(rt,{className:"h-8 w-8 mx-auto mb-2 text-gray-300"}),t.jsx("p",{children:"No timeline events found"})]}):t.jsx("div",{className:"space-y-4",children:v.map(R=>t.jsxs("div",{className:"flex items-start space-x-3",children:[t.jsx("div",{className:`p-2 rounded-full ${q(R.event_type)}`,children:S(R.event_type)}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center justify-between mb-1",children:[t.jsx("p",{className:"font-medium text-gray-900",children:R.description}),t.jsx("span",{className:"text-xs text-gray-500",children:new Date(R.created_at).toLocaleString()})]}),R.user.name!=="Unknown"&&t.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[t.jsx("span",{children:R.user.name}),t.jsx("span",{children:"•"}),t.jsx(Ee,{variant:"outline",className:"text-xs",children:R.user.role})]}),R.metadata&&Object.keys(R.metadata).length>0&&t.jsx("div",{className:`mt-2 p-3 rounded-lg border-2 ${R.event_type.includes("rejected")||R.event_type.includes("rejected_not_received")||R.event_type.includes("returned_rejected")?"bg-red-50 border-red-200":R.event_type.includes("approved")||R.event_type.includes("verified")||R.event_type.includes("received")||R.event_type.includes("completed")?"bg-green-50 border-green-200":R.event_type.includes("requested")||R.event_type.includes("created")||R.event_type.includes("submitted")?"bg-purple-50 border-purple-200":"bg-gray-50 border-gray-200"}`,children:t.jsxs("div",{className:"space-y-2",children:[(R.metadata.notes||R.metadata.reason||R.metadata.verification_notes||R.metadata.completion_notes||R.metadata.approval_remarks||R.metadata.rejection_reason||R.metadata.handover_reason)&&t.jsxs("div",{className:`bg-white p-2 rounded border-l-4 ${R.event_type.includes("rejected")||R.event_type.includes("rejected_not_received")||R.event_type.includes("returned_rejected")?"border-red-400":R.event_type.includes("approved")||R.event_type.includes("verified")||R.event_type.includes("received")||R.event_type.includes("completed")?"border-green-400":R.event_type.includes("requested")||R.event_type.includes("created")||R.event_type.includes("submitted")?"border-purple-400":"border-purple-400"}`,children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Comments:"}),t.jsx("p",{className:"text-sm text-gray-700",children:R.metadata.notes||R.metadata.reason||R.metadata.verification_notes||R.metadata.completion_notes||R.metadata.approval_remarks||R.metadata.rejection_reason||R.metadata.handover_reason})]}),(R.metadata.doctor_name||R.metadata.handover_doctor_name||R.metadata.new_doctor_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-green-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Doctor:"}),t.jsx("p",{className:"text-sm text-gray-700",children:R.metadata.doctor_name||R.metadata.handover_doctor_name||R.metadata.new_doctor_name})]}),(R.metadata.department_name||R.metadata.new_department_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-purple-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Department:"}),t.jsx("p",{className:"text-sm text-gray-700",children:R.metadata.department_name||R.metadata.new_department_name})]}),R.metadata.location_name&&R.metadata.location_name!=="No specific location"&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-orange-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Location:"}),t.jsx("p",{className:"text-sm text-gray-700",children:R.metadata.location_name})]}),(R.metadata.from_user||R.metadata.to_user||R.metadata.handed_over_from_user_name||R.metadata.handed_over_to_user_name)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-indigo-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Transfer:"}),t.jsxs("p",{className:"text-sm text-gray-700",children:[R.metadata.from_user||R.metadata.handed_over_from_user_name," → ",R.metadata.to_user||R.metadata.handed_over_to_user_name]})]}),(R.metadata.old_status||R.metadata.new_status)&&t.jsxs("div",{className:"bg-white p-2 rounded border-l-2 border-yellow-300",children:[t.jsx("span",{className:"text-xs font-medium text-gray-600 block mb-1",children:"Status Change:"}),t.jsxs("p",{className:"text-sm text-gray-700",children:[R.metadata.old_status," → ",R.metadata.new_status]})]})]})})]})]},R.id))})]})]}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(ei,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Case Note Selected"}),t.jsx("p",{children:"Select a case note from the search results to view details and timeline"})]})})]})]})]}):t.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-red-100 rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-4",children:t.jsx(Mt,{className:"h-6 w-6 text-red-600"})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600",children:"Only Medical Records Staff can access this page."})]})})},Uq=()=>{const{hasRole:e}=Yt(),{toast:n}=aa(),[r,l]=p.useState(!1),[o,d]=p.useState([]),[u,m]=p.useState([]),[g,x]=p.useState("my-requests"),[v,y]=p.useState(!1),[N,C]=p.useState(null),[_,j]=p.useState(""),[b,A]=p.useState(!1);p.useEffect(()=>{if(!e("CA")){n({title:"Access Denied",description:"Only Clinic Assistants can access this page.",variant:"destructive"});return}},[e,n]),p.useEffect(()=>{S()},[g]),p.useEffect(()=>{D()},[]),p.useEffect(()=>{const M=()=>{D()};return window.addEventListener("focus",M),()=>{window.removeEventListener("focus",M)}},[]);const D=async()=>{try{l(!0);const[M,Q]=await Promise.all([Ke.getMyHandoverRequests(),Ke.getIncomingHandoverRequests()]);M.success&&d(M.handover_requests||[]),Q.success&&m(Q.handover_requests||[])}catch(M){console.error("Error loading initial handover requests:",M),n({title:"Error",description:"Failed to load handover requests",variant:"destructive"})}finally{l(!1)}},S=async()=>{try{if(l(!0),g==="my-requests"){const M=await Ke.getMyHandoverRequests();M.success&&d(M.handover_requests||[])}else{const M=await Ke.getIncomingHandoverRequests();M.success&&m(M.handover_requests||[])}}catch(M){console.error("Error loading handover requests:",M),n({title:"Error",description:"Failed to load handover requests",variant:"destructive"})}finally{l(!1)}},q=M=>{C(M),j(""),y(!0)},R=async M=>{if(N)try{A(!0);const Q=await Ke.respondToHandoverRequest(N.id,{action:M,notes:_});Q.success?(n({title:"Success",description:`Handover request ${M}d successfully`,variant:"success"}),setTimeout(()=>{y(!1),C(null),j(""),S()},500)):n({title:"Error",description:Q.message||`Failed to ${M} handover request`,variant:"destructive"})}catch(Q){console.error("Error responding to handover request:",Q),n({title:"Error",description:`Failed to ${M} handover request`,variant:"destructive"})}finally{A(!1)}},k=M=>{const Q={low:{variant:"outline",className:"border-gray-300 text-gray-700 bg-gray-50"},normal:{variant:"secondary",className:"bg-purple-100 text-purple-800 border-purple-200"},high:{variant:"outline",className:"border-orange-300 text-orange-700 bg-orange-50"},urgent:{variant:"outline",className:"border-red-300 text-red-700 bg-red-50"}},Z=Q[M]||Q.normal;return t.jsx(Ee,{variant:Z.variant,className:Z.className,children:M.charAt(0).toUpperCase()+M.slice(1)})},$=M=>{const Q={pending:{variant:"outline",icon:rt,text:"Pending",className:"border-yellow-300 text-yellow-700 bg-yellow-50"},approved:{variant:"outline",icon:Ge,text:"Approved",className:"border-green-300 text-green-700 bg-green-50"},rejected:{variant:"outline",icon:vt,text:"Rejected",className:"border-red-300 text-red-700 bg-red-50"}},Z=Q[M]||Q.pending,z=Z.icon;return t.jsxs(Ee,{variant:Z.variant,className:`flex items-center space-x-1 ${Z.className}`,children:[t.jsx(z,{className:"h-3 w-3"}),t.jsx("span",{children:Z.text})]})};return e("CA")?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Handover Requests"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Manage case note handover requests"})]}),t.jsxs(de,{onClick:D,disabled:r,variant:"outline",size:"sm",className:"flex items-center space-x-2",children:[t.jsx(Mn,{className:`h-4 w-4 ${r?"animate-spin":""}`}),t.jsx("span",{children:"Refresh"})]})]}),t.jsxs("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg",children:[t.jsxs("button",{onClick:()=>x("my-requests"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${g==="my-requests"?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["My Requests (",o.length,")"]}),t.jsxs("button",{onClick:()=>x("incoming"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${g==="incoming"?"bg-white text-gray-900 shadow-sm":u.length>0?"text-red-600 hover:text-red-700":"text-gray-600 hover:text-gray-900"}`,children:["Incoming Requests (",u.length,")"]})]}),r?t.jsx("div",{className:"flex items-center justify-center py-12",children:t.jsx(Tn,{className:"h-8 w-8 animate-spin text-gray-400"})}):t.jsx("div",{className:"space-y-4",children:g==="my-requests"?o.length===0?t.jsx(ue,{children:t.jsxs(fe,{className:"text-center py-12",children:[t.jsx(xn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Handover Requests"}),t.jsx("p",{className:"text-gray-500",children:"You haven't made any handover requests yet."})]})}):o.map(M=>t.jsx(ue,{className:"hover:shadow-md transition-shadow",children:t.jsx(fe,{className:"p-6",children:t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:t.jsx(xn,{className:"h-5 w-5 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:M.case_note?.patient?.name||"Unknown Patient"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["MRN: ",M.case_note?.patient?.mrn||"N/A"," • ",M.case_note?.department?.name||"Unknown Department"]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[k(M.priority),$(M.status)]})]}),t.jsx("div",{className:"mb-3",children:t.jsxs("p",{className:"text-sm text-gray-700",children:[t.jsx("span",{className:"font-medium",children:"Reason:"})," ",M.reason]})}),t.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[t.jsxs("span",{className:"flex items-center",children:[t.jsx(hs,{className:"h-4 w-4 mr-1"}),"Requested: ",new Date(M.requested_at).toLocaleDateString()]}),M.responded_at&&t.jsxs("span",{className:"flex items-center",children:[t.jsx(rt,{className:"h-4 w-4 mr-1"}),"Responded: ",new Date(M.responded_at).toLocaleDateString()]})]}),M.response_notes&&t.jsx("div",{className:"mt-3 p-3 bg-gray-50 rounded-lg",children:t.jsxs("p",{className:"text-sm text-gray-700",children:[t.jsx("span",{className:"font-medium",children:"Response:"})," ",M.response_notes]})})]})})})},M.id)):u.length===0?t.jsx(ue,{children:t.jsxs(fe,{className:"text-center py-12",children:[t.jsx(Lt,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Incoming Requests"}),t.jsx("p",{className:"text-gray-500",children:"No pending handover requests for your case notes."})]})}):u.map(M=>t.jsx(ue,{className:"hover:shadow-md transition-shadow border-l-4 border-l-red-500",children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[t.jsx("div",{className:"bg-red-100 p-2 rounded-lg",children:t.jsx(Vr,{className:"h-5 w-5 text-red-600"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:M.case_note?.patient?.name||"Unknown Patient"}),t.jsxs("p",{className:"text-sm text-gray-500",children:["MRN: ",M.case_note?.patient?.mrn||"N/A"," • ",M.case_note?.department?.name||"Unknown Department"]}),t.jsxs("p",{className:"text-sm text-red-600",children:["Requested by: ",M.requester?.name]})]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[k(M.priority),$(M.status)]})]}),t.jsx("div",{className:"mb-3",children:t.jsxs("p",{className:"text-sm text-gray-700",children:[t.jsx("span",{className:"font-medium",children:"Reason:"})," ",M.reason]})}),t.jsx("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:t.jsxs("span",{className:"flex items-center",children:[t.jsx(hs,{className:"h-4 w-4 mr-1"}),"Requested: ",new Date(M.requested_at).toLocaleDateString()]})})]}),t.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>q(M),className:"text-green-600 border-green-600 hover:bg-green-50",children:[t.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Approve"]}),t.jsxs(de,{variant:"outline",size:"sm",onClick:()=>q(M),className:"text-red-600 border-red-600 hover:bg-red-50",children:[t.jsx(vt,{className:"h-4 w-4 mr-1"}),"Reject"]})]})]})})},M.id))}),t.jsx(qn,{open:v,onOpenChange:y,children:t.jsxs(vn,{className:"max-w-md",children:[t.jsxs(yn,{children:[t.jsx(bn,{children:"Respond to Handover Request"}),t.jsxs(Nn,{children:[N?.case_note?.patient?.name||"Unknown Patient"," - ",N?.reason]})]}),t.jsx("div",{className:"space-y-4",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Response Notes (Optional)"}),t.jsx(ms,{value:_,onChange:M=>j(M.target.value),placeholder:"Add any notes about your decision...",rows:3,className:"mt-1",disabled:b})]})}),t.jsxs(jn,{children:[t.jsx(de,{variant:"outline",onClick:()=>y(!1),disabled:b,children:"Cancel"}),t.jsx(de,{onClick:()=>R("reject"),disabled:b,className:"bg-red-600 hover:bg-red-700",children:b?"Processing...":"Reject"}),t.jsx(de,{onClick:()=>R("approve"),disabled:b,className:"bg-green-600 hover:bg-green-700",children:b?"Processing...":"Approve"})]})]})})]}):t.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"bg-red-100 rounded-full h-12 w-12 flex items-center justify-center mx-auto mb-4",children:t.jsx(Mt,{className:"h-6 w-6 text-red-600"})}),t.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600",children:"Only Clinic Assistants can access this page."})]})})},Fq=wn({name:kt().min(1,"Doctor name is required"),department_id:bs().min(1,"Department is required")});function $q(){const{hasRole:e}=Yt(),{toast:n}=sl(),[r,l]=p.useState(0),[o,d]=p.useState(0),[u,m]=p.useState([]),[g,x]=p.useState(!1),[v,y]=p.useState(!1),[N,C]=p.useState(""),[_,j]=p.useState([]),[b,A]=p.useState(!1),[D,S]=p.useState(!1),[q,R]=p.useState(!1),[k,$]=p.useState(null),{register:M,handleSubmit:Q,reset:Z,setValue:z,formState:{errors:O}}=sa({resolver:na(Fq)});if(!e("ADMIN"))return t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})});p.useEffect(()=>{Y(),B()},[]);const Y=async()=>{try{const K=await fetch("/api/admin/doctors",{headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`}});if(K.ok){const F=await K.json(),T=F.doctors.filter(ne=>ne.is_active).length,re=F.doctors.length;l(T),d(re)}}catch(K){console.error("Error loading doctors count:",K)}},B=async()=>{try{const K=await fetch("/api/resources/departments",{headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`}});if(K.ok){const F=await K.json();m(F.departments||[])}}catch(K){console.error("Error loading departments:",K)}},P=async()=>{if(!N.trim()){j([]),S(!1);return}try{A(!0);const K=await fetch(`/api/admin/doctors?search=${encodeURIComponent(N.trim())}`,{headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`}});if(K.ok){const F=await K.json();j(F.doctors||[]),S(!0)}else n({title:"Error",description:"Failed to search doctors",variant:"destructive"})}catch(K){console.error("Error searching doctors:",K),n({title:"Error",description:"Failed to search doctors",variant:"destructive"})}finally{A(!1)}},L=K=>{K.preventDefault(),P()},X=()=>{C(""),j([]),S(!1)},H=K=>{$(K),R(!0)},ie=async(K,F)=>{try{(await fetch(`/api/admin/doctors/${K}/toggle-status`,{method:"PATCH",headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`,"Content-Type":"application/json"},body:JSON.stringify({is_active:!F})})).ok?(j(re=>re.map(ne=>ne.id===K?{...ne,is_active:!F}:ne)),Y(),n({title:"Success",description:`Doctor ${F?"deactivated":"activated"} successfully`})):n({title:"Error",description:"Failed to update doctor status",variant:"destructive"})}catch(T){console.error("Error toggling doctor status:",T),n({title:"Error",description:"Failed to update doctor status",variant:"destructive"})}},U=async K=>{if(k)try{y(!0);const F=await fetch(`/api/admin/doctors/${k.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`,"Content-Type":"application/json"},body:JSON.stringify(K)});if(F.ok)j(T=>T.map(re=>re.id===k.id?{...re,name:K.name,department:{id:u.find(ne=>ne.value===K.department_id)?.value||re.department.id,name:u.find(ne=>ne.value===K.department_id)?.label||re.department.name,code:u.find(ne=>ne.value===K.department_id)?.code||re.department.code}}:re)),n({title:"Success",description:"Doctor updated successfully"}),R(!1),$(null),Z();else{const T=await F.json();n({title:"Error",description:T.message||"Failed to update doctor",variant:"destructive"})}}catch(F){console.error("Error updating doctor:",F),n({title:"Error",description:"Failed to update doctor",variant:"destructive"})}finally{y(!1)}},le=async K=>{try{y(!0);const F=await fetch("/api/admin/doctors",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("cnrs_token")}`},body:JSON.stringify(K)});if(F.ok)n({title:"Success",description:"Doctor added successfully"}),x(!1),Z(),Y();else{const T=await F.json();n({title:"Error",description:T.message||"Failed to add doctor",variant:"destructive"})}}catch(F){console.error("Error adding doctor:",F),n({title:"Error",description:"Failed to add doctor",variant:"destructive"})}finally{y(!1)}};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Doctor Management"}),t.jsx("p",{className:"text-gray-600",children:"Manage doctors and their department assignments"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-8",children:[t.jsx(ue,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"p-2 rounded-full bg-green-100",children:t.jsx(Gs,{className:"h-4 w-4 text-green-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Doctors"}),t.jsx("p",{className:"text-2xl font-bold text-green-600",children:r})]})]})}),t.jsx(ue,{className:"p-4",children:t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("div",{className:"p-2 rounded-full bg-purple-100",children:t.jsx(Mt,{className:"h-4 w-4 text-purple-600"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Doctors"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:o})]})]})})]}),t.jsx("div",{className:"mb-8",children:t.jsxs(de,{onClick:()=>x(!0),className:"flex items-center gap-2",children:[t.jsx(Ir,{className:"h-4 w-4"}),"Add Doctor"]})}),t.jsxs(ue,{className:"mb-8",children:[t.jsxs(Ie,{children:[t.jsx(Be,{children:"Search Doctors"}),t.jsx(ot,{children:"Search for specific doctors by name or department"})]}),t.jsxs(fe,{children:[t.jsx("form",{onSubmit:L,className:"space-y-4",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"flex-1 relative",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(Ft,{placeholder:"Search doctors by name or department...",value:N,onChange:K=>C(K.target.value),className:"pl-10"})]}),t.jsx(de,{type:"submit",disabled:b||!N.trim(),children:b?"Searching...":"Search"}),D&&t.jsx(de,{type:"button",variant:"outline",onClick:X,children:"Clear"})]})}),D&&t.jsxs("div",{className:"mt-6",children:[t.jsxs("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:["Search Results (",_.length," found)"]}),_.length===0?t.jsxs("div",{className:"text-center py-8",children:[t.jsx(Mt,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),t.jsx("p",{className:"text-gray-600",children:"No doctors found matching your search"})]}):t.jsx("div",{className:"grid gap-4",children:_.map(K=>t.jsx(ue,{className:"p-4",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:K.name}),t.jsx("p",{className:"text-sm text-gray-600",children:K.department.name}),t.jsx("div",{className:"flex items-center gap-2 mt-2",children:t.jsxs("span",{className:"text-xs text-gray-500",children:["Created: ",new Date(K.created_at).toLocaleDateString()]})})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(de,{size:"sm",variant:"outline",onClick:()=>H(K),children:[t.jsx(Hp,{className:"h-4 w-4 mr-1"}),"Edit"]}),t.jsx(de,{size:"sm",variant:K.is_active?"destructive":"default",onClick:()=>ie(K.id,K.is_active),children:K.is_active?"Deactivate":"Activate"})]})]})},K.id))})]})]})]}),q&&k&&t.jsx(qn,{open:q,onOpenChange:R,children:t.jsxs(vn,{children:[t.jsxs(yn,{children:[t.jsx(bn,{children:"Edit Doctor"}),t.jsx(Nn,{children:"Update the doctor's information"})]}),t.jsxs("form",{onSubmit:Q(U),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"edit-name",children:"Name"}),t.jsx(Ft,{id:"edit-name",...M("name"),defaultValue:k.name}),O.name&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.name.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"edit-department",children:"Department"}),t.jsxs(ht,{defaultValue:k.department.id.toString(),onValueChange:K=>z("department_id",parseInt(K)),children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select department"})}),t.jsx(ft,{children:u.map(K=>t.jsxs(we,{value:K.value.toString(),children:[K.label," (",K.code,")"]},K.value))})]}),O.department_id&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.department_id.message})]}),t.jsxs(jn,{children:[t.jsx(de,{type:"button",variant:"outline",onClick:()=>{R(!1),$(null),Z()},children:"Cancel"}),t.jsx(de,{type:"submit",disabled:v,children:v?"Updating...":"Update Doctor"})]})]})]})}),g&&t.jsx(qn,{open:g,onOpenChange:x,children:t.jsxs(vn,{children:[t.jsxs(yn,{children:[t.jsx(bn,{children:"Add New Doctor"}),t.jsx(Nn,{children:"Enter the details for the new doctor"})]}),t.jsxs("form",{onSubmit:Q(le),className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"add-name",children:"Name"}),t.jsx(Ft,{id:"add-name",...M("name")}),O.name&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.name.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"add-department",children:"Department"}),t.jsxs(ht,{onValueChange:K=>z("department_id",parseInt(K)),children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select department"})}),t.jsx(ft,{children:u.map(K=>t.jsxs(we,{value:K.value.toString(),children:[K.label," (",K.code,")"]},K.value))})]}),O.department_id&&t.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.department_id.message})]}),t.jsxs(jn,{children:[t.jsx(de,{type:"button",variant:"outline",onClick:()=>{x(!1),Z()},children:"Cancel"}),t.jsx(de,{type:"submit",disabled:v,children:v?"Adding...":"Add Doctor"})]})]})]})})]})}const Ql={getUsers:async e=>(await Se.get("/admin/users",{params:e})).data,getStatistics:async()=>(await Se.get("/admin/users/statistics")).data,createUser:async e=>(await Se.post("/admin/users",e)).data,getUser:async e=>(await Se.get(`/admin/users/${e}`)).data,updateUser:async(e,n)=>(await Se.put(`/admin/users/${e}`,n)).data,resetPassword:async e=>(await Se.post(`/admin/users/${e}/reset-password`)).data,toggleStatus:async e=>(await Se.post(`/admin/users/${e}/toggle-status`)).data,getUsersByRole:async e=>(await Se.get("/users",{params:{role:e}})).data};var $S="AlertDialog",[Vq,zU]=Sn($S,[w_]),ka=w_(),VS=e=>{const{__scopeAlertDialog:n,...r}=e,l=ka(n);return t.jsx(U_,{...l,...r,modal:!0})};VS.displayName=$S;var Iq="AlertDialogTrigger",Bq=p.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...l}=e,o=ka(r);return t.jsx(EO,{...o,...l,ref:n})});Bq.displayName=Iq;var Hq="AlertDialogPortal",IS=e=>{const{__scopeAlertDialog:n,...r}=e,l=ka(n);return t.jsx(F_,{...l,...r})};IS.displayName=Hq;var Zq="AlertDialogOverlay",BS=p.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...l}=e,o=ka(r);return t.jsx(vx,{...o,...l,ref:n})});BS.displayName=Zq;var ai="AlertDialogContent",[Gq,Yq]=Vq(ai),Xq=QD("AlertDialogContent"),HS=p.forwardRef((e,n)=>{const{__scopeAlertDialog:r,children:l,...o}=e,d=ka(r),u=p.useRef(null),m=yt(n,u),g=p.useRef(null);return t.jsx(SO,{contentName:ai,titleName:ZS,docsSlug:"alert-dialog",children:t.jsx(Gq,{scope:r,cancelRef:g,children:t.jsxs(yx,{role:"alertdialog",...d,...o,ref:m,onOpenAutoFocus:Fe(o.onOpenAutoFocus,x=>{x.preventDefault(),g.current?.focus({preventScroll:!0})}),onPointerDownOutside:x=>x.preventDefault(),onInteractOutside:x=>x.preventDefault(),children:[t.jsx(Xq,{children:l}),t.jsx(Qq,{contentRef:u})]})})})});HS.displayName=ai;var ZS="AlertDialogTitle",GS=p.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...l}=e,o=ka(r);return t.jsx(jx,{...o,...l,ref:n})});GS.displayName=ZS;var YS="AlertDialogDescription",XS=p.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...l}=e,o=ka(r);return t.jsx(bx,{...o,...l,ref:n})});XS.displayName=YS;var Kq="AlertDialogAction",KS=p.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...l}=e,o=ka(r);return t.jsx(Nx,{...o,...l,ref:n})});KS.displayName=Kq;var QS="AlertDialogCancel",WS=p.forwardRef((e,n)=>{const{__scopeAlertDialog:r,...l}=e,{cancelRef:o}=Yq(QS,r),d=ka(r),u=yt(n,o);return t.jsx(Nx,{...d,...l,ref:u})});WS.displayName=QS;var Qq=({contentRef:e})=>{const n=`\`${ai}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ai}\` by passing a \`${YS}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ai}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(n)},[n,e]),null},Wq=VS,Jq=IS,JS=BS,e2=HS,t2=KS,s2=WS,n2=GS,a2=XS;const zb=Wq,eU=Jq,r2=p.forwardRef(({className:e,...n},r)=>t.jsx(JS,{className:Ce("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...n,ref:r}));r2.displayName=JS.displayName;const Rp=p.forwardRef(({className:e,...n},r)=>t.jsxs(eU,{children:[t.jsx(r2,{}),t.jsx(e2,{ref:r,className:Ce("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n})]}));Rp.displayName=e2.displayName;const Cp=({className:e,...n})=>t.jsx("div",{className:Ce("flex flex-col space-y-2 text-center sm:text-left",e),...n});Cp.displayName="AlertDialogHeader";const Ap=({className:e,...n})=>t.jsx("div",{className:Ce("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...n});Ap.displayName="AlertDialogFooter";const Ep=p.forwardRef(({className:e,...n},r)=>t.jsx(n2,{ref:r,className:Ce("text-lg font-semibold",e),...n}));Ep.displayName=n2.displayName;const Tp=p.forwardRef(({className:e,...n},r)=>t.jsx(a2,{ref:r,className:Ce("text-sm text-muted-foreground",e),...n}));Tp.displayName=a2.displayName;const Dp=p.forwardRef(({className:e,...n},r)=>t.jsx(t2,{ref:r,className:Ce(Xp(),e),...n}));Dp.displayName=t2.displayName;const kp=p.forwardRef(({className:e,...n},r)=>t.jsx(s2,{ref:r,className:Ce(Xp({variant:"outline"}),"mt-2 sm:mt-0",e),...n}));kp.displayName=s2.displayName;const l2=p.forwardRef(({className:e,...n},r)=>t.jsx("div",{className:"relative w-full overflow-auto",children:t.jsx("table",{ref:r,className:Ce("w-full caption-bottom text-sm",e),...n})}));l2.displayName="Table";const i2=p.forwardRef(({className:e,...n},r)=>t.jsx("thead",{ref:r,className:Ce("[&_tr]:border-b",e),...n}));i2.displayName="TableHeader";const o2=p.forwardRef(({className:e,...n},r)=>t.jsx("tbody",{ref:r,className:Ce("[&_tr:last-child]:border-0",e),...n}));o2.displayName="TableBody";const tU=p.forwardRef(({className:e,...n},r)=>t.jsx("tfoot",{ref:r,className:Ce("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...n}));tU.displayName="TableFooter";const Mp=p.forwardRef(({className:e,...n},r)=>t.jsx("tr",{ref:r,className:Ce("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...n}));Mp.displayName="TableRow";const ir=p.forwardRef(({className:e,...n},r)=>t.jsx("th",{ref:r,className:Ce("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...n}));ir.displayName="TableHead";const or=p.forwardRef(({className:e,...n},r)=>t.jsx("td",{ref:r,className:Ce("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...n}));or.displayName="TableCell";const sU=p.forwardRef(({className:e,...n},r)=>t.jsx("caption",{ref:r,className:Ce("mt-4 text-sm text-muted-foreground",e),...n}));sU.displayName="TableCaption";const nU=wn({name:kt().min(1,"Name is required"),email:kt().email("Valid email is required"),role:qu(["CA","MR_STAFF","ADMIN"])}),aU=wn({name:kt().min(1,"Name is required"),email:kt().email("Valid email is required"),role:qu(["CA","MR_STAFF","ADMIN"])});function rU(){const{hasRole:e}=Yt(),{toast:n}=sl(),[r,l]=p.useState([]),[o,d]=p.useState(null),[u,m]=p.useState(!0),[g,x]=p.useState(1),[v,y]=p.useState(1),[N,C]=p.useState(0),[_,j]=p.useState(""),[b,A]=p.useState("all"),[D,S]=p.useState("all"),[q,R]=p.useState("all"),[k,$]=p.useState(!1),[M,Q]=p.useState(!1),[Z,z]=p.useState(!1),[O,Y]=p.useState(!1),[B,P]=p.useState(null),[L,X]=p.useState(!1),H=sa({resolver:na(nU),defaultValues:{name:"",email:"",role:"CA"}}),ie=sa({resolver:na(aU)});if(!e("ADMIN"))return t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs("div",{className:"text-center",children:[t.jsx(kn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),t.jsx("p",{className:"text-gray-600",children:"You don't have permission to access this page."})]})});p.useEffect(()=>{U(),le()},[g,_,b,D,q]);const U=async()=>{try{m(!0);const ce={page:g,per_page:15,search:_||void 0,role:b==="all"?void 0:b,status:D==="all"?void 0:D,password_status:q==="all"?void 0:q,sort_by:"created_at",sort_order:"desc"},Te=await Ql.getUsers(ce);Te.success&&(l(Te.data.data),y(Te.data.last_page),C(Te.data.total))}catch(ce){console.error("Load users error:",ce)}finally{m(!1)}},le=async()=>{try{const ce=await Ql.getStatistics();ce.success&&d(ce.data)}catch(ce){console.error("Load statistics error:",ce)}},K=async ce=>{try{console.log("🔍 Creating user with data:",ce),X(!0);const Te=await Ql.createUser(ce);console.log("🔍 Create user response:",Te),Te.success?(console.log("🔍 User created successfully, showing toast..."),console.log("🔍 Response data:",Te.data),console.log("🔍 Default password:",Te.data.default_password),console.log("🔍 Toast object:",n),n({title:"User Created",description:`User created successfully. Default password: ${Te.data.default_password}`}),console.log("🔍 Toast should have been shown"),$(!1),H.reset(),U(),le()):console.log("🔍 User creation failed:",Te)}catch(Te){console.error("🔍 Error creating user:",Te),n({title:"Error",description:Te.response?.data?.message||"Failed to create user",variant:"destructive"})}finally{X(!1)}},F=async ce=>{if(B)try{X(!0),(await Ql.updateUser(B.id,ce)).success&&(n({title:"User Updated",description:"User updated successfully"}),Q(!1),P(null),U())}catch(Te){n({title:"Error",description:Te.response?.data?.message||"Failed to update user",variant:"destructive"})}finally{X(!1)}},T=async()=>{if(B)try{X(!0);const ce=await Ql.resetPassword(B.id);ce.success&&(n({title:"Password Reset",description:`Password reset successfully. Default password: ${ce.data.default_password}`}),z(!1),P(null),U())}catch(ce){n({title:"Error",description:ce.response?.data?.message||"Failed to reset password",variant:"destructive"})}finally{X(!1)}},re=async()=>{if(B)try{X(!0);const ce=await Ql.toggleStatus(B.id);ce.success&&(n({title:"Status Updated",description:ce.message}),Y(!1),P(null),U(),le())}catch(ce){n({title:"Error",description:ce.response?.data?.message||"Failed to update status",variant:"destructive"})}finally{X(!1)}},ne=ce=>{P(ce),ie.reset({name:ce.name,email:ce.email,role:ce.role}),Q(!0)},me=ce=>{P(ce),z(!0)},Ne=ce=>{P(ce),Y(!0)},ve=ce=>ce?new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",he=ce=>{switch(ce){case"ADMIN":return"destructive";case"MR_STAFF":return"default";case"CA":return"secondary";default:return"outline"}};return t.jsxs("div",{className:"container mx-auto px-4 py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),t.jsx("p",{className:"text-gray-600",children:"Manage system users, roles, and account status"})]}),o&&t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),t.jsx("p",{className:"text-3xl font-bold text-gray-900",children:o.total_users})]}),t.jsx(Gs,{className:"h-8 w-8 text-purple-600"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:o.active_users})]}),t.jsx(Br,{className:"h-8 w-8 text-green-600"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Password Changed"}),t.jsx("p",{className:"text-3xl font-bold text-purple-600",children:o.password_status.changed})]}),t.jsx(uj,{className:"h-8 w-8 text-purple-600"})]})})}),t.jsx(ue,{children:t.jsx(fe,{className:"p-6",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Recent Logins"}),t.jsx("p",{className:"text-3xl font-bold text-purple-600",children:o.recent_logins})]}),t.jsx(rt,{className:"h-8 w-8 text-purple-600"})]})})})]}),t.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[t.jsxs(de,{onClick:()=>$(!0),className:"flex items-center gap-2",children:[t.jsx(iD,{className:"h-4 w-4"}),"Add User"]}),t.jsxs("div",{className:"flex-1 flex flex-col lg:flex-row gap-4",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx(Ss,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),t.jsx(Ft,{placeholder:"Search users...",value:_,onChange:ce=>j(ce.target.value),className:"pl-10"})]}),t.jsxs(ht,{value:b,onValueChange:A,children:[t.jsx(ut,{className:"w-full lg:w-40",children:t.jsx(pt,{placeholder:"All Roles"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Roles"}),t.jsx(we,{value:"CA",children:"CA"}),t.jsx(we,{value:"MR_STAFF",children:"MR Staff"}),t.jsx(we,{value:"ADMIN",children:"Admin"})]})]}),t.jsxs(ht,{value:D,onValueChange:ce=>S(ce),children:[t.jsx(ut,{className:"w-full lg:w-40",children:t.jsx(pt,{placeholder:"All Status"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All Status"}),t.jsx(we,{value:"active",children:"Active"}),t.jsx(we,{value:"inactive",children:"Inactive"})]})]}),t.jsxs(ht,{value:q,onValueChange:ce=>R(ce),children:[t.jsx(ut,{className:"w-full lg:w-40",children:t.jsx(pt,{placeholder:"Password Status"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"all",children:"All"}),t.jsx(we,{value:"changed",children:"Changed"}),t.jsx(we,{value:"not_changed",children:"Not Changed"})]})]})]})]}),t.jsxs(ue,{children:[t.jsxs(Ie,{children:[t.jsxs(Be,{children:["Users (",N,")"]}),t.jsx(ot,{children:"Manage system users and their permissions"})]}),t.jsx(fe,{children:u?t.jsx("div",{className:"space-y-4",children:[...Array(5)].map((ce,Te)=>t.jsxs("div",{className:"flex items-center space-x-4",children:[t.jsx(Pe,{className:"h-12 w-12 rounded-full"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(Pe,{className:"h-4 w-[250px]"}),t.jsx(Pe,{className:"h-4 w-[200px]"})]})]},Te))}):t.jsxs(t.Fragment,{children:[t.jsxs(l2,{children:[t.jsx(i2,{children:t.jsxs(Mp,{children:[t.jsx(ir,{children:"User"}),t.jsx(ir,{children:"Role"}),t.jsx(ir,{children:"Status"}),t.jsx(ir,{children:"Password"}),t.jsx(ir,{children:"Last Login"}),t.jsx(ir,{children:"Created"}),t.jsx(ir,{className:"text-right",children:"Actions"})]})}),t.jsx(o2,{children:r.map(ce=>t.jsxs(Mp,{children:[t.jsx(or,{children:t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:ce.name}),t.jsx("div",{className:"text-sm text-gray-500",children:ce.email})]})}),t.jsx(or,{children:t.jsx(Ee,{variant:he(ce.role),children:ce.role})}),t.jsx(or,{children:ce.is_active?t.jsxs(Ee,{variant:"default",className:"bg-green-100 text-green-800",children:[t.jsx(Br,{className:"h-3 w-3 mr-1"}),"Active"]}):t.jsxs(Ee,{variant:"secondary",className:"bg-red-100 text-red-800",children:[t.jsx(cD,{className:"h-3 w-3 mr-1"}),"Inactive"]})}),t.jsx(or,{children:ce.password_changed?t.jsxs(Ee,{variant:"default",className:"bg-green-100 text-green-800",children:[t.jsx(uj,{className:"h-3 w-3 mr-1"}),"Changed"]}):t.jsxs(Ee,{variant:"destructive",children:[t.jsx(XT,{className:"h-3 w-3 mr-1"}),"Default"]})}),t.jsx(or,{className:"text-sm text-gray-500",children:ve(ce.last_login_at)}),t.jsx(or,{className:"text-sm text-gray-500",children:ve(ce.created_at)}),t.jsx(or,{className:"text-right",children:t.jsxs(Du,{children:[t.jsx(ku,{asChild:!0,children:t.jsx(de,{variant:"ghost",className:"h-8 w-8 p-0",children:t.jsx(TN,{className:"h-4 w-4"})})}),t.jsxs(Mu,{align:"end",children:[t.jsxs(fs,{onClick:()=>ne(ce),children:[t.jsx(Hp,{className:"h-4 w-4 mr-2"}),"Edit"]}),t.jsxs(fs,{onClick:()=>me(ce),children:[t.jsx(MN,{className:"h-4 w-4 mr-2"}),"Reset Password"]}),t.jsx(fs,{onClick:()=>Ne(ce),children:ce.is_active?t.jsxs(t.Fragment,{children:[t.jsx(LT,{className:"h-4 w-4 mr-2"}),"Deactivate"]}):t.jsxs(t.Fragment,{children:[t.jsx(UT,{className:"h-4 w-4 mr-2"}),"Activate"]})})]})]})})]},ce.id))})]}),v>1&&t.jsxs("div",{className:"flex items-center justify-between mt-6",children:[t.jsxs("div",{className:"text-sm text-gray-500",children:["Showing page ",g," of ",v]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(de,{variant:"outline",size:"sm",onClick:()=>x(g-1),disabled:g===1,children:"Previous"}),t.jsx(de,{variant:"outline",size:"sm",onClick:()=>x(g+1),disabled:g===v,children:"Next"})]})]})]})})]}),t.jsx(qn,{open:k,onOpenChange:$,children:t.jsxs(vn,{children:[t.jsxs(yn,{children:[t.jsx(bn,{children:"Create New User"}),t.jsx(Nn,{children:"Create a new user account with the specified role."})]}),t.jsxs("form",{onSubmit:H.handleSubmit(ce=>{console.log("🔍 Form submitted with data:",ce),console.log("🔍 Form errors:",H.formState.errors),K(ce)}),children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"name",children:"Name"}),t.jsx(Ft,{id:"name",...H.register("name"),placeholder:"Enter full name"}),H.formState.errors.name&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:H.formState.errors.name.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"email",children:"Email"}),t.jsx(Ft,{id:"email",type:"email",...H.register("email"),placeholder:"Enter email address"}),H.formState.errors.email&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:H.formState.errors.email.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"role",children:"Role"}),t.jsxs(ht,{value:H.watch("role"),onValueChange:ce=>H.setValue("role",ce),children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select role"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"CA",children:"Clinic Assistant (CA)"}),t.jsx(we,{value:"MR_STAFF",children:"Medical Records Staff (MR)"}),t.jsx(we,{value:"ADMIN",children:"Administrator"})]})]}),H.formState.errors.role&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:H.formState.errors.role.message})]})]}),t.jsxs(jn,{className:"mt-6",children:[t.jsx(de,{type:"button",variant:"outline",onClick:()=>$(!1),disabled:L,children:"Cancel"}),t.jsx(de,{type:"submit",disabled:L,children:L?"Creating...":"Create User"})]})]})]})}),t.jsx(qn,{open:M,onOpenChange:Q,children:t.jsxs(vn,{children:[t.jsxs(yn,{children:[t.jsx(bn,{children:"Edit User"}),t.jsx(Nn,{children:"Update user information and role."})]}),t.jsxs("form",{onSubmit:ie.handleSubmit(F),children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(It,{htmlFor:"edit-name",children:"Name"}),t.jsx(Ft,{id:"edit-name",...ie.register("name"),placeholder:"Enter full name"}),ie.formState.errors.name&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:ie.formState.errors.name.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"edit-email",children:"Email"}),t.jsx(Ft,{id:"edit-email",type:"email",...ie.register("email"),placeholder:"Enter email address"}),ie.formState.errors.email&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:ie.formState.errors.email.message})]}),t.jsxs("div",{children:[t.jsx(It,{htmlFor:"edit-role",children:"Role"}),t.jsxs(ht,{value:ie.watch("role"),onValueChange:ce=>ie.setValue("role",ce),children:[t.jsx(ut,{children:t.jsx(pt,{placeholder:"Select role"})}),t.jsxs(ft,{children:[t.jsx(we,{value:"CA",children:"Clinic Assistant (CA)"}),t.jsx(we,{value:"MR_STAFF",children:"Medical Records Staff (MR)"}),t.jsx(we,{value:"ADMIN",children:"Administrator"})]})]}),ie.formState.errors.role&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:ie.formState.errors.role.message})]})]}),t.jsxs(jn,{className:"mt-6",children:[t.jsx(de,{type:"button",variant:"outline",onClick:()=>Q(!1),disabled:L,children:"Cancel"}),t.jsx(de,{type:"submit",disabled:L,children:L?"Updating...":"Update User"})]})]})]})}),t.jsx(zb,{open:Z,onOpenChange:z,children:t.jsxs(Rp,{children:[t.jsxs(Cp,{children:[t.jsx(Ep,{children:"Reset Password"}),t.jsxs(Tp,{children:["This will reset the password for ",t.jsx("strong",{children:B?.name})," to the default password. The user will be required to change it on their next login."]})]}),t.jsxs(Ap,{children:[t.jsx(kp,{disabled:L,children:"Cancel"}),t.jsx(Dp,{onClick:T,disabled:L,className:"bg-red-600 hover:bg-red-700",children:L?"Resetting...":"Reset Password"})]})]})}),t.jsx(zb,{open:O,onOpenChange:Y,children:t.jsxs(Rp,{children:[t.jsxs(Cp,{children:[t.jsx(Ep,{children:B?.is_active?"Deactivate User":"Activate User"}),t.jsx(Tp,{children:B?.is_active?`This will deactivate the account for ${B.name}. They will not be able to log in until reactivated.`:`This will activate the account for ${B?.name}. They will be able to log in again.`})]}),t.jsxs(Ap,{children:[t.jsx(kp,{disabled:L,children:"Cancel"}),t.jsx(Dp,{onClick:re,disabled:L,className:B?.is_active?"bg-red-600 hover:bg-red-700":"bg-green-600 hover:bg-green-700",children:L?"Updating...":B?.is_active?"Deactivate":"Activate"})]})]})})]})}function c2(){return t.jsx("div",{className:"min-h-screen bg-canvas flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"flex justify-center mb-4",children:t.jsx("img",{src:"/cnrs.logo.png",alt:"CNRS Logo",className:"h-12 w-auto"})}),t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),t.jsx("p",{className:"text-gray-600",children:"Loading CNRS..."})]})})}function lU({children:e}){const{isAuthenticated:n,loading:r}=Yt();return r?t.jsx(c2,{}):n?t.jsx(t.Fragment,{children:e}):t.jsx(Fd,{to:"/login",replace:!0})}function iU({children:e}){const{isAuthenticated:n,loading:r}=Yt();return r?t.jsx(c2,{}):n?t.jsx(Fd,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:e})}function oU(){return t.jsx(Y4,{children:t.jsxs(S4,{children:[t.jsx(Vt,{path:"/login",element:t.jsx(iU,{children:t.jsx(r8,{})})}),t.jsxs(Vt,{path:"/",element:t.jsx(lU,{children:t.jsx(n8,{})}),children:[t.jsx(Vt,{path:"dashboard",element:t.jsx(f8,{})}),t.jsx(Vt,{path:"requests",element:t.jsx(m8,{})}),t.jsx(Vt,{path:"requests/new",element:t.jsx(Q8,{})}),t.jsx(Vt,{path:"requests/:id",element:t.jsx(J8,{})}),t.jsx(Vt,{path:"my-requests",element:t.jsx(vq,{})}),t.jsx(Vt,{path:"admin/patients",element:t.jsx(hq,{})}),t.jsx(Vt,{path:"admin/doctors",element:t.jsx($q,{})}),t.jsx(Vt,{path:"admin/case-note-search",element:t.jsx(yq,{})}),t.jsx(Vt,{path:"users",element:t.jsx(rU,{})}),t.jsx(Vt,{path:"batch-requests",element:t.jsx(kb,{})}),t.jsx(Vt,{path:"batch-requests/:id",element:t.jsx(kb,{})}),t.jsx(Vt,{path:"individual-requests",element:t.jsx(Mb,{})}),t.jsx(Vt,{path:"individual-requests/:id",element:t.jsx(Mb,{})}),t.jsx(Vt,{path:"verify-case-notes",element:t.jsx(Dq,{})}),t.jsx(Vt,{path:"return-case-notes",element:t.jsx(zq,{})}),t.jsx(Vt,{path:"mrs-case-note-requests",element:t.jsx(Pq,{})}),t.jsx(Vt,{path:"mrs-returned-case-notes",element:t.jsx(Lq,{})}),t.jsx(Vt,{path:"case-note-timeline",element:t.jsx(qq,{})}),t.jsx(Vt,{path:"handover-requests",element:t.jsx(Uq,{})}),t.jsx(Vt,{index:!0,element:t.jsx(Fd,{to:"/dashboard",replace:!0})})]}),t.jsx(Vt,{path:"*",element:t.jsx(Fd,{to:"/dashboard",replace:!0})})]})})}function cU(){return t.jsx(zE,{children:t.jsxs(PE,{children:[t.jsx(oU,{}),t.jsx(XD,{})]})})}DC.createRoot(document.getElementById("root")).render(t.jsx(p.StrictMode,{children:t.jsx(cU,{})}));
